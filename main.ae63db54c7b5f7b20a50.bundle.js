webpackJsonp([1],{0:function(e,t,n){e.exports=n("cDNt")},"05/P":function(e,t,n){"use strict";var i=n("2K0D"),r=n("WJ2g"),s=n("xEcM"),o=n("gwp7"),l=n("CdVW"),a=n("Hwfe");class h{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const t=new h;return t.source=this,t.operator=e,t}subscribe(e,t,n){const{operator:i}=this,l=function(e,t,n){if(e){if(e instanceof r.a)return e;if(e[s.a])return e[s.a]()}return e||t||n?new r.a(e,t,n):new r.a(o.a)}(e,t,n);if(i?i.call(l,this.source):l.add(this.source||!l.syncErrorThrowable?this._subscribe(l):this._trySubscribe(l)),l.syncErrorThrowable&&(l.syncErrorThrowable=!1,l.syncErrorThrown))throw l.syncErrorValue;return l}_trySubscribe(e){try{return this._subscribe(e)}catch(t){e.syncErrorThrown=!0,e.syncErrorValue=t,e.error(t)}}forEach(e,t){if(t||(i.a.Rx&&i.a.Rx.config&&i.a.Rx.config.Promise?t=i.a.Rx.config.Promise:i.a.Promise&&(t=i.a.Promise)),!t)throw new Error("no Promise impl found");return new t((t,n)=>{let i;i=this.subscribe(t=>{if(i)try{e(t)}catch(e){n(e),i.unsubscribe()}else e(t)},n,t)})}_subscribe(e){return this.source.subscribe(e)}[l.a](){return this}pipe(...e){return 0===e.length?this:Object(a.b)(e)(this)}toPromise(e){if(e||(i.a.Rx&&i.a.Rx.config&&i.a.Rx.config.Promise?e=i.a.Rx.config.Promise:i.a.Promise&&(e=i.a.Promise)),!e)throw new Error("no Promise impl found");return new e((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}t.a=h,h.create=(e=>new h(e))},"0mJR":function(e,t,n){"use strict";function i(e){return e.reduce((e,t)=>e.concat(t instanceof h?t.errors:t),[])}var r=n("ElHI"),s=n("tiL7"),o=n("GcAb"),l=n("CLKv"),a=n("jLix");class h extends Error{constructor(e){super(),this.errors=e;const t=Error.call(this,e?`${e.length} errors occurred during unsubscription:\n  ${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"");this.name=t.name="UnsubscriptionError",this.stack=t.stack,this.message=t.message}}class u{constructor(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e,t=!1;if(this.closed)return;let{_parent:n,_parents:u,_unsubscribe:c,_subscriptions:d}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let g=-1,p=u?u.length:0;for(;n;)n.remove(this),n=++g<p&&u[g]||null;if(Object(o.a)(c)&&Object(l.a)(c).call(this)===a.a&&(t=!0,e=e||(a.a.e instanceof h?i(a.a.e.errors):[a.a.e])),Object(r.a)(d))for(g=-1,p=d.length;++g<p;){const n=d[g];if(Object(s.a)(n)&&Object(l.a)(n.unsubscribe).call(n)===a.a){t=!0,e=e||[];let n=a.a.e;n instanceof h?e=e.concat(i(n.errors)):e.push(n)}}if(t)throw new h(e)}add(e){if(!e||e===u.EMPTY)return u.EMPTY;if(e===this)return this;let t=e;switch(typeof e){case"function":t=new u(e);case"object":if(t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if("function"!=typeof t._addParent){const e=t;(t=new u)._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(t),t._addParent(this),t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}_addParent(e){let{_parent:t,_parents:n}=this;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e}}t.a=u,u.EMPTY=function(e){return e.closed=!0,e}(new u)},"1GK5":function(e,t,n){"use strict";(function(e){function i(e,t,n,i){function s(e){if(this instanceof s)return o.call(this,e),this;const t=new s(e),n=function(e){return(e.hasOwnProperty(On)?e[On]:Object.defineProperty(e,On,{value:[]})[On]).push(t),e};return i&&i(n),n}const o=r(t);return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s}function r(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function s(e,t,n){function i(...e){function t(e,t,i){const r=e.hasOwnProperty(Vn)?e[Vn]:Object.defineProperty(e,Vn,{value:[]})[Vn];for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(n),e}if(this instanceof i)return s.apply(this,e),this;const n=new i(...e);return t.annotation=n,t}const s=r(t);return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}function o(e,t,n){function i(...e){if(this instanceof i)return s.apply(this,e),this;const t=new i(...e);return function(e,n){const i=e.constructor,r=i.hasOwnProperty(Hn)?i[Hn]:Object.defineProperty(i,Hn,{value:{}})[Hn];r[n]=r.hasOwnProperty(n)&&r[n]||[],r[n].unshift(t)}}const s=r(t);return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}function l(){if(!Qn){const e=Zn.Symbol;if(e&&e.iterator)Qn=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Qn=n)}}}return Qn}function a(e){Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function h(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function u(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(u).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function c(e){return e.__forward_ref__=c,e.toString=function(){return u(this())},e}function d(e){return"function"==typeof e&&e.hasOwnProperty("__forward_ref__")&&e.__forward_ref__===c?e():e}function g(e){return m("Cannot mix multi providers and regular providers",e)}function p(e,t){if(t)if((t=d(t))instanceof Array)for(let n=0;n<t.length;n++)p(e,t[n]);else{if("function"==typeof t)throw m("Function/Class not supported",t);if(!t||"object"!=typeof t||!t.provide)throw m("Unexpected provider",t);{let n=d(t.provide);const i=function(e){const t=function(e){let t=ni;const n=e.deps;if(n&&n.length){t=[];for(let e=0;e<n.length;e++){let i=6,r=d(n[e]);if(r instanceof Array)for(let e=0,t=r;e<t.length;e++){const n=t[e];n instanceof $n||n==$n?i|=1:n instanceof qn||n==qn?i&=-3:n instanceof Wn||n==Wn?i&=-5:r=n instanceof Gn?n.token:d(n)}t.push({token:r,options:i})}}else if(e.useExisting)t=[{token:d(e.useExisting),options:6}];else if(!(n||li in e))throw m("'deps' required",e);return t}(e);let n=ti,i=ni,r=!1,s=d(e.provide);if(li in e)i=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)r=!0,n=d(e.useClass);else{if("function"!=typeof s)throw m("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);r=!0,n=s}return{deps:t,fn:n,useNew:r,value:i}}(t);if(!0===t.multi){let i=e.get(n);if(i){if(i.fn!==ri)throw g(n)}else e.set(n,i={token:t.provide,deps:[],useNew:!1,fn:ri,value:ni});i.deps.push({token:n=t,options:6})}const r=e.get(n);if(r&&r.fn==ri)throw g(n);e.set(n,i)}}}function f(e,t,n,i,r){try{return function(e,t,n,i,r){let s;if(t){if((s=t.value)==ii)throw Error(di+"Circular dependency");if(s===ni){t.value=ii;let e=t.useNew,r=t.fn,o=t.deps,l=ni;if(o.length){l=[];for(let e=0;e<o.length;e++){const t=o[e],r=t.options,s=2&r?n.get(t.token):void 0;l.push(f(t.token,s,n,s||4&r?i:ui,1&r?null:ei.THROW_IF_NOT_FOUND))}}t.value=s=e?new r(...l):r.apply(void 0,l)}}else s=i.get(e,r);return s}(e,t,n,i,r)}catch(n){throw n instanceof Error||(n=new Error(n)),(n[hi]=n[hi]||[]).unshift(e),t&&t.value==ii&&(t.value=ni),n}}function _(e,t){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==di?e.substr(2):e;let n=u(t);if(t instanceof Array)n=t.map(u).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let i=t[n];e.push(n+":"+("string"==typeof i?JSON.stringify(i):u(i)))}n=`{${e.join(", ")}}`}return`StaticInjectorError[${n}]: ${e.replace(ci,"\n  ")}`}function m(e,t){return new Error(_(e,t))}function w(e){return e[gi]}function v(e){return e[pi]}function C(e){return e.length>1?" ("+function(e){const t=[];for(let n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map(e=>u(e.token)).join(" -> ")+")":""}function y(e,t,n,i){const r=[t],s=n(r),o=i?function(e,t){const n=`${s} caused by: ${t instanceof Error?t.message:t}`,i=Error(n);return i[pi]=t,i}(0,i):Error(s);return o.addKey=b,o.keys=r,o.injectors=[e],o.constructResolvingMessage=n,o[pi]=i,o}function b(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function E(e,t){const n=[];for(let i=0,r=t.length;i<r;i++){const e=t[i];n.push(e&&0!=e.length?e.map(u).join(" "):"?")}return Error("Cannot resolve all parameters for '"+u(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+u(e)+"' is decorated with Injectable.")}function x(e,t){return Error(`Cannot mix multi providers and regular providers, got: ${e} ${t}`)}function S(e){return"function"==typeof e}function R(e){return e?e.map(e=>new(0,e.type.annotationCls)(...e.args?e.args:[])):[]}function T(e){const t=Object.getPrototypeOf(e.prototype);return(t?t.constructor:null)||Object}function A(e){return new xi(mi.get(e.provide),[function(e){let t,n;if(e.useClass){const i=d(e.useClass);t=yi.factory(i),n=I(i)}else e.useExisting?(t=(e=>e),n=[bi.fromKey(mi.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function(e,t){if(t){const n=t.map(e=>[e]);return t.map(t=>k(e,t,n))}return I(e)}(e.useFactory,e.deps)):(t=(()=>e.useValue),n=Ei);return new class{constructor(e,t){this.factory=e,this.dependencies=t}}(t,n)}(e)],e.multi||!1)}function M(e,t){return e.forEach(e=>{if(e instanceof vi)t.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)t.push(e);else{if(!(e instanceof Array))throw function(e){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${e}`)}(e);M(e,t)}}),t}function I(e){const t=yi.parameters(e);if(!t)return[];if(t.some(e=>null==e))throw E(e,t);return t.map(n=>k(e,n,t))}function k(e,t,n){let i=null,r=!1;if(!Array.isArray(t))return P(t instanceof Gn?t.token:t,r,null);let s=null;for(let o=0;o<t.length;++o){const e=t[o];e instanceof vi?i=e:e instanceof Gn?i=e.token:e instanceof $n?r=!0:e instanceof Wn||e instanceof qn?s=e:e instanceof Dn&&(i=e)}if(null!=(i=d(i)))return P(i,r,s);throw E(e,n)}function P(e,t,n){return new bi(mi.get(e),t,n)}function N(e){return!!e&&"function"==typeof e.then}function D(e){return!!e&&"function"==typeof e.subscribe}function O(){return`${V()}${V()}${V()}`}function V(){return String.fromCharCode(97+Math.floor(25*Math.random()))}function H(){throw new Error("Runtime compiler is not loaded")}function z(e){const t=Error(`No component factory found for ${u(e)}. Did you add it to @NgModule.entryComponents?`);return t[zi]=e,t}function L(){}function F(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function j(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function B(e){e._nesting--,F(e)}function U(e){nr=e}function G(){if(rr)throw new Error("Cannot enable prod mode after platform setup.");ir=!1}function $(){return rr=!0,ir}function W(e,t,n=[]){const i=new Dn(`Platform: ${t}`);return(t=[])=>{let r=q();return r&&!r.injector.get(sr,!1)||(e?e(n.concat(t).concat({provide:i,useValue:!0})):function(e){if(tr&&!tr.destroyed&&!tr.injector.get(sr,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");tr=e.get(lr);const t=e.get(ki,null);t&&t.forEach(e=>e())}(ei.create(n.concat(t).concat({provide:i,useValue:!0})))),function(e){const t=q();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function q(){return tr&&!tr.destroyed?tr:null}function K(e,t){return e=Array.isArray(t)?t.reduce(K,e):Object.assign({},e,t)}function Y(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function Z(e){return e.reduce((e,t)=>{const n=Array.isArray(t)?Z(t):t;return e.concat(n)},[])}function Q(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}function J(e,t,n){e.childNodes.forEach(e=>{e instanceof Er&&(t(e)&&n.push(e),J(e,t,n))})}function X(e,t,n){e instanceof Er&&e.childNodes.forEach(e=>{t(e)&&n.push(e),e instanceof Er&&X(e,t,n)})}function ee(e){return xr.get(e)||null}function te(e){xr.set(e.nativeNode,e)}function ne(e,t){const n=ie(e),i=ie(t);return n&&i?function(t,n,i){const r=e[l()](),s=n[l()]();for(;;){const e=r.next(),t=s.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!i(e.value,t.value))return!1}}(0,t,ne):!(n||!e||"object"!=typeof e&&"function"!=typeof e||i||!t||"object"!=typeof t&&"function"!=typeof t)||h(e,t)}function ie(e){return!!re(e)&&(Array.isArray(e)||!(e instanceof Map)&&l()in e)}function re(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function se(e,t,n){const i=e.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}function oe(){return Pr}function le(){return Nr}function ae(e){return e||"en-US"}function he(e,t,n){const i=e.state,r=1792&i;return r===t?(e.state=-1793&i|n,e.initIndex=-1,!0):r===n}function ue(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function ce(e,t){return e.nodes[t]}function de(e,t){return e.nodes[t]}function ge(e,t){return e.nodes[t]}function pe(e,t){return e.nodes[t]}function fe(e,t){return e.nodes[t]}function _e(e,t,n,i){let r=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return i&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return me(n,t),n}(r,e)}function me(e,t){e[gi]=t,e[fi]=t.logError.bind(t)}function we(e){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${e}`)}function ve(e){let t=jr.get(e);return t||(t=u(e)+"_"+jr.size,jr.set(e,t)),t}function Ce(e){return{id:Br,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}function ye(e,t,n,i){return!(!(2&e.state)&&h(e.oldValues[t.bindingIndex+n],i))}function be(e,t,n,i){return!!ye(e,t,n,i)&&(e.oldValues[t.bindingIndex+n]=i,!0)}function Ee(e,t,n,i){const r=e.oldValues[t.bindingIndex+n];if(1&e.state||!ne(r,i))throw _e(Lr.createDebugContext(e,t.nodeIndex),r,i,0!=(1&e.state))}function xe(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Se(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function Re(e,t,n,i){try{return xe(33554432&e.def.nodes[t].flags?de(e,t).componentView:e),Lr.handleEvent(e,t,n,i)}catch(t){e.root.errorHandler.handleError(t)}}function Te(e){return e.parent?de(e.parent,e.parentNodeDef.nodeIndex):null}function Ae(e){return e.parent?e.parentNodeDef.parent:null}function Me(e,t){switch(201347067&t.flags){case 1:return de(e,t.nodeIndex).renderElement;case 2:return ce(e,t.nodeIndex).renderText}}function Ie(e,t){return e?`${e}:${t}`:t}function ke(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Pe(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function Ne(e){const t={};let n=0;const i={};return e&&e.forEach(([e,r])=>{"number"==typeof e?(t[e]=r,n|=1<<e%32):i[e]=r}),{matchedQueries:t,references:i,matchedQueryIds:n}}function De(e){return e.map(e=>{let t,n;return Array.isArray(e)?[n,t]=e:(n=0,t=e),{flags:n,token:t,tokenKey:ve(t)}})}function Oe(e,t,n){let i=n.renderParent;return i?0==(1&i.flags)||0==(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===jn.Native?de(e,n.renderParent.nodeIndex).renderElement:void 0:t}function Ve(e){let t=$r.get(e);return t||((t=e(()=>Fr)).factory=e,$r.set(e,t)),t}function He(e,t,n,i,r){3===t&&(n=e.renderer.parentNode(Me(e,e.def.lastRenderRootNode))),ze(e,t,0,e.def.nodes.length-1,n,i,r)}function ze(e,t,n,i,r,s,o){for(let l=n;l<=i;l++){const n=e.def.nodes[l];11&n.flags&&Fe(e,n,t,r,s,o),l+=n.childCount}}function Le(e,t,n,i,r,s){let o=e;for(;o&&!ke(o);)o=o.parent;const l=o.parent,a=Ae(o),h=a.nodeIndex+a.childCount;for(let u=a.nodeIndex+1;u<=h;u++){const e=l.def.nodes[u];e.ngContentIndex===t&&Fe(l,e,n,i,r,s),u+=e.childCount}if(!l.parent){const o=e.root.projectableNodes[t];if(o)for(let t=0;t<o.length;t++)je(e,o[t],n,i,r,s)}}function Fe(e,t,n,i,r,s){if(8&t.flags)Le(e,t.ngContent.index,n,i,r,s);else{const o=Me(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&je(e,o,n,i,r,s),32&t.bindingFlags&&je(de(e,t.nodeIndex).componentView,o,n,i,r,s)):je(e,o,n,i,r,s),16777216&t.flags){const o=de(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<o.length;e++)He(o[e],n,i,r,s)}1&t.flags&&!t.element.name&&ze(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,i,r,s)}}function je(e,t,n,i,r,s){const o=e.renderer;switch(n){case 1:o.appendChild(i,t);break;case 2:o.insertBefore(i,t,r);break;case 3:o.removeChild(i,t);break;case 0:s.push(t)}}function Be(e){if(":"===e[0]){const t=e.match(Wr);return[t[1],t[2]]}return["",e]}function Ue(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}function Ge(e,t,n,i,r,s){e|=1;const{matchedQueries:o,references:l,matchedQueryIds:a}=Ne(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:a,references:l,ngContentIndex:n,childCount:i,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:s?Ve(s):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||Fr},provider:null,text:null,query:null,ngContent:null}}function $e(e,t,n,i,r,s,o=[],l,a,h,u,c){h||(h=Fr);const{matchedQueries:d,references:g,matchedQueryIds:p}=Ne(n);let f=null,_=null;s&&([f,_]=Be(s)),l=l||[];const m=new Array(l.length);for(let C=0;C<l.length;C++){const[e,t,n]=l[C],[i,r]=Be(t);let s=void 0,o=void 0;switch(15&e){case 4:o=n;break;case 1:case 8:s=n}m[C]={flags:e,ns:i,name:r,nonMinifiedName:r,securityContext:s,suffix:o}}a=a||[];const w=new Array(a.length);for(let C=0;C<a.length;C++){const[e,t]=a[C];w[C]={type:0,target:e,eventName:t,propName:null}}const v=(o=o||[]).map(([e,t])=>{const[n,i]=Be(e);return[n,i,t]});return c=function(e){if(e&&e.id===Br){const t=null!=e.encapsulation&&e.encapsulation!==jn.None||e.styles.length||Object.keys(e.data).length;e.id=t?`c${Gr++}`:Ur}return e&&e.id===Ur&&(e=null),e||null}(c),u&&(t|=33554432),t|=1,{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:p,references:g,ngContentIndex:i,childCount:r,bindings:m,bindingFlags:Ue(m),outputs:w,element:{ns:f,name:_,attrs:v,template:null,componentProvider:null,componentView:u||null,componentRendererType:c,publicProviders:null,allProviders:null,handleEvent:h||Fr},provider:null,text:null,query:null,ngContent:null}}function We(e,t,n){const i=n.element,r=e.root.selectorOrNode,s=e.renderer;let o;if(e.parent||!r){o=i.name?s.createElement(i.name,i.ns):s.createComment("");const r=Oe(e,t,n);r&&s.appendChild(r,o)}else o=s.selectRootElement(r);if(i.attrs)for(let l=0;l<i.attrs.length;l++){const[e,t,n]=i.attrs[l];s.setAttribute(o,t,n,e)}return o}function qe(e,t,n,i){for(let r=0;r<n.outputs.length;r++){const s=n.outputs[r],o=function(e,t,n){return i=>Re(e,t,n,i)}(e,n.nodeIndex,Ie(s.target,s.eventName));let l=s.target,a=e;"component"===s.target&&(l=null,a=t);const h=a.renderer.listen(l||i,s.eventName,o);e.disposables[n.outputIndex+r]=h}}function Ke(e,t,n,i){if(!be(e,t,n,i))return!1;const r=t.bindings[n],s=de(e,t.nodeIndex),o=s.renderElement,l=r.name;switch(15&r.flags){case 1:!function(e,t,n,i,s,o){const l=r.securityContext;let a=l?e.root.sanitizer.sanitize(l,o):o;a=null!=a?a.toString():null;const h=e.renderer;null!=o?h.setAttribute(n,s,a,i):h.removeAttribute(n,s,i)}(e,0,o,r.ns,l,i);break;case 2:!function(t,n,r,s){const o=e.renderer;i?o.addClass(n,r):o.removeClass(n,r)}(0,o,l);break;case 4:!function(e,t,n,r,s){let o=e.root.sanitizer.sanitize(Hr.STYLE,i);if(null!=o){o=o.toString();const e=t.suffix;null!=e&&(o+=e)}else o=null;const l=e.renderer;null!=o?l.setStyle(n,r,o):l.removeStyle(n,r)}(e,r,o,l);break;case 8:!function(e,t,n,i,s){const o=r.securityContext;let l=o?e.root.sanitizer.sanitize(o,s):s;e.renderer.setProperty(n,i,l)}(33554432&t.flags&&32&r.flags?s.componentView:e,0,o,l,i)}return!0}function Ye(e,t,n,i){return n=d(n),{index:-1,deps:De(i),flags:e,token:t,value:n}}function Ze(e){const t={};for(let n=0;n<e.length;n++){const i=e[n];i.index=n,t[ve(i.token)]=i}return{factory:null,providersByKey:t,providers:e}}function Qe(e,t,n=ei.THROW_IF_NOT_FOUND){if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const i=t.tokenKey;switch(i){case Kr:case Yr:return e}const r=e._def.providersByKey[i];if(r){let t=e._providers[r.index];return void 0===t&&(t=e._providers[r.index]=Je(e,r)),t===qr?void 0:t}return e._parent.get(t.token,n)}function Je(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const i=n.length;switch(i){case 0:return new t;case 1:return new t(Qe(e,n[0]));case 2:return new t(Qe(e,n[0]),Qe(e,n[1]));case 3:return new t(Qe(e,n[0]),Qe(e,n[1]),Qe(e,n[2]));default:const r=new Array(i);for(let t=0;t<i;t++)r[t]=Qe(e,n[t]);return new t(...r)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const i=n.length;switch(i){case 0:return t();case 1:return t(Qe(e,n[0]));case 2:return t(Qe(e,n[0]),Qe(e,n[1]));case 3:return t(Qe(e,n[0]),Qe(e,n[1]),Qe(e,n[2]));default:const r=Array(i);for(let t=0;t<i;t++)r[t]=Qe(e,n[t]);return t(...r)}}(e,t.value,t.deps);break;case 2048:n=Qe(e,t.deps[0]);break;case 256:n=t.value}return void 0===n?qr:n}function Xe(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const i=n[t];return i.viewContainerParent=null,it(n,t),Lr.dirtyParentQueries(i),tt(i),i}function et(e,t,n){const i=t?Me(t,t.def.lastRenderRootNode):e.renderElement;He(n,2,n.renderer.parentNode(i),n.renderer.nextSibling(i),void 0)}function tt(e){He(e,3,null,null,void 0)}function nt(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function it(e,t){t>=e.length-1?e.pop():e.splice(t,1)}function rt(e,t,n,i,r,s){return new class extends Hi{constructor(e,t,n,i,r,s){super(),this.selector=e,this.componentType=t,this._inputs=i,this._outputs=r,this.ngContentSelectors=s,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t)e.push({propName:n,templateName:t[n]});return e}get outputs(){const e=[];for(let t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}create(e,t,n,i){if(!i)throw new Error("ngModule should be provided");const r=Ve(this.viewDefFactory),s=r.nodes[0].element.componentProvider.nodeIndex,o=Lr.createRootView(e,t||[],n,r,i,Zr),l=ge(o,s).instance;return n&&o.renderer.setAttribute(de(o,0).renderElement,"ng-version",Un.full),new class extends class{}{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new dr(de(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Jr(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}(o,new Qr(o),l)}}(e,t,n,i,r,s)}function st(e,t,n){return new class{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new dr(this._data.renderElement)}get injector(){return new Jr(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=Ae(e),e=e.parent;return e?new Jr(e,t):new Jr(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=Xe(this._data,e);Lr.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new Qr(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const i=e.createEmbeddedView(t||{});return this.insert(i,n),i}createComponent(e,t,n,i,r){const s=n||this.parentInjector;r||e instanceof ji||(r=s.get(Bi));const o=e.create(s,i,void 0,r);return this.insert(o.hostView,t),o}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e;return function(e,t,n,i){let r=t.viewContainer._embeddedViews;null!==n&&void 0!==n||(n=r.length),i.viewContainerParent=e,nt(r,n,i),function(e,t){const n=Te(t);if(!n||n===e||16&t.state)return;t.state|=16;let i=n.template._projectedViews;i||(i=n.template._projectedViews=[]),i.push(t),function(e,t){if(4&t.flags)return;e.nodeFlags|=4,t.flags|=4;let n=t.parent;for(;n;)n.childFlags|=4,n=n.parent}(t.parent.def,t.parentNodeDef)}(t,i),Lr.dirtyParentQueries(i),et(t,n>0?r[n-1]:null,i)}(this._view,this._data,t,n._view),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,i){const r=e.viewContainer._embeddedViews,s=r[n];it(r,n),null==i&&(i=r.length),nt(r,i,s),Lr.dirtyParentQueries(s),tt(s),et(e,i>0?r[i-1]:null,s)}(this._data,0,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=Xe(this._data,e);t&&Lr.destroyView(t)}detach(e){const t=Xe(this._data,e);return t?new Qr(t):null}}(e,t,n)}function ot(e){return new Qr(e)}function lt(e,t){return new class extends vr{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new Qr(Lr.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new dr(de(this._parentView,this._def.nodeIndex).renderElement)}}(e,t)}function at(e,t){return new Jr(e,t)}function ht(e,t){const n=e.def.nodes[t];if(1&n.flags){const t=de(e,n.nodeIndex);return n.element.template?t.template:t.renderElement}if(2&n.flags)return ce(e,n.nodeIndex).renderText;if(20240&n.flags)return ge(e,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${t}`)}function ut(e){return new class{constructor(e){this.delegate=e}selectRootElement(e){return this.delegate.selectRootElement(e)}createElement(e,t){const[n,i]=Be(t),r=this.delegate.createElement(i,n);return e&&this.delegate.appendChild(e,r),r}createViewRoot(e){return e}createTemplateAnchor(e){const t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}createText(e,t){const n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}projectNodes(e,t){for(let n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}attachViewAfter(e,t){const n=this.delegate.parentNode(e),i=this.delegate.nextSibling(e);for(let r=0;r<t.length;r++)this.delegate.insertBefore(n,t[r],i)}detachView(e){for(let t=0;t<e.length;t++){const n=e[t],i=this.delegate.parentNode(n);this.delegate.removeChild(i,n)}}destroyView(e,t){for(let n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}listen(e,t,n){return this.delegate.listen(e,t,n)}listenGlobal(e,t,n){return this.delegate.listen(e,t,n)}setElementProperty(e,t,n){this.delegate.setProperty(e,t,n)}setElementAttribute(e,t,n){const[i,r]=Be(t);null!=n?this.delegate.setAttribute(e,r,n,i):this.delegate.removeAttribute(e,r,i)}setBindingDebugInfo(e,t,n){}setElementClass(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}setElementStyle(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}invokeElementMethod(e,t,n){e[t].apply(e,n)}setText(e,t){this.delegate.setValue(e,t)}animate(){throw new Error("Renderer.animate is no longer supported!")}}(e.renderer)}function ct(e,t,n,i){return new class{constructor(e,t,n,i){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=i,this._destroyListeners=[],this._destroyed=!1,function(e){const t=e._def,n=e._providers=new Array(t.providers.length);for(let i=0;i<t.providers.length;i++){const r=t.providers[i];4096&r.flags||(n[i]=Je(e,r))}}(this)}get(e,t=ei.THROW_IF_NOT_FOUND){return Qe(this,{token:e,tokenKey:ve(e),flags:0},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Li)}get injector(){return this}destroy(){if(this._destroyed)throw new Error(`The ng module ${u(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const t=e._providers[i];t&&t!==qr&&t.ngOnDestroy()}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}(e,t,n,i)}function dt(e,t,n,i,r,s,o,l){const a=[];if(o)for(let u in o){const[e,t]=o[u];a[e]={flags:8,name:u,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const h=[];if(l)for(let u in l)h.push({type:1,propName:u,target:null,eventName:l[u]});return t|=16384,pt(e,t,n,i,r,r,s,a,h)}function gt(e,t,n,i,r){return pt(-1,e,t,0,n,i,r)}function pt(e,t,n,i,r,s,o,l,a){const{matchedQueries:h,references:u,matchedQueryIds:c}=Ne(n);a||(a=[]),l||(l=[]),s=d(s);const g=De(o);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:h,matchedQueryIds:c,references:u,ngContentIndex:-1,childCount:i,bindings:l,bindingFlags:Ue(l),outputs:a,element:null,provider:{token:r,value:s,deps:g},text:null,query:null,ngContent:null}}function ft(e,t){return wt(e,t)}function _t(e,t){let n=e;for(;n.parent&&!ke(n);)n=n.parent;return vt(n.parent,Ae(n),!0,t.provider.value,t.provider.deps)}function mt(e,t){const n=vt(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(let i=0;i<t.outputs.length;i++){const r=t.outputs[i],s=n[r.propName].subscribe(function(e,t,n){return i=>Re(e,t,n,i)}(e,t.parent.nodeIndex,r.eventName));e.disposables[t.outputIndex+i]=s.unsubscribe.bind(s)}return n}function wt(e,t){const n=(8192&t.flags)>0,i=t.provider;switch(201347067&t.flags){case 512:return vt(e,t.parent,n,i.value,i.deps);case 1024:return function(e,t,n,i,r){const s=r.length;switch(s){case 0:return i();case 1:return i(Ct(e,t,n,r[0]));case 2:return i(Ct(e,t,n,r[0]),Ct(e,t,n,r[1]));case 3:return i(Ct(e,t,n,r[0]),Ct(e,t,n,r[1]),Ct(e,t,n,r[2]));default:const o=Array(s);for(let i=0;i<s;i++)o[i]=Ct(e,t,n,r[i]);return i(...o)}}(e,t.parent,n,i.value,i.deps);case 2048:return Ct(e,t.parent,n,i.deps[0]);case 256:return i.value}}function vt(e,t,n,i,r){const s=r.length;switch(s){case 0:return new i;case 1:return new i(Ct(e,t,n,r[0]));case 2:return new i(Ct(e,t,n,r[0]),Ct(e,t,n,r[1]));case 3:return new i(Ct(e,t,n,r[0]),Ct(e,t,n,r[1]),Ct(e,t,n,r[2]));default:const o=new Array(s);for(let i=0;i<s;i++)o[i]=Ct(e,t,n,r[i]);return new i(...o)}}function Ct(e,t,n,i,r=ei.THROW_IF_NOT_FOUND){if(8&i.flags)return i.token;const s=e;2&i.flags&&(r=null);const o=i.tokenKey;for(o===rs&&(n=!(!t||!t.element.componentView)),t&&1&i.flags&&(n=!1,t=t.parent);e;){if(t)switch(o){case Xr:return ut(yt(e,t,n));case es:return yt(e,t,n).renderer;case ts:return new dr(de(e,t.nodeIndex).renderElement);case ns:return de(e,t.nodeIndex).viewContainer;case is:if(t.element.template)return de(e,t.nodeIndex).template;break;case rs:return ot(yt(e,t,n));case ss:return at(e,t);default:const i=(n?t.element.allProviders:t.element.publicProviders)[o];if(i){let t=ge(e,i.nodeIndex);return t||(t={instance:wt(e,i)},e.nodes[i.nodeIndex]=t),t.instance}}n=ke(e),t=Ae(e),e=e.parent}const l=s.root.injector.get(i.token,os);return l!==os||r===os?l:s.root.ngModule.injector.get(i.token,r)}function yt(e,t,n){let i;if(n)i=de(e,t.nodeIndex).componentView;else for(i=e;i.parent&&!ke(i);)i=i.parent;return i}function bt(e,t,n,i,r,s){if(32768&n.flags){const t=de(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}if(t.instance[n.bindings[i].name]=r,524288&n.flags){s=s||{};let t=e.oldValues[n.bindingIndex+i];t instanceof Sr&&(t=t.wrapped),s[n.bindings[i].nonMinifiedName]=new class{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}(t,r,0!=(2&e.state))}return e.oldValues[n.bindingIndex+i]=r,s}function Et(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let i=0;for(let r=0;r<n.length;r++){const s=n[r];let o=s.parent;for(!o&&s.flags&t&&xt(e,r,s.flags&t,i++),0==(s.childFlags&t)&&(r+=s.childCount);o&&1&o.flags&&r===o.nodeIndex+o.childCount;)o.directChildFlags&t&&(i=function(e,t,n,i){for(let r=t.nodeIndex+1;r<=t.nodeIndex+t.childCount;r++){const t=e.def.nodes[r];t.flags&n&&xt(e,r,t.flags&n,i++),r+=t.childCount}return i}(e,o,t,i)),o=o.parent}}function xt(e,t,n,i){const r=ge(e,t);if(!r)return;const s=r.instance;s&&(Lr.setCurrentNode(e,t),1048576&n&&ue(e,512,i)&&s.ngAfterContentInit(),2097152&n&&s.ngAfterContentChecked(),4194304&n&&ue(e,768,i)&&s.ngAfterViewInit(),8388608&n&&s.ngAfterViewChecked(),131072&n&&s.ngOnDestroy())}function St(){return new class{constructor(){this.dirty=!0,this._results=[],this.changes=new Yi}get length(){return this._results.length}get first(){return this._results[0]}get last(){return this._results[this.length-1]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}[l()](){return this._results[l()]()}toString(){return this._results.toString()}reset(e){this._results=Z(e),this.dirty=!1}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}}function Rt(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&Pe(e);){let n=e.parentNodeDef;e=e.parent;const i=n.nodeIndex+n.childCount;for(let r=0;r<=i;r++){const i=e.def.nodes[r];67108864&i.flags&&536870912&i.flags&&(i.query.filterId&t)===i.query.filterId&&fe(e,r).setDirty(),!(1&i.flags&&r+i.childCount<n.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(r+=i.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&fe(e,n).setDirty(),n+=t.childCount}}function Tt(e,t){const n=fe(e,t.nodeIndex);if(!n.dirty)return;let i,r=void 0;if(67108864&t.flags){const n=t.parent.parent;r=At(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),i=ge(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(r=At(e,0,e.def.nodes.length-1,t.query,[]),i=e.component);n.reset(r);const s=t.query.bindings;let o=!1;for(let l=0;l<s.length;l++){const e=s[l];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,o=!0}i[e.propName]=t}o&&n.notifyOnChanges()}function At(e,t,n,i,r){for(let s=t;s<=n;s++){const t=e.def.nodes[s],n=t.matchedQueries[i.id];if(null!=n&&r.push(Mt(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&i.filterId)===i.filterId){const n=de(e,s);if((t.childMatchedQueries&i.filterId)===i.filterId&&(At(e,s+1,s+t.childCount,i,r),s+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const s=e[t],o=Te(s);o&&o===n&&At(s,0,s.def.nodes.length-1,i,r)}}const o=n.template._projectedViews;if(o)for(let e=0;e<o.length;e++){const t=o[e];At(t,0,t.def.nodes.length-1,i,r)}}(t.childMatchedQueries&i.filterId)!==i.filterId&&(s+=t.childCount)}return r}function Mt(e,t,n){if(null!=n)switch(n){case 1:return de(e,t.nodeIndex).renderElement;case 0:return new dr(de(e,t.nodeIndex).renderElement);case 2:return de(e,t.nodeIndex).template;case 3:return de(e,t.nodeIndex).viewContainer;case 4:return ge(e,t.nodeIndex).instance}}function It(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function kt(e,t,n){const i=Oe(e,t,n);i&&Le(e,n.ngContent.index,1,i,null,void 0)}function Pt(e,t){return function(e,t,n){const i=new Array(n.length);for(let r=0;r<n.length;r++){const e=n[r];i[r]={flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:32,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:i,bindingFlags:Ue(i),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,e,new Array(t))}function Nt(e,t,n){const i=new Array(n.length-1);for(let r=1;r<n.length;r++)i[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:i,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Dt(e,t,n){let i;const r=e.renderer;i=r.createText(n.text.prefix);const s=Oe(e,t,n);return s&&r.appendChild(s,i),{renderText:i}}function Ot(e,t){return(null!=e?e.toString():"")+t.suffix}function Vt(e,t,n,i){let r=0,s=0,o=0,l=0,a=0,h=null,u=null,c=!1,d=!1,g=null;for(let p=0;p<t.length;p++){const e=t[p];if(e.nodeIndex=p,e.parent=h,e.bindingIndex=r,e.outputIndex=s,e.renderParent=u,o|=e.flags,a|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=h?h.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,c=!1,d=!1,e.element.template&&(a|=e.element.template.nodeMatchedQueries)}if(function(e,t,n){const i=t.element&&t.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`);if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const i=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=i&&t.nodeIndex+t.childCount>i)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}(h,e,t.length),r+=e.bindings.length,s+=e.outputs.length,!u&&3&e.flags&&(g=e),20224&e.flags){c||(c=!0,h.element.publicProviders=Object.create(h.element.publicProviders),h.element.allProviders=h.element.publicProviders);const t=0!=(32768&e.flags);0==(8192&e.flags)||t?h.element.publicProviders[ve(e.provider.token)]=e:(d||(d=!0,h.element.allProviders=Object.create(h.element.publicProviders)),h.element.allProviders[ve(e.provider.token)]=e),t&&(h.element.componentProvider=e)}if(h?(h.childFlags|=e.flags,h.directChildFlags|=e.flags,h.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(h.childMatchedQueries|=e.element.template.nodeMatchedQueries)):l|=e.flags,e.childCount>0)h=e,Ht(e)||(u=e);else for(;h&&p===h.nodeIndex+h.childCount;){const e=h.parent;e&&(e.childFlags|=h.childFlags,e.childMatchedQueries|=h.childMatchedQueries),u=(h=e)&&Ht(h)?h.renderParent:h}}return{factory:null,nodeFlags:o,rootNodeFlags:l,nodeMatchedQueries:a,flags:e,nodes:t,updateDirectives:n||Fr,updateRenderer:i||Fr,handleEvent:(e,n,i,r)=>t[n].element.handleEvent(e,i,r),bindingCount:r,outputCount:s,lastRenderRootNode:g}}function Ht(e){return 0!=(1&e.flags)&&null===e.element.name}function zt(e,t,n,i){const r=jt(e.root,e.renderer,e,t,n);return Bt(r,e.component,i),Ut(r),r}function Lt(e,t,n){const i=jt(e,e.renderer,null,null,t);return Bt(i,n,n),Ut(i),i}function Ft(e,t,n,i){const r=t.element.componentRendererType;let s;return s=r?e.root.rendererFactory.createRenderer(i,r):e.root.renderer,jt(e.root,s,e,t.element.componentProvider,n)}function jt(e,t,n,i,r){const s=new Array(r.nodes.length),o=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:n,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:s,state:13,root:e,renderer:t,oldValues:new Array(r.bindingCount),disposables:o,initIndex:-1}}function Bt(e,t,n){e.component=t,e.context=n}function Ut(e){let t;ke(e)&&(t=de(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);const n=e.def,i=e.nodes;for(let r=0;r<n.nodes.length;r++){const s=n.nodes[r];Lr.setCurrentNode(e,r);let o;switch(201347067&s.flags){case 1:const n=We(e,t,s);let l=void 0;if(33554432&s.flags){const t=Ve(s.element.componentView);l=Lr.createComponentView(e,s,t,n)}qe(e,l,s,n),o={renderElement:n,componentView:l,viewContainer:null,template:s.element.template?lt(e,s):void 0},16777216&s.flags&&(o.viewContainer=st(e,s,o));break;case 2:o=Dt(e,t,s);break;case 512:case 1024:case 2048:case 256:(o=i[r])||4096&s.flags||(o={instance:ft(e,s)});break;case 16:o={instance:_t(e,s)};break;case 16384:(o=i[r])||(o={instance:mt(e,s)}),32768&s.flags&&Bt(de(e,s.parent.nodeIndex).componentView,o.instance,o.instance);break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=St();break;case 8:kt(e,t,s),o=void 0}i[r]=o}Qt(e,ls.CreateViewNodes),tn(e,201326592,268435456,0)}function Gt(e){qt(e),Lr.updateDirectives(e,1),Jt(e,ls.CheckNoChanges),Lr.updateRenderer(e,1),Qt(e,ls.CheckNoChanges),e.state&=-97}function $t(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,he(e,0,256),qt(e),Lr.updateDirectives(e,0),Jt(e,ls.CheckAndUpdate),tn(e,67108864,536870912,0);let t=he(e,256,512);Et(e,2097152|(t?1048576:0)),Lr.updateRenderer(e,0),Qt(e,ls.CheckAndUpdate),tn(e,134217728,536870912,0),Et(e,8388608|((t=he(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,he(e,768,1024)}function Wt(e,t,n,i,r,s,o,l,a,h,u,c,d){return 0===n?function(e,t,n,i,r,s,o,l,a,h,u,c){switch(201347067&t.flags){case 1:return function(e,t,i,r,s,o,l,a,h,u,c,d){const g=t.bindings.length;let p=!1;return g>0&&Ke(e,t,0,n)&&(p=!0),g>1&&Ke(e,t,1,r)&&(p=!0),g>2&&Ke(e,t,2,s)&&(p=!0),g>3&&Ke(e,t,3,o)&&(p=!0),g>4&&Ke(e,t,4,l)&&(p=!0),g>5&&Ke(e,t,5,a)&&(p=!0),g>6&&Ke(e,t,6,h)&&(p=!0),g>7&&Ke(e,t,7,u)&&(p=!0),g>8&&Ke(e,t,8,c)&&(p=!0),g>9&&Ke(e,t,9,d)&&(p=!0),p}(e,t,0,i,r,s,o,l,a,h,u,c);case 2:return function(e,t,n,i,r,s,o,l,a,h,u,c){let d=!1;const g=t.bindings,p=g.length;if(p>0&&be(e,t,0,n)&&(d=!0),p>1&&be(e,t,1,i)&&(d=!0),p>2&&be(e,t,2,r)&&(d=!0),p>3&&be(e,t,3,s)&&(d=!0),p>4&&be(e,t,4,o)&&(d=!0),p>5&&be(e,t,5,l)&&(d=!0),p>6&&be(e,t,6,a)&&(d=!0),p>7&&be(e,t,7,h)&&(d=!0),p>8&&be(e,t,8,u)&&(d=!0),p>9&&be(e,t,9,c)&&(d=!0),d){let d=t.text.prefix;p>0&&(d+=Ot(n,g[0])),p>1&&(d+=Ot(i,g[1])),p>2&&(d+=Ot(r,g[2])),p>3&&(d+=Ot(s,g[3])),p>4&&(d+=Ot(o,g[4])),p>5&&(d+=Ot(l,g[5])),p>6&&(d+=Ot(a,g[6])),p>7&&(d+=Ot(h,g[7])),p>8&&(d+=Ot(u,g[8])),p>9&&(d+=Ot(c,g[9]));const f=ce(e,t.nodeIndex).renderText;e.renderer.setValue(f,d)}return d}(e,t,n,i,r,s,o,l,a,h,u,c);case 16384:return function(e,t,n,i,r,s,o,l,a,h,u,c){const d=ge(e,t.nodeIndex),g=d.instance;let p=!1,f=void 0;const _=t.bindings.length;return _>0&&ye(e,t,0,n)&&(p=!0,f=bt(e,d,t,0,n,f)),_>1&&ye(e,t,1,i)&&(p=!0,f=bt(e,d,t,1,i,f)),_>2&&ye(e,t,2,r)&&(p=!0,f=bt(e,d,t,2,r,f)),_>3&&ye(e,t,3,s)&&(p=!0,f=bt(e,d,t,3,s,f)),_>4&&ye(e,t,4,o)&&(p=!0,f=bt(e,d,t,4,o,f)),_>5&&ye(e,t,5,l)&&(p=!0,f=bt(e,d,t,5,l,f)),_>6&&ye(e,t,6,a)&&(p=!0,f=bt(e,d,t,6,a,f)),_>7&&ye(e,t,7,h)&&(p=!0,f=bt(e,d,t,7,h,f)),_>8&&ye(e,t,8,u)&&(p=!0,f=bt(e,d,t,8,u,f)),_>9&&ye(e,t,9,c)&&(p=!0,f=bt(e,d,t,9,c,f)),f&&g.ngOnChanges(f),65536&t.flags&&ue(e,256,t.nodeIndex)&&g.ngOnInit(),262144&t.flags&&g.ngDoCheck(),p}(e,t,n,i,r,s,o,l,a,h,u,c);case 32:case 64:case 128:return function(e,t,n,i,r,s,o,l,a,h,u,c){const d=t.bindings;let g=!1;const p=d.length;if(p>0&&be(e,t,0,n)&&(g=!0),p>1&&be(e,t,1,i)&&(g=!0),p>2&&be(e,t,2,r)&&(g=!0),p>3&&be(e,t,3,s)&&(g=!0),p>4&&be(e,t,4,o)&&(g=!0),p>5&&be(e,t,5,l)&&(g=!0),p>6&&be(e,t,6,a)&&(g=!0),p>7&&be(e,t,7,h)&&(g=!0),p>8&&be(e,t,8,u)&&(g=!0),p>9&&be(e,t,9,c)&&(g=!0),g){const g=pe(e,t.nodeIndex);let f;switch(201347067&t.flags){case 32:f=new Array(d.length),p>0&&(f[0]=n),p>1&&(f[1]=i),p>2&&(f[2]=r),p>3&&(f[3]=s),p>4&&(f[4]=o),p>5&&(f[5]=l),p>6&&(f[6]=a),p>7&&(f[7]=h),p>8&&(f[8]=u),p>9&&(f[9]=c);break;case 64:f={},p>0&&(f[d[0].name]=n),p>1&&(f[d[1].name]=i),p>2&&(f[d[2].name]=r),p>3&&(f[d[3].name]=s),p>4&&(f[d[4].name]=o),p>5&&(f[d[5].name]=l),p>6&&(f[d[6].name]=a),p>7&&(f[d[7].name]=h),p>8&&(f[d[8].name]=u),p>9&&(f[d[9].name]=c);break;case 128:const e=n;switch(p){case 1:f=e.transform(n);break;case 2:f=e.transform(i);break;case 3:f=e.transform(i,r);break;case 4:f=e.transform(i,r,s);break;case 5:f=e.transform(i,r,s,o);break;case 6:f=e.transform(i,r,s,o,l);break;case 7:f=e.transform(i,r,s,o,l,a);break;case 8:f=e.transform(i,r,s,o,l,a,h);break;case 9:f=e.transform(i,r,s,o,l,a,h,u);break;case 10:f=e.transform(i,r,s,o,l,a,h,u,c)}}g.value=f}return g}(e,t,n,i,r,s,o,l,a,h,u,c);default:throw"unreachable"}}(e,t,i,r,s,o,l,a,h,u,c,d):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let i=!1;for(let r=0;r<n.length;r++)Ke(e,t,r,n[r])&&(i=!0);return i}(e,t,n);case 2:return function(e,t,n){const i=t.bindings;let r=!1;for(let s=0;s<n.length;s++)be(e,t,s,n[s])&&(r=!0);if(r){let r="";for(let e=0;e<n.length;e++)r+=Ot(n[e],i[e]);r=t.text.prefix+r;const s=ce(e,t.nodeIndex).renderText;e.renderer.setValue(s,r)}return r}(e,t,n);case 16384:return function(e,t,n){const i=ge(e,t.nodeIndex),r=i.instance;let s=!1,o=void 0;for(let l=0;l<n.length;l++)ye(e,t,l,n[l])&&(s=!0,o=bt(e,i,t,l,n[l],o));return o&&r.ngOnChanges(o),65536&t.flags&&ue(e,256,t.nodeIndex)&&r.ngOnInit(),262144&t.flags&&r.ngDoCheck(),s}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const i=t.bindings;let r=!1;for(let s=0;s<n.length;s++)be(e,t,s,n[s])&&(r=!0);if(r){const r=pe(e,t.nodeIndex);let s;switch(201347067&t.flags){case 32:s=n;break;case 64:s={};for(let e=0;e<n.length;e++)s[i[e].name]=n[e];break;case 128:const e=n[0],r=n.slice(1);s=e.transform(...r)}r.value=s}return r}(e,t,n);default:throw"unreachable"}}(e,t,i)}function qt(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const i=t.nodes[n];if(4&i.flags){const t=de(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const i=t[n];i.state|=32,Se(i,e)}}else 0==(4&i.childFlags)&&(n+=i.childCount)}}function Kt(e,t,n,i,r,s,o,l,a,h,u,c,d){return 0===n?function(e,t,n,r,s,o,l,a,h,u,c,d){const g=t.bindings.length;g>0&&Ee(e,t,0,i),g>1&&Ee(e,t,1,r),g>2&&Ee(e,t,2,s),g>3&&Ee(e,t,3,o),g>4&&Ee(e,t,4,l),g>5&&Ee(e,t,5,a),g>6&&Ee(e,t,6,h),g>7&&Ee(e,t,7,u),g>8&&Ee(e,t,8,c),g>9&&Ee(e,t,9,d)}(e,t,0,r,s,o,l,a,h,u,c,d):function(e,t,n){for(let i=0;i<n.length;i++)Ee(e,t,i,n[i])}(e,t,i),!1}function Yt(e,t){if(fe(e,t.nodeIndex).dirty)throw _e(Lr.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function Zt(e){if(!(128&e.state)){if(Jt(e,ls.Destroy),Qt(e,ls.Destroy),Et(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=Te(e);if(t){const n=t.template._projectedViews;n&&(it(n,n.indexOf(e)),Lr.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode(de(e,n).renderElement):2&t.flags?e.renderer.destroyNode(ce(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&fe(e,n).destroy()}}(e),ke(e)&&e.renderer.destroy(),e.state|=128}}function Qt(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const r=n.nodes[i];33554432&r.flags?Xt(de(e,i).componentView,t):0==(33554432&r.childFlags)&&(i+=r.childCount)}}function Jt(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const r=n.nodes[i];if(16777216&r.flags){const n=de(e,i).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)Xt(n[e],t)}else 0==(16777216&r.childFlags)&&(i+=r.childCount)}}function Xt(e,t){const n=e.state;switch(t){case ls.CheckNoChanges:0==(128&n)&&(12==(12&n)?Gt(e):64&n&&en(e,ls.CheckNoChangesProjectedViews));break;case ls.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Gt(e):64&n&&en(e,t));break;case ls.CheckAndUpdate:0==(128&n)&&(12==(12&n)?$t(e):64&n&&en(e,ls.CheckAndUpdateProjectedViews));break;case ls.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?$t(e):64&n&&en(e,t));break;case ls.Destroy:Zt(e);break;case ls.CreateViewNodes:Ut(e)}}function en(e,t){Jt(e,t),Qt(e,t)}function tn(e,t,n,i){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const r=e.def.nodes.length;for(let s=0;s<r;s++){const r=e.def.nodes[s];if(r.flags&t&&r.flags&n)switch(Lr.setCurrentNode(e,r.nodeIndex),i){case 0:Tt(e,r);break;case 1:Yt(e,r)}r.childFlags&t&&r.childFlags&n||(s+=r.childCount)}}function nn(e,t,n,i,r,s){return Lt(sn(e,r,r.injector.get(hr),t,n),i,s)}function rn(e,t,n,i,r,s){const o=sn(e,r,new class{constructor(e){this.delegate=e}createRenderer(e,t){return new class{constructor(e){this.delegate=e}get data(){return this.delegate.data}destroyNode(e){!function(e){xr.delete(e.nativeNode)}(ee(e)),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),i=An();if(i){const t=new Er(n,null,i);t.name=e,te(t)}return n}createComment(e){const t=this.delegate.createComment(e),n=An();return n&&te(new br(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=An();return n&&te(new br(t,null,n)),t}appendChild(e,t){const n=ee(e),i=ee(t);n&&i&&n instanceof Er&&n.addChild(i),this.delegate.appendChild(e,t)}insertBefore(e,t,n){const i=ee(e),r=ee(t),s=ee(n);i&&r&&i instanceof Er&&i.insertBefore(s,r),this.delegate.insertBefore(e,t,n)}removeChild(e,t){const n=ee(e),i=ee(t);n&&i&&n instanceof Er&&n.removeChild(i),this.delegate.removeChild(e,t)}selectRootElement(e){const t=this.delegate.selectRootElement(e),n=An();return n&&te(new Er(t,null,n)),t}setAttribute(e,t,n,i){const r=ee(e);r&&r instanceof Er&&(r.attributes[i?i+":"+t:t]=n),this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){const i=ee(e);i&&i instanceof Er&&(i.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=ee(e);n&&n instanceof Er&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=ee(e);n&&n instanceof Er&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,i){const r=ee(e);r&&r instanceof Er&&(r.styles[t]=n),this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){const i=ee(e);i&&i instanceof Er&&(i.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const i=ee(e);i&&i instanceof Er&&(i.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const i=ee(e);i&&i.listeners.push(new class{constructor(e,t){this.name=e,this.callback=t}}(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}(r.injector.get(hr)),t,n),l=dn(i);return Tn(cs.create,Lt,null,[o,l,s])}function sn(e,t,n,i,r){const s=t.injector.get(zr),o=t.injector.get(_i);return{ngModule:t,injector:e,projectableNodes:i,selectorOrNode:r,sanitizer:s,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:o}}function on(e,t,n,i){const r=dn(n);return Tn(cs.create,zt,null,[e,t,r,i])}function ln(e,t,n,i){return n=us.get(t.element.componentProvider.provider.token)||dn(n),Tn(cs.create,Ft,null,[e,t,n,i])}function an(e,t,n,i){return ct(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=function(t){let n=!1,i=!1;return 0===hs.size?{hasOverrides:n,hasDeprecatedOverrides:i}:(e.providers.forEach(e=>{const t=hs.get(e.token);3840&e.flags&&t&&(n=!0,i=i||t.deprecatedBehavior)}),{hasOverrides:n,hasDeprecatedOverrides:i})}();return t?(e=e.factory(()=>Fr),function(e){for(let t=0;t<e.providers.length;t++){const i=e.providers[t];n&&(i.flags|=4096);const r=hs.get(i.token);r&&(i.flags=-3841&i.flags|r.flags,i.deps=De(r.deps),i.value=r.value)}}(e),e):e}(i))}function hn(e){hs.set(e.token,e)}function un(e,t){const n=Ve(Ve(t.viewDefFactory).nodes[0].element.componentView);us.set(e,n)}function cn(){hs.clear(),us.clear()}function dn(e){if(0===hs.size)return e;const t=function(e){const t=[];let n=null;for(let i=0;i<e.nodes.length;i++){const r=e.nodes[i];1&r.flags&&(n=r),n&&3840&r.flags&&hs.has(r.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>Fr);for(let n=0;n<t.length;n++)!function(e,n){for(let i=t[i]+1;i<e.nodes.length;i++){const t=e.nodes[i];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=hs.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=De(n.deps),e.value=n.value)}}}(e);return e}function gn(e,t,n,i,r,s,o,l,a,h,u,c,d){const g=e.def.nodes[t];return Wt(e,g,n,i,r,s,o,l,a,h,u,c,d),224&g.flags?pe(e,t).value:void 0}function pn(e,t,n,i,r,s,o,l,a,h,u,c,d){const g=e.def.nodes[t];return Kt(e,g,n,i,r,s,o,l,a,h,u,c,d),224&g.flags?pe(e,t).value:void 0}function fn(e){return Tn(cs.detectChanges,$t,null,[e])}function _n(e){return Tn(cs.checkNoChanges,Gt,null,[e])}function mn(e){return Tn(cs.destroy,Zt,null,[e])}function wn(e,t){gs=e,ps=t}function vn(e,t,n,i){return wn(e,t),Tn(cs.handleEvent,e.def.handleEvent,null,[e,t,n,i])}function Cn(e,t){if(128&e.state)throw we(cs[ds]);return wn(e,xn(e,0)),e.def.updateDirectives(function(e,n,i,...r){const s=e.def.nodes[n];return 0===t?bn(e,s,i,r):En(e,s,i,r),16384&s.flags&&wn(e,xn(e,n)),224&s.flags?pe(e,s.nodeIndex).value:void 0},e)}function yn(e,t){if(128&e.state)throw we(cs[ds]);return wn(e,Sn(e,0)),e.def.updateRenderer(function(e,n,i,...r){const s=e.def.nodes[n];return 0===t?bn(e,s,i,r):En(e,s,i,r),3&s.flags&&wn(e,Sn(e,n)),224&s.flags?pe(e,s.nodeIndex).value:void 0},e)}function bn(e,t,n,i){if(Wt(e,t,n,...i)){const r=1===n?i[0]:i;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const i=t.bindings[e],s=r[e];8&i.flags&&(n[function(e){return e=e.replace(/[$@]/g,"_").replace(fs,(...e)=>"-"+e[1].toLowerCase()),`ng-reflect-${e}`}(i.nonMinifiedName)]=function(e){try{return null!=e?e.toString().slice(0,30):e}catch(e){return"[ERROR] Exception while trying to serialize the value"}}(s))}const i=t.parent,s=de(e,i.nodeIndex).renderElement;if(i.element.name)for(let t in n){const i=n[t];null!=i?e.renderer.setAttribute(s,t,i):e.renderer.removeAttribute(s,t)}else e.renderer.setValue(s,`bindings=${JSON.stringify(n,null,2)}`)}}}function En(e,t,n,i){Kt(e,t,n,...i)}function xn(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function Sn(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}function Rn(e,t,n){for(let i in t.references)n[i]=Mt(e,t,t.references[i])}function Tn(e,t,n,i){const r=ds,s=gs,o=ps;try{ds=e;const l=t.apply(n,i);return gs=s,ps=o,ds=r,l}catch(e){if(w(e)||!gs)throw e;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),me(e,t),e}(e,An())}}function An(){return gs?new _s(gs,ps):null}function Mn(e,t,n){return new class extends Ui{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){!function(){if(as)return;as=!0;const e=$()?{setCurrentNode:wn,createRootView:rn,createEmbeddedView:on,createComponentView:ln,createNgModuleRef:an,overrideProvider:hn,overrideComponentView:un,clearOverrides:cn,checkAndUpdateView:fn,checkNoChangesView:_n,destroyView:mn,createDebugContext:(e,t)=>new _s(e,t),handleEvent:vn,updateDirectives:Cn,updateRenderer:yn}:{setCurrentNode:()=>{},createRootView:nn,createEmbeddedView:zt,createComponentView:Ft,createNgModuleRef:ct,overrideProvider:Fr,overrideComponentView:Fr,clearOverrides:Fr,checkAndUpdateView:$t,checkNoChangesView:Gt,destroyView:Zt,createDebugContext:(e,t)=>new _s(e,t),handleEvent:(e,t,n,i)=>e.def.handleEvent(e,t,n,i),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?gn:pn,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?gn:pn,e)};Lr.setCurrentNode=e.setCurrentNode,Lr.createRootView=e.createRootView,Lr.createEmbeddedView=e.createEmbeddedView,Lr.createComponentView=e.createComponentView,Lr.createNgModuleRef=e.createNgModuleRef,Lr.overrideProvider=e.overrideProvider,Lr.overrideComponentView=e.overrideComponentView,Lr.clearOverrides=e.clearOverrides,Lr.checkAndUpdateView=e.checkAndUpdateView,Lr.checkNoChangesView=e.checkNoChangesView,Lr.destroyView=e.destroyView,Lr.resolveDep=Ct,Lr.createDebugContext=e.createDebugContext,Lr.handleEvent=e.handleEvent,Lr.updateDirectives=e.updateDirectives,Lr.updateRenderer=e.updateRenderer,Lr.dirtyParentQueries=Rt}();const t=Ve(this._ngModuleDefFactory);return Lr.createNgModuleRef(this.moduleType,e||ei.NULL,this._bootstrapComponents,t)}}(e,t,n)}n.d(t,"g",function(){return ar}),n.d(t,"R",function(){return G}),n.d(t,"U",function(){return $}),n.d(t,"Q",function(){return W}),n.d(t,"w",function(){return or}),n.d(t,"c",function(){return Ii}),n.d(t,"A",function(){return ki}),n.d(t,"z",function(){return Pi}),n.d(t,"b",function(){return Ni}),n.d(t,"d",function(){return Ai}),n.d(t,"e",function(){return Mi}),n.d(t,"T",function(){return ee}),n.d(t,"L",function(){return Xi}),n.d(t,"W",function(){return U}),n.d(t,"s",function(){return Or}),n.d(t,"f",function(){return Vr}),n.d(t,"m",function(){return Yi}),n.d(t,"l",function(){return _i}),n.d(t,"F",function(){return zr}),n.d(t,"G",function(){return Hr}),n.d(t,"a",function(){return zn}),n.d(t,"O",function(){return jn}),n.d(t,"M",function(){return Bn}),n.d(t,"S",function(){return c}),n.d(t,"p",function(){return ei}),n.d(t,"B",function(){return Ri}),n.d(t,"o",function(){return Dn}),n.d(t,"n",function(){return Gn}),n.d(t,"y",function(){return $n}),n.d(t,"H",function(){return qn}),n.d(t,"x",function(){return Zi}),n.d(t,"C",function(){return cr}),n.d(t,"D",function(){return hr}),n.d(t,"E",function(){return ur}),n.d(t,"i",function(){return Oi}),n.d(t,"j",function(){return Li}),n.d(t,"k",function(){return dr}),n.d(t,"t",function(){return Ui}),n.d(t,"v",function(){return Bi}),n.d(t,"u",function(){return gr}),n.d(t,"I",function(){return wr}),n.d(t,"J",function(){return _r}),n.d(t,"K",function(){return vr}),n.d(t,"N",function(){return Cr}),n.d(t,"h",function(){return yr}),n.d(t,"q",function(){return Ar}),n.d(t,"r",function(){return Mr}),n.d(t,"P",function(){return Sr}),n.d(t,"V",function(){return Dr}),n.d(t,"_7",function(){return ie}),n.d(t,"Y",function(){return Di}),n.d(t,"X",function(){return Fi}),n.d(t,"_6",function(){return Zn}),n.d(t,"_12",function(){return h}),n.d(t,"_20",function(){return u}),n.d(t,"_8",function(){return D}),n.d(t,"_9",function(){return N}),n.d(t,"Z",function(){return Ge}),n.d(t,"_0",function(){return rt}),n.d(t,"_1",function(){return Mn}),n.d(t,"_2",function(){return Ce}),n.d(t,"_3",function(){return dt}),n.d(t,"_4",function(){return $e}),n.d(t,"_14",function(){return Ze}),n.d(t,"_15",function(){return Ye}),n.d(t,"_16",function(){return It}),n.d(t,"_17",function(){return ht}),n.d(t,"_19",function(){return gt}),n.d(t,"_18",function(){return Pt}),n.d(t,"_21",function(){return Nt}),n.d(t,"_22",function(){return Vt}),n.d(t,"_10",function(){return oe}),n.d(t,"_11",function(){return le}),n.d(t,"_13",function(){return ae}),n.d(t,"_5",function(){return O});var In=n("05/P"),kn=n("cv3d"),Pn=n("IKzn"),Nn=n("9i4M");class Dn{constructor(e){this._desc=e,this.ngMetadataName="InjectionToken"}toString(){return`InjectionToken ${this._desc}`}}const On="__annotations__",Vn="__paramaters__",Hn="__prop__metadata__",zn=new Dn("AnalyzeForEntryComponents");s("Attribute",e=>({attributeName:e}));class Ln{}o("ContentChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!1,descendants:!1},t),Ln),o("ContentChild",(e,t={})=>Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t),Ln),o("ViewChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!0,descendants:!0},t),Ln),o("ViewChild",(e,t)=>Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t),Ln);const Fn=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),jn=(i("Component",(e={})=>Object.assign({changeDetection:Fn.Default},e),i("Directive",(e={})=>e)),i("Pipe",e=>Object.assign({pure:!0},e)),o("Input",e=>({bindingPropertyName:e})),o("Output",e=>({bindingPropertyName:e})),o("HostBinding",e=>({hostPropertyName:e})),o("HostListener",(e,t)=>({eventName:e,args:t})),i("NgModule",e=>e),function(){var e={Emulated:0,Native:1,None:2};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e}());class Bn{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Un=new Bn("5.1.2"),Gn=s("Inject",e=>({token:e})),$n=s("Optional"),Wn=(i("Injectable"),s("Self")),qn=s("SkipSelf"),Kn=(s("Host"),"undefined"!=typeof window&&window),Yn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Zn=Kn||"undefined"!=typeof e&&e||Yn;let Qn=null;const Jn=new Object,Xn=Jn;class ei{static create(e,t){return new class{constructor(e,t=ui){this.parent=t;const n=this._records=new Map;n.set(ei,{token:ei,fn:ti,deps:ni,value:this,useNew:!1}),p(n,e)}get(e,t){const n=this._records.get(e);try{return f(e,n,this._records,this.parent,t)}catch(e){const t=e[hi];throw e.message=_("\n"+e.message,t),e[ai]=t,e[hi]=null,e}}toString(){const e=[];return this._records.forEach((t,n)=>e.push(u(n))),`StaticInjector[${e.join(", ")}]`}}(e,t)}}ei.THROW_IF_NOT_FOUND=Jn,ei.NULL=new class{get(e,t=Jn){if(t===Jn)throw new Error(`NullInjectorError: No provider for ${u(e)}!`);return t}};const ti=function(e){return e},ni=[],ii=ti,ri=function(){return Array.prototype.slice.call(arguments)},si={},oi=si,li=function(e){for(let t in e)if(e[t]===si)return t;throw Error("!prop")}({provide:String,useValue:oi}),ai="ngTokenPath",hi="ngTempTokenPath",ui=ei.NULL,ci=/\n/gm,di="\u0275",gi="ngDebugContext",pi="ngOriginalError",fi="ngErrorLogger";class _i{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),i=e[fi]||function(e,...t){e.error(...t)};i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?w(e)?w(e):this._findContext(v(e)):null}_findOriginalError(e){let t=v(e);for(;t&&v(t);)t=v(t);return t}}class mi{constructor(e,t){if(this.token=e,this.id=t,!e)throw new Error("Token must be defined!");this.displayName=u(this.token)}static get(e){return wi.get(d(e))}static get numberOfKeys(){return wi.numberOfKeys}}const wi=new class{constructor(){this._allKeys=new Map}get(e){if(e instanceof mi)return e;if(this._allKeys.has(e))return this._allKeys.get(e);const t=new mi(e,mi.numberOfKeys);return this._allKeys.set(e,t),t}get numberOfKeys(){return this._allKeys.size}},vi=Function,Ci=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,yi=new class{constructor(e){this.reflectionCapabilities=e}updateCapabilities(e){this.reflectionCapabilities=e}factory(e){return this.reflectionCapabilities.factory(e)}parameters(e){return this.reflectionCapabilities.parameters(e)}annotations(e){return this.reflectionCapabilities.annotations(e)}propMetadata(e){return this.reflectionCapabilities.propMetadata(e)}hasLifecycleHook(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)}getter(e){return this.reflectionCapabilities.getter(e)}setter(e){return this.reflectionCapabilities.setter(e)}method(e){return this.reflectionCapabilities.method(e)}importUri(e){return this.reflectionCapabilities.importUri(e)}resourceUri(e){return this.reflectionCapabilities.resourceUri(e)}resolveIdentifier(e,t,n,i){return this.reflectionCapabilities.resolveIdentifier(e,t,n,i)}resolveEnum(e,t){return this.reflectionCapabilities.resolveEnum(e,t)}}(new class{constructor(e){this._reflect=e||Zn.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n="undefined"==typeof e?new Array(t.length):new Array(e.length);for(let i=0;i<n.length;i++)n[i]="undefined"==typeof e?[]:e[i]!=Object?[e[i]]:[],t&&null!=t[i]&&(n[i]=n[i].concat(t[i]));return n}_ownParameters(e,t){if(Ci.exec(e.toString()))return null;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const n=e.ctorParameters;if(n&&n!==t.ctorParameters){const e="function"==typeof n?n():n,t=e.map(e=>e&&e.type),i=e.map(e=>e&&R(e.decorators));return this._zipTypesAndAnnotations(t,i)}const i=e.hasOwnProperty(Vn)&&e[Vn],r=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return r||i?this._zipTypesAndAnnotations(r,i):new Array(e.length).fill(void 0)}parameters(e){if(!S(e))return[];const t=T(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?R(e.decorators):e.hasOwnProperty(On)?e[On]:null}annotations(e){if(!S(e))return[];const t=T(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach(e=>{n[e]=R(t[e])}),n}return e.hasOwnProperty(Hn)?e[Hn]:null}propMetadata(e){if(!S(e))return{};const t=T(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach(t=>{n[t]=e[t]})}const i=this._ownPropMetadata(e,t);return i&&Object.keys(i).forEach(e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...i[e]),n[e]=t}),n}hasLifecycleHook(e,t){return e instanceof vi&&t in e.prototype}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){const t=`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`;return new Function("o","args",t)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:`./${u(e)}`}resourceUri(e){return`./${u(e)}`}resolveIdentifier(e,t,n,i){return i}resolveEnum(e,t){return e[t]}});class bi{constructor(e,t,n){this.key=e,this.optional=t,this.visibility=n}static fromKey(e){return new bi(e,!1,null)}}const Ei=[];class xi{constructor(e,t,n){this.key=e,this.resolvedFactories=t,this.multiProvider=n}get resolvedFactory(){return this.resolvedFactories[0]}}const Si=new Object;class Ri{static resolve(e){return function(t){const n=function(e,t){for(let n=0;n<e.length;n++){const i=e[n],r=t.get(i.key.id);if(r){if(i.multiProvider!==r.multiProvider)throw x(r,i);if(i.multiProvider)for(let e=0;e<i.resolvedFactories.length;e++)r.resolvedFactories.push(i.resolvedFactories[e]);else t.set(i.key.id,i)}else{let e;e=i.multiProvider?new xi(i.key,i.resolvedFactories.slice(),i.multiProvider):i,t.set(i.key.id,e)}}return t}(M(e,[]).map(A),new Map);return Array.from(n.values())}()}static resolveAndCreate(e,t){const n=Ri.resolve(e);return Ri.fromResolvedProviders(n,t)}static fromResolvedProviders(e,t){return new Ti(e,t)}}class Ti{constructor(e,t){this._constructionCounter=0,this._providers=e,this.parent=t||null;const n=e.length;this.keyIds=new Array(n),this.objs=new Array(n);for(let i=0;i<n;i++)this.keyIds[i]=e[i].key.id,this.objs[i]=Si}get(e,t=Xn){return this._getByKey(mi.get(e),null,t)}resolveAndCreateChild(e){const t=Ri.resolve(e);return this.createChildFromResolved(t)}createChildFromResolved(e){const t=new Ti(e);return t.parent=this,t}resolveAndInstantiate(e){return this.instantiateResolved(Ri.resolve([e])[0])}instantiateResolved(e){return this._instantiateProvider(e)}getProviderAtIndex(e){if(e<0||e>=this._providers.length)throw function(e){return Error(`Index ${e} is out-of-bounds.`)}(e);return this._providers[e]}_new(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function(t,n){return y(t,e.key,function(e){return`Cannot instantiate cyclic dependency!${C(e)}`})}(this);return this._instantiateProvider(e)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(e){if(e.multiProvider){const t=new Array(e.resolvedFactories.length);for(let n=0;n<e.resolvedFactories.length;++n)t[n]=this._instantiate(e,e.resolvedFactories[n]);return t}return this._instantiate(e,e.resolvedFactories[0])}_instantiate(e,t){const n=t.factory;let i;try{i=t.dependencies.map(e=>this._getByReflectiveDependency(e))}catch(t){throw t.addKey&&t.addKey(this,e.key),t}let r;try{r=n(...i)}catch(t){throw function(t,n,i,r){return y(t,e.key,function(e){const t=u(e[0].token);return`${n.message}: Error during instantiation of ${t}!${C(e)}.`},n)}(this,t)}return r}_getByReflectiveDependency(e){return this._getByKey(e.key,e.visibility,e.optional?null:Xn)}_getByKey(e,t,n){return e===Ti.INJECTOR_KEY?this:t instanceof Wn?this._getByKeySelf(e,n):this._getByKeyDefault(e,n,t)}_getObjByKeyId(e){for(let t=0;t<this.keyIds.length;t++)if(this.keyIds[t]===e)return this.objs[t]===Si&&(this.objs[t]=this._new(this._providers[t])),this.objs[t];return Si}_throwOrNull(e,t){if(t!==Xn)return t;throw function(t,n){return y(t,e,function(e){return`No provider for ${u(e[0].token)}!${C(e)}`})}(this)}_getByKeySelf(e,t){const n=this._getObjByKeyId(e.id);return n!==Si?n:this._throwOrNull(e,t)}_getByKeyDefault(e,t,n){let i;for(i=n instanceof qn?this.parent:this;i instanceof Ti;){const t=i,n=t._getObjByKeyId(e.id);if(n!==Si)return n;i=t.parent}return null!==i?i.get(e.token,t):this._throwOrNull(e,t)}get displayName(){return`ReflectiveInjector(providers: [${function(e,t){const n=new Array(e._providers.length);for(let i=0;i<e._providers.length;++i)n[i]=t(e.getProviderAtIndex(i));return n}(this,e=>' "'+e.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}Ti.INJECTOR_KEY=mi.get(ei);const Ai=new Dn("Application Initializer");class Mi{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();N(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}const Ii=new Dn("AppId"),ki=new Dn("Platform Initializer"),Pi=new Dn("Platform ID"),Ni=new Dn("appBootstrapListener");new Dn("Application Packages Root URL");class Di{log(e){console.log(e)}warn(e){console.warn(e)}}Di.ctorParameters=(()=>[]);class Oi{compileModuleSync(e){throw H()}compileModuleAsync(e){throw H()}compileModuleAndAllComponentsSync(e){throw H()}compileModuleAndAllComponentsAsync(e){throw H()}clearCache(){}clearCacheFor(e){}}new Dn("compilerOptions");class Vi{}class Hi{}const zi="ngComponent";class Li{}Li.NULL=new class{resolveComponentFactory(e){throw z(e)}};class Fi{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let i=0;i<e.length;i++){const t=e[i];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw z(e);return new ji(t,this._ngModule)}}class ji extends Hi{constructor(e,t){super(),this.factory=e,this.ngModule=t}get selector(){return this.factory.selector}get componentType(){return this.factory.componentType}get ngContentSelectors(){return this.factory.ngContentSelectors}get inputs(){return this.factory.inputs}get outputs(){return this.factory.outputs}create(e,t,n,i){return this.factory.create(e,t,n,i||this.ngModule)}}class Bi{}class Ui{}let Gi,$i;const Wi=function(){const e=Zn.wtf;return!(!e||!(Gi=e.trace)||($i=Gi.events,0))}(),qi=Wi?function(e,t=null){return $i.createScope(e,t)}:(e,t)=>(function(e,t){return null}),Ki=Wi?function(e,t){return Gi.leaveScope(e,t),t}:(e,t)=>t;class Yi extends Nn.a{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let i,r=e=>null,s=()=>null;return e&&"object"==typeof e?(i=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(r=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(s=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()})),super.subscribe(i,r,s)}}class Zi{constructor({enableLongStackTrace:e=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yi(!1),this.onMicrotaskEmpty=new Yi(!1),this.onStable=new Yi(!1),this.onError=new Yi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),function(e){e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,i,r,s,o)=>{try{return j(e),t.invokeTask(i,r,s,o)}finally{B(e)}},onInvoke:(t,n,i,r,s,o,l)=>{try{return j(e),t.invoke(i,r,s,o,l)}finally{B(e)}},onHasTask:(t,n,i,r)=>{t.hasTask(i,r),n===i&&("microTask"==r.change?(e.hasPendingMicrotasks=r.microTask,F(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,n,i,r)=>(t.handleError(i,r),e.runOutsideAngular(()=>e.onError.emit(r)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Zi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,i){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,e,Qi,L,L);try{return r.runTask(s,t,n)}finally{r.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const Qi={};class Ji{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yi,this.onMicrotaskEmpty=new Yi,this.onStable=new Yi,this.onError=new Yi}run(e){return e()}runGuarded(e){return e()}runOutsideAngular(e){return e()}runTask(e){return e()}}class Xi{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zi.assertNotInAngularZone(),a(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){this.isStable()?a(()=>{for(;0!==this._callbacks.length;)this._callbacks.pop()(this._didWork);this._didWork=!1}):this._didWork=!0}whenStable(e){this._callbacks.push(e),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}class er{constructor(){this._applications=new Map,nr.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return nr.findTestabilityInTree(this,e,t)}}er.ctorParameters=(()=>[]);let tr,nr=new class{addToWindow(e){}findTestabilityInTree(e,t,n){return null}},ir=!0,rr=!1;const sr=new Dn("AllowMultipleToken");class or{constructor(e,t){this.name=e,this.token=t}}class lr{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e){let t;return t="noop"===e?new Ji:("zone.js"===e?void 0:e)||new Zi({enableLongStackTrace:$()})}(t?t.ngZone:void 0);return n.run(()=>{const t=ei.create([{provide:Zi,useValue:n}],this.injector),i=e.create(t),r=i.injector.get(_i,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Y(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{r.handleError(e)}})),function(e,t,n){try{const i=n();return N(i)?i.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):i}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(r,n,()=>{const e=i.injector.get(Mi);return e.runInitializers(),e.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=this.injector.get(Vi),i=K({},t);return n.createCompiler([i]).compileModuleAsync(e).then(e=>this.bootstrapModuleFactory(e,i))}_moduleDoBootstrap(e){const t=e.injector.get(ar);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${u(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}class ar{constructor(e,t,n,i,r,s){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=$(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new In.a(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),l=new In.a(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Zi.assertNotInAngularZone(),a(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Zi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=Object(kn.a)(o,Pn.a.call(l))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Hi?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const i=n instanceof ji?null:this._injector.get(Bi),r=n.create(ei.NULL,[],t||n.selector,i);r.onDestroy(()=>{this._unloadComponent(r)});const s=r.injector.get(Xi,null);return s&&r.injector.get(er).registerApplication(r.location.nativeElement,s),this._loadComponent(r),$()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=ar._tickScope();try{this._runningTick=!0,this._views.forEach(e=>e.detectChanges()),this._enforceNoNewChanges&&this._views.forEach(e=>e.checkNoChanges())}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1,Ki(e)}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Y(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Ni,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),Y(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}ar._tickScope=qi("ApplicationRef#tick()"),new Dn("Renderer2Interceptor");class hr{}const ur=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();class cr{}class dr{constructor(e){this.nativeElement=e}}class gr{}new Map;const pr="#",fr="NgFactory";class _r{}const mr={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class wr{constructor(e,t){this._compiler=e,this._config=t||mr}load(e){return this._compiler instanceof Oi?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[t,i]=e.split(pr);return void 0===i&&(i="default"),n("YuZA")(t).then(e=>e[i]).then(e=>Q(e,t,i)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,i]=e.split(pr),r=fr;return void 0===i&&(i="default",r=""),n("YuZA")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[i+r]).then(e=>Q(e,t,i))}}class vr{}class Cr{}class yr{}class br{constructor(e,t,n){this._debugContext=n,this.nativeNode=e,t&&t instanceof Er?t.addChild(this):this.parent=null,this.listeners=[]}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Er extends br{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(e=>{e.parent&&e.parent.removeChild(e),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return J(this,e,t),t}queryAllNodes(e){const t=[];return X(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof Er)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}const xr=new Map;class Sr{constructor(e){this.wrapped=e}static wrap(e){return new Sr(e)}}class Rr{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&h(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Tr{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Rr,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}class Ar{constructor(e){this.factories=e}static create(e,t){if(null!=t){const n=t.factories.slice();return e=e.concat(n),new Ar(e)}return new Ar(e)}static extend(e){return{provide:Ar,useFactory:t=>{if(!t)throw new Error("Cannot extend IterableDiffers without a parent injector");return Ar.create(e,t)},deps:[[Ar,new qn,new $n]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${e.name||typeof e}'`)}}class Mr{constructor(e){this.factories=e}static create(e,t){if(t){const n=t.factories.slice();e=e.concat(n)}return new Mr(e)}static extend(e){return{provide:Mr,useFactory:t=>{if(!t)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return Mr.create(e,t)},deps:[[Mr,new qn,new $n]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}const Ir=[new class{constructor(){}supports(e){return e instanceof Map||re(e)}create(){return new class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||re(e)))throw new Error(`Error trying to diff '${u(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const i=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,i)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){h(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}}}],kr=[new class{constructor(){}supports(e){return ie(e)}create(e){return new class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||((e,t)=>t)}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,i=0,r=null;for(;t||n;){const s=!n||t&&t.currentIndex<se(n,i,r)?t:n,o=se(s,i,r),l=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{r||(r=[]);const e=o-i,t=l-i;if(e!=t){for(let n=0;n<e;n++){const i=n<r.length?r[n]:r[n]=0,s=i+n;t<=s&&s<e&&(r[n]=i+1)}r[s.previousIndex]=t-e}}o!==l&&e(s,o,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!ie(e))throw new Error(`Error trying to diff '${u(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,i,r=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)i=this._trackByFn(t,n=e[t]),null!==r&&h(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,n,i,t)),h(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,t),s=!0),r=r._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[l()]();let i;for(;!(i=n.next()).done;)t(i.value)}}(e,e=>{i=this._trackByFn(t,e),null!==r&&h(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,e,i,t)),h(r.item,e)||this._addIdentityChange(r,e)):(r=this._mismatch(r,e,i,t),s=!0),r=r._next,t++}),this.length=t;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,i){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(h(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,i)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(h(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,i)):e=this._addAfter(new class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(t,n),r,i),e}_verifyReinsertion(e,t,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,r=e._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Tr),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Tr),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}(e)}}],Pr=new Ar(kr),Nr=new Mr(Ir),Dr=W(null,"core",[{provide:Pi,useValue:"unknown"},{provide:lr,deps:[ei]},{provide:er,deps:[]},{provide:Di,deps:[]}]),Or=new Dn("LocaleId");new Dn("Translations"),new Dn("TranslationsFormat");class Vr{constructor(e){}}const Hr=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}();class zr{}const Lr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Fr=()=>{},jr=new Map,Br="$$undefined",Ur="$$empty";let Gr=0;const $r=new WeakMap,Wr=/^:([^:]+):(.+)$/,qr=new Object,Kr=ve(ei),Yr=ve(Bi),Zr=new Object;class Qr{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return He(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){xe(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{Lr.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){Lr.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Lr.destroyView(this._view)}detachFromAppRef(){this._appRef=null,tt(this._view),Lr.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}class Jr{constructor(e,t){this.view=e,this.elDef=t}get(e,t=ei.THROW_IF_NOT_FOUND){return Lr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:ve(e)},t)}}const Xr=ve(class{}),es=ve(cr),ts=ve(dr),ns=ve(Cr),is=ve(vr),rs=ve(yr),ss=ve(ei),os={},ls=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();let as=!1;const hs=new Map,us=new Map,cs=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();let ds,gs,ps;const fs=/([A-Z])/g;class _s{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,i=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&i;)n=Ae(i),i=i.parent;this.elDef=n,this.elView=i}get elOrCompView(){return de(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return at(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){Rn(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&Rn(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!ke(e);)e=e.parent;return e.parent?de(e.parent,Ae(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Me(this.view,this.nodeDef):Me(this.elView,this.elDef)}logError(e,...t){let n,i;2&this.nodeDef.flags?(n=this.view.def,i=this.nodeDef.nodeIndex):(n=this.elView.def,i=this.elDef.nodeIndex);const r=function(e,t){let n=-1;for(let i=0;i<=t;i++)3&e.nodes[i].flags&&n++;return n}(n,i);let s=-1;n.factory(()=>++s===r?e.error.bind(e,...t):Fr),s<r&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}}).call(t,n("fRUx"))},"2K0D":function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return s});const i="undefined"!=typeof window&&window,r="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,s=i||"undefined"!=typeof e&&e||r;!function(){if(!s)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(t,n("fRUx"))},"2mbX":function(e,t,n){"use strict";t.a=function(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},"4yfK":function(e,t,n){"use strict";t.a=class extends Error{constructor(){const e=super("object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}}},"7wpj":function(e,t,n){"use strict";var i=n("WJ2g");t.a=class extends i.a{notifyNext(e,t,n,i,r){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}},"9i4M":function(e,t,n){"use strict";var i=n("05/P"),r=n("WJ2g"),s=n("0mJR"),o=n("4yfK");class l extends s.a{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}var a=n("xEcM");class h extends r.a{constructor(e){super(e),this.destination=e}}t.b=h;class u extends i.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[a.a](){return new h(this)}lift(e){const t=new c(this,this);return t.operator=e,t}next(e){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:t}=this,n=t.length,i=t.slice();for(let r=0;r<n;r++)i[r].next(e)}}error(e){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,i=t.slice();for(let r=0;r<n;r++)i[r].error(e);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let i=0;i<t;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new o.a;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new o.a;return this.hasError?(e.error(this.thrownError),s.a.EMPTY):this.isStopped?(e.complete(),s.a.EMPTY):(this.observers.push(e),new l(this,e))}asObservable(){const e=new i.a;return e.source=this,e}}t.a=u,u.create=((e,t)=>new c(e,t));class c extends u{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):s.a.EMPTY}}},CLKv:function(e,t,n){"use strict";function i(){try{return s.apply(this,arguments)}catch(e){return r.a.e=e,r.a}}t.a=function(e){return s=e,i};var r=n("jLix");let s},CdVW:function(e,t,n){"use strict";const i=function(e){let t,i=n("2K0D").a.Symbol;return"function"==typeof i?i.observable?t=i.observable:(t=i("observable"),i.observable=t):t="@@observable",t}();t.a=i},ElHI:function(e,t,n){"use strict";const i=Array.isArray||(e=>e&&"number"==typeof e.length);t.a=i},G3Tt:function(e,t,n){"use strict";function i(e){return e}var r=n("rhNu");t.a=function(e=Number.POSITIVE_INFINITY){return Object(r.a)(i,null,e)}},GcAb:function(e,t,n){"use strict";t.a=function(e){return"function"==typeof e}},Hwfe:function(e,t,n){"use strict";function i(){}function r(e){return e?1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}:i}t.a=function(...e){return r(e)},t.b=r},IKzn:function(e,t,n){"use strict";function i(){return function(e){return e.lift(new class{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const i=new class extends l.a{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}(e,n),r=t.subscribe(i);return i.closed||(i.connection=n.connect()),r}}(e))}}function r(){return new s.a}var s=n("9i4M"),o=n("05/P"),l=n("WJ2g"),a=n("0mJR");const h=class extends o.a{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.a).add(this.source.subscribe(new class extends s.b{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}(this.getSubject(),this))),e.closed?(this._connection=null,e=a.a.EMPTY):this._connection=e),e}refCount(){return i()(this)}}.prototype,u={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:h._subscribe},_isComplete:{value:h._isComplete,writable:!0},getSubject:{value:h.getSubject},connect:{value:h.connect},refCount:{value:h.refCount}};t.a=function(){return(e=>i()(function(e,t){return function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,u);return i.source=t,i.subjectFactory=n,i}}(r)(e)))(this)}},Lq4y:function(e,t,n){"use strict";const i=function(e){const t=e.Symbol;if("function"==typeof t)return t.iterator||(t.iterator=t("iterator polyfill")),t.iterator;{const{Set:t}=e;if(t&&"function"==typeof(new t)["@@iterator"])return"@@iterator";const{Map:n}=e;if(n){let e=Object.getOwnPropertyNames(n.prototype);for(let t=0;t<e.length;++t){let i=e[t];if("entries"!==i&&"size"!==i&&n.prototype[i]===n.prototype.entries)return i}}return"@@iterator"}}(n("2K0D").a);t.a=i},P6aB:function(e,t,n){"use strict";var i=n("05/P");class r extends i.a{constructor(e){super(),this.scheduler=e}static create(e){return new r(e)}static dispatch(e){const{subscriber:t}=e;t.complete()}_subscribe(e){const t=this.scheduler;if(t)return t.schedule(r.dispatch,0,{subscriber:e});e.complete()}}t.a=r},WJ2g:function(e,t,n){"use strict";var i=n("GcAb"),r=n("0mJR"),s=n("gwp7"),o=n("xEcM");class l extends r.a{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.a;break;case 1:if(!e){this.destination=s.a;break}if("object"==typeof e){e instanceof l?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new a(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new a(this,e,t,n)}}[o.a](){return this}static create(e,t,n){const i=new l(e,t,n);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:e,_parents:t}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}t.a=l;class a extends l{constructor(e,t,n,r){super(),this._parentSubscriber=e;let o,l=this;Object(i.a)(t)?o=t:t&&(o=t.next,n=t.error,r=t.complete,t!==s.a&&(l=Object.create(t),Object(i.a)(l.unsubscribe)&&this.add(l.unsubscribe.bind(l)),l.unsubscribe=this.unsubscribe.bind(this))),this._context=l,this._next=o,this._error=n,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}}__tryOrSetError(e,t,n){try{t.call(this._context,n)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},YuZA:function(e,t){function n(e){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+e+"'.")})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="YuZA"},cDNt:function(e,t,n){"use strict";function i(){return hi}function r(e,t){return null==e?null:o(t)?c(e.implementsInterface)&&e.implementsInterface(t)?e:null:e instanceof t?e:null}function s(e){return o(e)||a(e)||u(e)||g(e)}function o(e){return"string"==typeof e}function l(e){return null==e||e.replace(/\s/g,"").length<1}function a(e){return"number"==typeof e}function h(e){return a(e)&&e==Math.round(e)}function u(e){return"boolean"==typeof e}function c(e){return"function"==typeof e}function d(e){return"undefined"==typeof e}function g(e){return e instanceof Date&&!isNaN(e.getTime())}function p(e){return e instanceof Array}function f(e){return null!=e&&"object"==typeof e&&!g(e)&&!p(e)}function _(e){let t=e;for(let n=0;null!=document.getElementById(t);n++)t=e+n;return t}function m(e){if(e instanceof di)return e;if(e.touches&&e.touches.length>0&&(e=e.touches[0]),a(e.clientX)&&a(e.clientY))return new di(e.clientX+pageXOffset,e.clientY+pageYOffset);throw"Mouse or touch event expected."}function w(e){return a(e)?ui.Number:u(e)?ui.Boolean:g(e)?ui.Date:o(e)?ui.String:p(e)?ui.Array:ui.Object}function v(e,t,n){if(null!=e){if(o(e))switch(t){case ui.Number:let i=mi.parseFloat(e,n);return isNaN(i)?e:i;case ui.Date:let r=mi.parseDate(e,n);return r||n||!e||(r=new Date(e)),r&&isFinite(r.getTime())?r:e;case ui.Boolean:switch(e.toLowerCase()){case"true":return!0;case"false":return!1}return e}if(t==ui.String)return mi.format(e,n)}return e}function C(e,t,n){if(n){let n=e.toString(),i=n.indexOf(".");i>-1&&(n=n.substr(0,i+1+t),e=parseFloat(n))}else{let n=e.toFixed(t);e=parseFloat(n)}return e}function y(e,t,n){if((e=R(e)).match(/\{.*"count".*:.*"when".*:.*\}/))try{let n=JSON.parse(e);if(o(n.count)){let i=t[n.count],r=n.when;if(a(i)&&f(r)){let t=r[i]||r.other;o(t)&&(e=t)}}}catch(e){}return e.replace(/\{(.*?)(:(.*?))?\}/g,function(e,i,r,s){let o=e;return i&&"{"!=i[0]&&t&&(o=t[i],s&&(o=mi.format(o,s)),n&&(o=n(t,i,s,o))),null==o?"":o})}function b(e,t,n){return null!=e&&(null!=n&&e>n&&(e=n),null!=t&&e<t&&(e=t)),e}function E(e,t){if(t)for(let n in t)if("_"!=n[0]){x(n in e,'Unknown property "'+n+'".');let i=t[n];e._copy&&e._copy(n,i)||(e[n]instanceof Ci&&c(i)?e[n].addHandler(i):!f(i)||i instanceof Element||!e[n]||"itemsSource"==n?e[n]=i:E(e[n],i))}}function x(e,t){if(!e)throw"** Assertion failed in Wijmo: "+t}function S(e,t){console.error('** WARNING: "'+e+'" has been deprecated; please use "'+t+'" instead.')}function R(e,t=!0){return x(t&&null==e||o(e),"String expected."),e}function T(e,t=!1,n=!1){if(x(t&&null==e||a(e),"Number expected."),n&&e&&e<0)throw"Positive number expected.";return e}function A(e,t=!1,n=!1){if(x(t&&null==e||h(e),"Integer expected."),n&&e&&e<0)throw"Positive integer expected.";return e}function M(e,t=!1){return x(t&&null==e||u(e),"Boolean expected."),e}function I(e,t=!1){if(o(e)){let t=v(e,ui.Date,"r");g(t)&&(e=t)}return x(t&&null==e||g(e),"Date expected."),e}function k(e,t=!0){return x(t&&null==e||c(e),"Function expected."),e}function P(e,t=!0){return x(t&&null==e||p(e),"Array expected."),e}function N(e,t,n=!1){return e=r(e,t),x(n||null!=e,t+" expected."),e}function D(e,t,n=!1){if(null==e&&n)return null;let i=t[e];return x(null!=i,"Invalid enum value."),a(i)?i:e}function O(e,t=!0){if(null==e&&t)return null;let n=r(e,"ICollectionView");return null!=n?n:(p(e)||x(!1,"Array or ICollectionView expected."),new Hi(e))}function V(e){return null!=e&&null!=e.items&&e.items.length>0}function H(e){return e&&e.length?e[0].toUpperCase()+e.substr(1).replace(/([a-z])([A-Z])/g,"$1 $2"):""}function z(e){return o(e)&&(e=e.replace(/[&<>"'\/]/g,function(e){return ci[e]})),e}function L(e,t){if(e&&e.getAttribute){let n=new RegExp("(\\s|^)"+t+"(\\s|$)");return e&&n.test(e.getAttribute("class"))}return!1}function F(e,t){if(e&&t&&e.setAttribute){let n=t.split(" ");for(let t=0;t<n.length;t++){let i=n[t];if(L(e,i)){let t=new RegExp("((\\s|^)"+i+"(\\s|$))","g"),n=e.getAttribute("class");n=n.replace(t," ").replace(/ +/g," ").trim(),e.setAttribute("class",n)}}}}function j(e,t){if(e&&t&&e.setAttribute){let n=t.split(" ");for(let t=0;t<n.length;t++){let i=n[t];if(!L(e,i)){let t=e.getAttribute("class");e.setAttribute("class",t?t+" "+i:i)}}}}function B(e,t,n){null==n&&(n=!L(e,t)),n?j(e,t):F(e,t)}function U(e,t,n,i){null!=n?i&&e.getAttribute(t)||e.setAttribute(t,n.toString()):e.removeAttribute(t)}function G(e,t,n=t){if(e=N(e,HTMLInputElement),Z(document.body,e)&&!e.disabled&&"none"!=e.style.display)try{e.setSelectionRange(T(t),T(n),de()?null:"backward"),e.focus()}catch(e){}}function $(){let e=document.activeElement;if(e){let t=e.shadowRoot;t&&t.activeElement&&(e=t.activeElement)}return e}function W(e,t){let n="input,select,textarea,button,a,div",i=e.querySelectorAll(n),r=[];for(let o=0;o<i.length;o++){let e=i[o];if(e.offsetHeight>0&&e.tabIndex>-1&&!e.disabled&&!Q(e,"[disabled],.wj-state-disabled")){if(de()&&!e.hasAttribute("tabindex")){let t=Si.getControl(Q(e,".wj-flexgrid"));if(t&&0==t.keyActionTab)continue}!Si.getControl(e)&&e.querySelector(n)||r.push(e)}}let s=0;if(t){let e=r.indexOf($());e>-1&&(s=(e+t+r.length)%r.length)}if(s<r.length){let e=r[s];e.focus(),e instanceof HTMLInputElement&&e.select()}}function q(e){return e instanceof Element?e:o(e)?document.querySelector(e):e&&e.jquery?e[0]:null}function K(e,t){let n=document.createElement("div");return n.innerHTML=e,1==n.children.length&&(n=n.children[0]),t&&t.appendChild(n),n}function Y(e,t){e.textContent=t||""}function Z(e,t){for(let n=t;n&&e;){if(n===e)return!0;n=n.parentNode||n.host}return!1}function Q(e,t){let n=e?e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector:null;if(n)for(;e;e=e.parentNode)if(e instanceof Element&&n.call(e,t))return e;return null}function J(e,t){return Q(e,"."+t)}function X(e,t){let n=!t;B(e,"wj-state-disabled",n),U(e,"disabled",n?"true":null);let i=e.querySelectorAll("input");for(let r=0;r<i.length;r++){let e=i[r];t?e.removeAttribute("disabled"):e.setAttribute("disabled","true")}}function ee(e){let t=e.getBoundingClientRect();return new pi(t.left+pageXOffset,t.top+pageYOffset,t.width,t.height)}function te(e,t){if(e instanceof Array)for(let n=0;n<e.length;n++)te(e[n],t);else if(e&&e.style){let n=e.style;for(let e in t){let i=t[e];"number"==typeof i&&e.match(/width|height|left|top|right|bottom|size|padding|margin'/i)&&(i+="px"),n[e]!=i&&(n[e]=i.toString())}}}function ne(e,t=Si._ANIM_DEF_DURATION,n=Si._ANIM_DEF_STEP){e=k(e),t=T(t,!1,!0),n=T(n,!1,!0);let i=Date.now(),r=setInterval(function(){let n=Math.min(1,(Date.now()-i)/t);n=Math.sin(n*Math.PI/2),n*=n,requestAnimationFrame(function(){e(n)}),n>=1&&clearInterval(r)},n);return r}function ie(e,t){t||(t={});let n=t.method?R(t.method).toUpperCase():"GET",i=null==t.async||M(t.async),r=t.data;if(null!=r&&"GET"==n){let t=[];for(let e in r){let n=r[e];g(n)&&(n=n.toJSON()),t.push(e+"="+n)}t.length&&(e+=(e.indexOf("?")<0?"?":"&")+t.join("&")),r=null}let s=new XMLHttpRequest;s.URL_DEBUG=e;let l=!1;if(null==r||o(r)||(l=f(r),r=JSON.stringify(r)),s.onload=function(){4==s.readyState&&(s.status<300?t.success&&k(t.success)(s):t.error&&k(t.error)(s),t.complete&&k(t.complete)(s))},s.onerror=function(){if(!c(t.error))throw"HttpRequest Error: "+s.status+" "+s.statusText;t.error(s)},s.open(n,e,i,t.user,t.password),t.user&&t.password&&s.setRequestHeader("Authorization","Basic "+btoa(t.user+":"+t.password)),l&&s.setRequestHeader("Content-Type","application/json"),t.requestHeaders)for(let o in t.requestHeaders)s.setRequestHeader(o,t.requestHeaders[o]);return a(t.timeout)&&(s.timeout=t.timeout),c(t.beforeSend)&&t.beforeSend(s),s.send(r),s}function re(){_i=window.wijmo.culture}function se(e,t,n){let i=0,r=0,s=0,o=0,l=null,h=null,c=null,d=n?new wi(n):null;if((e=D(e,Ri))==Ri.CntAll)return t.length;for(let p=0;p<t.length;p++){let n=t[p];if(d&&(n=d.getValue(n)),e==Ri.First)return n;null!=n&&(i++,(null==l||n<l)&&(l=n),(null==h||n>h)&&(h=n),c=n,a(n)&&!isNaN(n)?(r++,s+=n,o+=n*n):u(n)&&(r++,1==n&&(s++,o++)))}let g=0==r?0:s/r;switch(e){case Ri.Avg:return g;case Ri.Cnt:return i;case Ri.Max:return h;case Ri.Min:return l;case Ri.Rng:return h-l;case Ri.Sum:return s;case Ri.VarPop:return r<=1?0:o/r-g*g;case Ri.StdPop:return r<=1?0:Math.sqrt(o/r-g*g);case Ri.Var:return r<=1?0:(o/r-g*g)*r/(r-1);case Ri.Std:return r<=1?0:Math.sqrt((o/r-g*g)*r/(r-1));case Ri.Last:return c}throw"Invalid aggregate type."}function oe(e,t=null,n=!1,i=!1,r=!0){let s=document.body;if(t instanceof HTMLElement){if(!Z(document.body,t))return;for(let e=t;e;e=e.parentElement)if("dialog"==e.getAttribute("role")||"fixed"==getComputedStyle(e).position){s=e;break}}if(e.offsetHeight&&e.offsetWidth&&Z(s,e)||s.lastChild!=e&&s.appendChild(e),t instanceof HTMLElement&&r){let n=getComputedStyle(t);new ji(n.backgroundColor).a&&te(e,{color:n.color,backgroundColor:n.backgroundColor,fontFamily:n.fontFamily,fontSize:n.fontSize,fontWeight:n.fontWeight,fontStyle:n.fontStyle})}te(e,{position:"absolute",visibility:"hidden",display:""}),Si.refreshAll(e);let o=getComputedStyle(e),l=parseFloat(o.marginTop)+parseFloat(o.marginBottom),a=parseFloat(o.marginLeft)+parseFloat(o.marginRight),h=new gi(e.offsetWidth+a,e.offsetHeight+l),u=new di,c=null,d=document.documentElement.clientWidth,g=document.documentElement.clientHeight;if(t&&null!=t.clientX&&null!=t.clientY&&null!=t.pageX&&null!=t.pageY)t.clientX<=0&&t.clientY<=0&&t.target?c=t.target.getBoundingClientRect():(u.x=Math.max(0,t.pageX-pageXOffset),u.y=Math.max(0,t.pageY-pageYOffset));else if(t instanceof di)u=t;else if(t instanceof HTMLElement)c=t.getBoundingClientRect();else if(t&&null!=t.top&&null!=t.left)c=t;else{if(null!=t)throw"Invalid ref parameter.";u.x=Math.max(0,(d-h.width)/2),u.y=Math.max(0,Math.round((g-h.height)/2*.7))}let p=parseFloat(o.minWidth);if(c){let t=c.top,i=g-c.bottom,r="rtl"==getComputedStyle(e).direction;u.x=r?Math.max(0,c.right-h.width):Math.max(0,Math.min(c.left,d-h.width)),u.y=n?t>h.height||t>i?Math.max(0,c.top-h.height):c.bottom:i>h.height||i>t?c.bottom:Math.max(0,c.top-h.height),p=Math.max(p,c.width),de()&&(p-=e.offsetWidth-(e.clientWidth+parseInt(o.borderLeftWidth)+parseInt(o.borderRightWidth)))}else u.y+h.height>g-20&&(u.y=Math.max(0,g-20-h.height)),u.x+h.width>d-20&&(u.x=Math.max(0,d-20-h.width));let f=document.body.getBoundingClientRect(),_=new di(Math.max(0,-f.left),Math.max(0,-f.top));if(s!=document.body){let t=e.offsetParent,n=t.getBoundingClientRect();_=new di(t.scrollLeft-n.left,t.scrollTop-n.top)}let m={position:"absolute",left:u.x+_.x,top:u.y+_.y,minWidth:p,display:"",visibility:"",zIndex:1500};var w=null;i&&(e.style.opacity="0",w=ne(function(t){e.style.opacity=1==t?"":t.toString()})),t instanceof HTMLElement&&(e[Si._OWNR_KEY]=t),te(e,m);let v=t instanceof MouseEvent?t.target:t;if(v instanceof HTMLElement&&v.parentElement!=document.body){let n=Date.now(),i=v.getBoundingClientRect(),r=new Si(document.createElement("div"));e[Si._SCRL_KEY]=r,r.addEventListener(document,"scroll",r=>{if(Date.now()-n>100&&Z(document,v)&&!Z(e,r.target)&&(r.target!=document||null!=t&&"fixed"==e.style.position)){let t=v.getBoundingClientRect(),n=Math.abs(t.left-i.left),r=Math.abs(t.top-i.top);(n>1||r>1)&&ae(e,!0)}},!0)}return w}function le(e,t=!0,n=!1){let i=null;return n?i=ne(function(n){e.style.opacity=(1-n).toString(),1==n&&(ae(e,t),e.style.opacity="")}):ae(e,t),i}function ae(e,t){e.style.display="none",t&&e.parentElement&&setTimeout(()=>{if("none"==e.style.display){let t=e.parentElement;t&&t.removeChild(e)}},50);let n=e[Si._SCRL_KEY];n instanceof Si&&n.dispose(),delete e[Si._SCRL_KEY],delete e[Si._OWNR_KEY]}function he(){return Wi}function ue(){return qi}function ce(){return Ki}function de(){return Yi}function ge(){return Zi}function pe(e,t){return Qi?{capture:e,passive:t}:e}function fe(e,t){e.effectAllowed=t,ue()&&e.setData("text","")}function _e(e){const{value:t,subject:n}=e;n.next(t),n.complete()}function me(e){const{err:t,subject:n}=e;n.error(t)}function we(e){return si._22(2,[(e()(),si._21(-1,null,["\n    "])),(e()(),si._4(1,0,null,null,1,"div",[],[[2,"dropup",null],[2,"dropdown",null],[2,"show",null],[2,"open",null]],null,null,null,null)),si._16(null,0),(e()(),si._21(-1,null,["\n  "]))],null,function(e,t){var n=t.component;e(t,1,0,"up"===n.direction,"down"===n.direction,n.isOpen,n.isOpen)})}function ve(e){return si._22(0,[(e()(),si._4(0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),si._21(-1,null,["\n  home works!\n"])),(e()(),si._21(-1,null,["\n"]))],null,null)}function Ce(){let e;return(e=window.wijmo)&&e.input}function ye(e){const{value:t,subscriber:n}=e;n.closed||(n.next(t),n.complete())}function be(e){const{err:t,subscriber:n}=e;n.closed||n.error(t)}function Ee(e,t){return function(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new class{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new class extends ms.a{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)}}(e,this.project,this.thisArg))}}(e,t))}}(e,t)(this)}function xe(e){return e.replace(/\/index.html$/,"")}function Se(e){return function(t,n){const i=e(t,n);return 1==i.length?"0"+i:i}}function Re(e){return function(t,n){return e(t,n).split(" ")[0]}}function Te(e,t,n){return new Intl.DateTimeFormat(t,n).format(e).replace(/[\u200e\u200f]/g,"")}function Ae(e){const t={hour:"2-digit",hour12:!1,timeZoneName:e};return function(e,n){const i=Te(e,n,t);return i?i.substring(3):""}}function Me(e,t){return e.hour12=t,e}function Ie(e,t){return function(){var n={};return n[e]=2===t?"2-digit":"numeric",n}()}function ke(e,t){const n={};return n[e]=t<4?t>1?"short":"narrow":"long",n}function Pe(e){return e.reduce((e,t)=>Object.assign({},e,t),{})}function Ne(e){return(t,n)=>Te(t,n,e)}function De(e){return e instanceof Date&&!isNaN(e.valueOf())}function Oe(){return zs}function Ve(){return!!window.history.pushState}function He(e,t){"undefined"!=typeof COMPILED&&COMPILED||((si._6.ng=si._6.ng||{})[e]=t)}function ze(e){return Object(si.T)(e)}function Le(e,t,n){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Le(e,r,n):(r=r.replace(ho,e),n.push(r))}return n}function Fe(e){return t=>{!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}function je(e,t){if(e.charCodeAt(0)===fo)throw new Error(`Found the synthetic ${t} ${e}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}function Be(e){return(e=String(e)).match(No)||e.match(Do)?e:(Object(si.U)()&&Oe().log(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function Ue(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Ge(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}function $e(e,t){if(t&&Vo.contains(e,t))throw new Error(`Failed to sanitize html because the element is clobbered: ${Vo.getOuterHTML(e)}`);return t}function We(e){return e.replace(/&/g,"&amp;").replace(Ko,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Yo,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function qe(e){Vo.attributeMap(e).forEach((t,n)=>{"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||Vo.removeAttribute(e,n)});for(const t of Vo.childNodesAsList(e))Vo.isElementNode(t)&&qe(t)}function Ke(){return new si.l}function Ye(e){return null==e||0===e.length}function Ze(e){return null!=e}function Qe(e){const t=Object(si._9)(e)?_s(e):e;if(!Object(si._8)(t))throw new Error("Expected validator to return Promise or Observable.");return t}function Je(e){const t=e.reduce((e,t)=>null!=t?Object.assign({},e,t):e,{});return 0===Object.keys(t).length?null:t}function Xe(e){return e.validate?t=>e.validate(t):e}function et(e){return e.validate?t=>e.validate(t):e}function tt(){throw new Error("unimplemented")}function nt(e,t){return[...t.path,e]}function it(e,t){e||lt(t,"Cannot find control with"),t.valueAccessor||lt(t,"No value accessor for form control with"),e.validator=dl.compose([e.validator,t.validator]),e.asyncValidator=dl.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&rt(e,t)})}(e,t),function(t,n){e.registerOnChange((e,t)=>{n.valueAccessor.writeValue(e),t&&n.viewToModelUpdate(e)})}(0,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&rt(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function rt(e,t){t.viewToModelUpdate(e._pendingValue),e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),e._pendingChange=!1}function st(e,t){null==e&&lt(t,"Cannot find control with"),e.validator=dl.compose([e.validator,t.validator]),e.asyncValidator=dl.composeAsync([e.asyncValidator,t.asyncValidator])}function ot(e){return lt(e,"There is no FormControl instance attached to form control element with")}function lt(e,t){let n;throw n=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${n}`)}function at(e){return null!=e?dl.compose(e.map(Xe)):null}function ht(e){return null!=e?dl.composeAsync(e.map(et)):null}function ut(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object(si._12)(t,n.currentValue)}function ct(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function dt(e,t){if(!t)return null;let n=void 0,i=void 0,r=void 0;return t.forEach(t=>{t.constructor===fl?n=t:function(e){return bl.some(t=>e.constructor===t)}(t)?(i&&lt(e,"More than one built-in value accessor matches form control with"),i=t):(r&&lt(e,"More than one custom value accessor matches form control with"),r=t)}),r||i||n||(lt(e,"No valid value accessor for form control with"),null)}function gt(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function pt(e){const t=_t(e)?e.validators:e;return Array.isArray(t)?at(t):t||null}function ft(e,t){const n=_t(t)?t.asyncValidators:e;return Array.isArray(n)?ht(n):n||null}function _t(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function mt(e){return!(e instanceof Ll||e instanceof zl||e instanceof Fl)}function wt(){let e,t;return(e=window.wijmo)&&(t=e.grid)&&t.detail}function vt(){let e;return(e=window.wijmo)&&e.input}function Ct(e){return si._22(0,[(e()(),si._4(0,0,null,null,1,"div",[],null,null,null,null,null)),si._16(null,0)],null,null)}function yt(e){return si._22(0,[(e()(),si._4(0,0,null,null,1,"div",[],null,null,null,null,null)),si._16(null,0)],null,null)}function bt(e){return si._22(2,[(e()(),si._4(0,0,null,null,1,"span",[["class","wj-content"]],null,null,null,null,null)),(e()(),si._21(1,null,["",""])),(e()(),si._21(-1,null,["\n\n"]))],null,function(e,t){e(t,1,0,t.component.updateCounter)})}function Et(e){return si._22(0,[(e()(),si._4(0,0,null,null,7,"div",[["class","header visible-xs visible-sm"]],null,null,null,null,null)),(e()(),si._21(-1,null,["\n  "])),(e()(),si._4(2,0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(e()(),si._21(-1,null,["\n    "])),(e()(),si._4(4,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),si._21(-1,null,["\n      Istoric temperaturi\n    "])),(e()(),si._21(-1,null,["\n  "])),(e()(),si._21(-1,null,["\n"])),(e()(),si._21(-1,null,["\n\n"])),(e()(),si._21(-1,null,["\n"])),(e()(),si._21(-1,null,["\n"])),(e()(),si._21(-1,null,["\n"])),(e()(),si._21(-1,null,["\n"])),(e()(),si._21(-1,null,["\n"])),(e()(),si._21(-1,null,["\n"])),(e()(),si._21(-1,null,["\n\n"])),(e()(),si._4(16,0,null,null,55,"div",[["class","row"]],null,null,null,null,null)),(e()(),si._21(-1,null,["\n  "])),(e()(),si._4(18,0,null,null,37,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),si._21(-1,null,["\n    "])),(e()(),si._4(20,0,null,null,34,"wj-flex-grid",[],null,null,null,Ct,Xl)),si._19(5120,null,gl,function(e){return[function(e){return new class{constructor(e){this._isFirstChange=!0,this._isSubscribed=!1,this._onChange=(e=>{}),this._onTouched=(()=>{}),this._directive=e,this._behavior=Gl.getBehavior(e)}writeValue(e){this._modelValue=e,this._directive.isInitialized?(this._ensureInitEhUnsubscribed(),this._updateDirective(),this._isFirstChange=!1):this._dirInitEh?this._isFirstChange=!1:this._dirInitEh=this._directive.initialized.subscribe(()=>{this._updateDirective(),this._ensureInitEhUnsubscribed()})}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}_updateDirective(){if(!this._isFirstChange||null!=this._modelValue){if(this._ensureNgModelProp(),this._directive&&this._ngModelProp){let e=this._modelValue;""===e&&(e=null),this._directive[this._ngModelProp]=e}this._ensureSubscribed()}}_ensureSubscribed(){if(this._isSubscribed)return;let e=this._directive;if(e){this._ensureNgModelProp();let t=this._ngModelProp=e[Gl.wjModelPropAttr];if(t){let n=this._behavior.getPropChangeEvent(t);n&&e[n].addHandler(this._dirValChgEh,this)}e instanceof Si&&e.lostFocus.addHandler(this._dirLostFocusEh,this),this._isSubscribed=!0}}_ensureNgModelProp(){!this._ngModelProp&&this._directive&&(this._ngModelProp=this._directive[Gl.wjModelPropAttr])}_ensureInitEhUnsubscribed(){this._dirInitEh&&(this._dirInitEh.unsubscribe(),this._dirInitEh=null)}_dirValChgEh(e,t){if(this._onChange&&this._directive&&this._ngModelProp){let e=this._directive[this._ngModelProp];$l.equals(this._modelValue,e)||(this._modelValue=e,this._onChange(e))}}_dirLostFocusEh(e,t){this._onTouched&&this._onTouched()}}(e)}(e)]},["WjComponent"]),si._3(22,4440064,null,0,ql,[si.k,si.p,[3,"WjComponent"],si.h],{itemsSource:[0,"itemsSource"]},null),si._19(2048,null,"WjComponent",null,[ql]),(e()(),si._21(-1,0,["\n      "])),(e()(),si._4(25,0,null,0,3,"wj-flex-grid-column",[["binding","id"],["header","Id"]],null,null,null,yt,ea)),si._19(6144,null,"WjComponent",null,[Kl]),si._3(27,4440064,null,0,Kl,[si.k,si.p,[3,"WjComponent"]],{binding:[0,"binding"],header:[1,"header"]},null),(e()(),si._21(-1,0,["\n      "])),(e()(),si._21(-1,0,["\n      "])),(e()(),si._4(30,0,null,0,3,"wj-flex-grid-column",[["binding","numeCamera"],["header","Camera"]],null,null,null,yt,ea)),si._19(6144,null,"WjComponent",null,[Kl]),si._3(32,4440064,null,0,Kl,[si.k,si.p,[3,"WjComponent"]],{binding:[0,"binding"],header:[1,"header"]},null),(e()(),si._21(-1,0,["\n      "])),(e()(),si._21(-1,0,["\n      "])),(e()(),si._4(35,0,null,0,3,"wj-flex-grid-column",[["binding","dataInregistrare"],["header","Data"]],null,null,null,yt,ea)),si._19(6144,null,"WjComponent",null,[Kl]),si._3(37,4440064,null,0,Kl,[si.k,si.p,[3,"WjComponent"]],{binding:[0,"binding"],header:[1,"header"]},null),(e()(),si._21(-1,0,["\n      "])),(e()(),si._21(-1,0,["\n      "])),(e()(),si._4(40,0,null,0,3,"wj-flex-grid-column",[["binding","vBat"],["header","Baterie"]],null,null,null,yt,ea)),si._19(6144,null,"WjComponent",null,[Kl]),si._3(42,4440064,null,0,Kl,[si.k,si.p,[3,"WjComponent"]],{binding:[0,"binding"],header:[1,"header"]},null),(e()(),si._21(-1,0,["\n      "])),(e()(),si._21(-1,0,["\n      "])),(e()(),si._4(45,0,null,0,3,"wj-flex-grid-column",[["binding","vTempOne"],["header","T1"]],null,null,null,yt,ea)),si._19(6144,null,"WjComponent",null,[Kl]),si._3(47,4440064,null,0,Kl,[si.k,si.p,[3,"WjComponent"]],{binding:[0,"binding"],header:[1,"header"]},null),(e()(),si._21(-1,0,["\n      "])),(e()(),si._21(-1,0,["\n      "])),(e()(),si._4(50,0,null,0,3,"wj-flex-grid-column",[["binding","vTempTwo"],["header","T2"]],null,null,null,yt,ea)),si._19(6144,null,"WjComponent",null,[Kl]),si._3(52,4440064,null,0,Kl,[si.k,si.p,[3,"WjComponent"]],{binding:[0,"binding"],header:[1,"header"]},null),(e()(),si._21(-1,0,["\n      "])),(e()(),si._21(-1,0,["\n\n    "])),(e()(),si._21(-1,null,["\n  "])),(e()(),si._21(-1,null,["\n  "])),(e()(),si._4(57,0,null,null,13,"div",[["class","col-sm-4"]],null,null,null,null,null)),(e()(),si._21(-1,null,["\n    "])),(e()(),si._4(59,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.updateRandom()&&i),i},null,null)),(e()(),si._21(-1,null,["Update room"])),(e()(),si._21(-1,null,["\n    "])),(e()(),si._4(62,0,null,null,1,"button",[["class","btn btn-dark"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.startRandom()&&i),i},null,null)),(e()(),si._21(-1,null,["Start auto update"])),(e()(),si._21(-1,null,["\n    "])),(e()(),si._4(65,0,null,null,1,"button",[["class","btn btn-danger"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.stopRandom()&&i),i},null,null)),(e()(),si._21(-1,null,["End auto autoupdate"])),(e()(),si._21(-1,null,["\n\n\n    "])),(e()(),si._4(68,0,null,null,1,"app-led-status",[],null,null,null,bt,na)),si._3(69,114688,null,0,ta,[],{updateCounter:[0,"updateCounter"]},null),(e()(),si._21(-1,null,["\n  "])),(e()(),si._21(-1,null,["\n"])),(e()(),si._21(-1,null,["\n\n\n"]))],function(e,t){var n=t.component;e(t,22,0,n.data),e(t,27,0,"id","Id"),e(t,32,0,"numeCamera","Camera"),e(t,37,0,"dataInregistrare","Data"),e(t,42,0,"vBat","Baterie"),e(t,47,0,"vTempOne","T1"),e(t,52,0,"vTempTwo","T2"),e(t,69,0,n.updateCount)},null)}function xt(e){return si._22(0,[(e()(),si._4(0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),si._21(-1,null,["\n  temperaturi works!\n"])),(e()(),si._21(-1,null,["\n"]))],null,null)}function St(e){return si._22(0,[(e()(),si._4(0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),si._21(-1,null,["\n  setari works!\n"])),(e()(),si._21(-1,null,["\n"]))],null,null)}function Rt(e){return si._22(0,[(e()(),si._4(0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),si._21(-1,null,["\n  retea works!\n"])),(e()(),si._21(-1,null,["\n"]))],null,null)}function Tt(e,t){return function(e,t){return Object(ga.a)(e,t,1)}(e,t)(this)}function At(e,t,n=Number.POSITIVE_INFINITY){return Object(ga.a)(e,t,n)(this)}function Mt(e){return function(e){return function(t){const n=new class{constructor(e){this.selector=e}call(e,t){return t.subscribe(new class extends ds.a{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle(),this.add(Object(cs.a)(this,t))}}}(e,this.selector,this.caught))}}(e),i=t.lift(n);return n.caught=i}}(e)(this)}function It(){return Object(Ra.a)(1)(this)}function kt(e,t,n){return function(e,t,n){return i=>i.lift(new class{constructor(e,t,n,i){this.predicate=e,this.resultSelector=t,this.defaultValue=n,this.source=i}call(e,t){return t.subscribe(new class extends ms.a{constructor(e,t,n,i,r){super(e),this.predicate=t,this.resultSelector=n,this.defaultValue=i,this.source=r,this.index=0,this.hasCompleted=!1,this._emitted=!1}_next(e){const t=this.index++;this.predicate?this._tryPredicate(e,t):this._emit(e,t)}_tryPredicate(e,t){let n;try{n=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}n&&this._emit(e,t)}_emit(e,t){this.resultSelector?this._tryResultSelector(e,t):this._emitFinal(e)}_tryResultSelector(e,t){let n;try{n=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this._emitFinal(n)}_emitFinal(e){const t=this.destination;this._emitted||(this._emitted=!0,t.next(e),t.complete(),this.hasCompleted=!0)}_complete(){const e=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||e.error(new Ta):(e.next(this.defaultValue),e.complete())}}(e,this.predicate,this.resultSelector,this.defaultValue,this.source))}}(e,t,n,i))}(e,t,n)(this)}function Pt(e,t){return function(e,t){return n=>n.lift(new class{constructor(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}call(e,t){return t.subscribe(new class extends ms.a{constructor(e,t,n,i){super(e),this.predicate=t,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}(e,this.predicate,this.thisArg,this.source))}}(e,t,n))}(e,t)(this)}function Nt(e,t,n){return function(e,t,n){return i=>i.lift(new class{constructor(e,t,n,i){this.predicate=e,this.resultSelector=t,this.defaultValue=n,this.source=i}call(e,t){return t.subscribe(new class extends ms.a{constructor(e,t,n,i,r){super(e),this.predicate=t,this.resultSelector=n,this.defaultValue=i,this.source=r,this.hasValue=!1,this.index=0,"undefined"!=typeof i&&(this.lastValue=i,this.hasValue=!0)}_next(e){const t=this.index++;if(this.predicate)this._tryPredicate(e,t);else{if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}}_tryPredicate(e,t){let n;try{n=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}if(n){if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}}_tryResultSelector(e,t){let n;try{n=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this.lastValue=n,this.hasValue=!0}_complete(){const e=this.destination;this.hasValue?(e.next(this.lastValue),e.complete()):e.error(new Ta)}}(e,this.predicate,this.resultSelector,this.defaultValue,this.source))}}(e,t,n,i))}(e,t,n)(this)}function Dt(e=Number.POSITIVE_INFINITY){return Object(Ra.a)(e)(this)}function Ot(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new class{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new class extends ms.a{constructor(e,t,n,i){super(e),this.accumulator=t,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(e){this.destination.error(e)}this.seed=n,this.destination.next(n)}}(e,this.accumulator,this.seed,this.hasSeed))}}(e,t,n))}}function Vt(e){return function(t){return 0===e?new us.a:t.lift(new class{constructor(e){if(this.total=e,this.total<0)throw new class extends Error{constructor(){const e=super("argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}}}call(e,t){return t.subscribe(new class extends ms.a{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,i=this.count++;t.length<n?t.push(e):t[i%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=t++%n;e.next(i[r])}}e.complete()}}(e,this.total))}}(e))}}function Ht(e,t){return arguments.length>=2?function(n){return Object(Aa.a)(Ot(e,t),Vt(1),function(e=null){return t=>t.lift(new class{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new class extends ms.a{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}(e,this.defaultValue))}}(e))}(t))(n)}:function(t){return Object(Aa.a)(Ot((t,n,i)=>e(t,n,i+1)),Vt(1))(t)}}function zt(e,t){return function(e,t){return function(n){return n.lift(new class{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new class extends ms.a{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)}}(e,this.predicate,this.thisArg))}}(e,t))}}(e,t)(this)}function Lt(e){return new class{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}(e)}function Ft(e,t,n){const i=n.path.split("/");if(i.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const r={};for(let s=0;s<i.length;s++){const t=i[s],n=e[s];if(t.startsWith(":"))r[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function jt(e,t=""){for(let n=0;n<e.length;n++){const i=e[n];!function(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&e.outlet&&e.outlet!==$a)throw new Error(`Invalid configuration of route '${t}': a componentless route cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&jt(e.children,t)}(i,i?t||i.path?t&&!i.path?`${t}/`:!t&&i.path?i.path:`${t}/${i.path}`:"":t)}}function Bt(e,t){const n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],e[r]!==t[r])return!1;return!0}function Ut(e){return Array.prototype.concat.apply([],e)}function Gt(e){return e.length>0?e[e.length-1]:null}function $t(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Wt(e){const t=Dt.call(e);return Pt.call(t,e=>!0===e)}function qt(e){return Object(si._8)(e)?e:Object(si._9)(e)?_s(Promise.resolve(e)):da(e)}function Kt(e,t,n){return n?Bt(e.queryParams,t.queryParams)&&Yt(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>t[n]===e[n])}(e.queryParams,t.queryParams)&&Zt(e.root,t.root)}function Yt(e,t){if(!Jt(e.segments,t.segments))return!1;if(e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children){if(!e.children[n])return!1;if(!Yt(e.children[n],t.children[n]))return!1}return!0}function Zt(e,t){return Qt(e,t,t.segments)}function Qt(e,t,n){if(e.segments.length>n.length)return!!Jt(e.segments.slice(0,n.length),n)&&!t.hasChildren();if(e.segments.length===n.length){if(!Jt(e.segments,n))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!Zt(e.children[n],t.children[n]))return!1}return!0}{const i=n.slice(0,e.segments.length),r=n.slice(e.segments.length);return!!Jt(e.segments,i)&&!!e.children[$a]&&Qt(e.children[$a],t,r)}}function Jt(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function Xt(e,t){let n=[];return $t(e.children,(e,i)=>{i===$a&&(n=n.concat(t(e,i)))}),$t(e.children,(e,i)=>{i!==$a&&(n=n.concat(t(e,i)))}),n}function en(e){return e.segments.map(e=>sn(e)).join("/")}function tn(e,t){if(!e.hasChildren())return en(e);if(t){const t=e.children[$a]?tn(e.children[$a],!1):"",n=[];return $t(e.children,(e,t)=>{t!==$a&&n.push(`${t}:${tn(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=Xt(e,(t,n)=>n===$a?[tn(e.children[$a],!1)]:[`${n}:${tn(t,!1)}`]);return`${en(e)}/(${t.join("//")})`}}function nn(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";")}function rn(e){return decodeURIComponent(e)}function sn(e){return`${nn(e.path)}${function(e){return Object.keys(e).map(t=>`;${nn(t)}=${nn(e[t])}`).join("")}(e.parameters)}`}function on(e){const t=e.match(eh);return t?t[0]:""}function ln(e){return new nr.a(t=>t.error(new ih(e)))}function an(e){return new nr.a(t=>t.error(new rh(e)))}function hn(e){return new nr.a(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}function un(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const i=(t.matcher||Ft)(n,e,t);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function cn(e){if(1===e.numberOfChildren&&e.children[$a]){const t=e.children[$a];return new Ya(e.segments.concat(t.segments),t.children)}return e}function dn(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function gn(e){return e.outlet||$a}function pn(e,t){if(e===t.value)return t;for(const n of t.children){const t=pn(e,n);if(t)return t}return null}function fn(e,t){if(e===t.value)return[t];for(const n of t.children){const i=fn(e,n);if(i.length)return i.unshift(t),i}return[]}function _n(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}function mn(e,t){const n=function(n,i){const r=new hh([],{},{},"",{},$a,t,null,e.root,-1,{});return new uh("",new oh(r,[]))}(),i=new tr([new Za("",{})]),r=new tr({}),s=new tr({}),o=new tr({}),l=new tr(""),a=new ah(i,r,o,l,s,$a,t,n.root);return a.snapshot=n.root,new lh(new oh(a,[]),n)}function wn(e){const t=e.pathFromRoot;let n=t.length-1;for(;n>=1;){const e=t[n],i=t[n-1];if(e.routeConfig&&""===e.routeConfig.path)n--;else{if(i.component)break;n--}}return t.slice(n).reduce((e,t)=>({params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}),{params:{},data:{},resolve:{}})}function vn(e,t){t.value._routerState=e,t.children.forEach(t=>vn(e,t))}function Cn(e){const t=e.children.length>0?` { ${e.children.map(Cn).join(", ")} } `:"";return`${e.value}${t}`}function yn(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Bt(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Bt(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Bt(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Bt(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function bn(e,t){return Bt(e.params,t.params)&&function(e,t){return Jt(e,t)&&e.every((e,n)=>Bt(e.parameters,t[n].parameters))}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||bn(e.parent,t.parent))}function En(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=t.value;const r=function(e,n,i){return t.children.map(t=>{for(const n of i.children)if(e.shouldReuseRoute(n.value.snapshot,t.value))return En(e,t,n);return En(e,t)})}(e,0,n);return new oh(i,r)}if(e.retrieve(t.value)){const n=e.retrieve(t.value).route;return xn(t,n),n}{const n=function(e){return new ah(new tr(e.url),new tr(e.params),new tr(e.queryParams),new tr(e.fragment),new tr(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(t=>En(e,t));return new oh(n,i)}}function xn(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)xn(e.children[n],t.children[n])}function Sn(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Rn(e,t,n,i,r){let s={};return i&&$t(i,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new Ka(n.root===e?t:Tn(n.root,e,t),s,r)}function Tn(e,t,n){const i={};return $t(e.children,(e,r)=>{i[r]=e===t?n:Tn(e,t,n)}),new Ya(e.segments,i)}function An(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[$a]:`${e}`}function Mn(e,t,n){if(e||(e=new Ya([],{})),0===e.segments.length&&e.hasChildren())return In(e,t,n);const i=function(e,n,i){let r=0,s=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(r>=i.length)return o;const t=e.segments[s],n=An(i[r]),l=r<i.length-1?i[r+1]:null;if(s>0&&void 0===n)break;if(n&&l&&"object"==typeof l&&void 0===l.outlets){if(!Pn(n,l,t))return o;r+=2}else{if(!Pn(n,{},t))return o;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(e,0,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const t=new Ya(e.segments.slice(0,i.pathIndex),{});return t.children[$a]=new Ya(e.segments.slice(i.pathIndex),e.children),In(t,0,r)}return i.match&&0===r.length?new Ya(e.segments,{}):i.match&&!e.hasChildren()?kn(e,t,n):i.match?In(e,0,r):kn(e,t,n)}function In(e,t,n){if(0===n.length)return new Ya(e.segments,{});{const i="object"!=typeof n[0]?{[$a]:n}:void 0===n[0].outlets?{[$a]:n}:n[0].outlets,r={};return $t(i,(n,i)=>{null!==n&&(r[i]=Mn(e.children[i],t,n))}),$t(e.children,(e,t)=>{void 0===i[t]&&(r[t]=e)}),new Ya(e.segments,r)}}function kn(e,t,n){const i=e.segments.slice(0,t);let r=0;for(;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){const e=function(e){const t={};return $t(n[r].outlets,(e,n)=>{null!==e&&(t[n]=kn(new Ya([],{}),0,e))}),t}();return new Ya(i,e)}if(0===r&&Sn(n[0])){i.push(new Za(e.segments[t].path,n[0])),r++;continue}const s=An(n[r]),o=r<n.length-1?n[r+1]:null;s&&o&&Sn(o)?(i.push(new Za(s,function(e){const t={};return $t(o,(e,n)=>t[n]=`${e}`),t}())),r+=2):(i.push(new Za(s,{})),r++)}return new Ya(i,{})}function Pn(e,t,n){return e==n.path&&Bt(t,n.parameters)}function Nn(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Dn(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function On(e,t,n,i){if(n.length>0&&function(e,t,n){return i.some(n=>Vn(e,t,n)&&Hn(n)!==$a)}(e,n)){const r=new Ya(t,function(e,t,n,i){const r={};r[$a]=i,i._sourceSegment=e,i._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&Hn(s)!==$a){const n=new Ya([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,r[Hn(s)]=n}return r}(e,t,i,new Ya(n,e.children)));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return i.some(n=>Vn(e,t,n))}(e,n)){const r=new Ya(e.segments,function(e,t,n,i){const r={};for(const s of n)if(Vn(e,t,s)&&!i[Hn(s)]){const t=new Ya([],{});t._sourceSegment=e,t._segmentIndexShift=e.segments.length,r[Hn(s)]=t}return Object.assign({},i,r)}(e,n,i,e.children));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:n}}const r=new Ya(e.segments,e.children);return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:n}}function Vn(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Hn(e){return e.outlet||$a}function zn(e){return e.data||{}}function Ln(e){return e.resolve||{}}function Fn(e){throw e}function jn(e){return da(null)}function Bn(e){yn(e.value),e.children.forEach(Bn)}function Un(e){return""===e||!!e}function Gn(){return new si.w("Router",Eh)}function $n(e,t,n={}){return n.useHash?new class extends Cs{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=bs.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,i){let r=this.prepareExternalUrl(n+bs.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,t,r)}replaceState(e,t,n,i){let r=this.prepareExternalUrl(n+bs.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}(e,t):new class extends Cs{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return bs.joinWithSlash(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+bs.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,i){const r=this.prepareExternalUrl(n+bs.normalizeQueryParams(i));this._platformLocation.pushState(e,t,r)}replaceState(e,t,n,i){const r=this.prepareExternalUrl(n+bs.normalizeQueryParams(i));this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}(e,t)}function Wn(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function qn(e){return[{provide:si.a,multi:!0,useValue:e},{provide:vh,multi:!0,useValue:e}]}function Kn(e,t,n,i,r,s,o,l,a={},h,u){const c=new Eh(null,t,n,i,r,s,o,Ut(l));if(h&&(c.urlHandlingStrategy=h),u&&(c.routeReuseStrategy=u),a.errorHandler&&(c.errorHandler=a.errorHandler),a.enableTracing){const e=Oe();c.events.subscribe(t=>{e.logGroup(`Router Event: ${t.constructor.name}`),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return a.onSameUrlNavigation&&(c.onSameUrlNavigation=a.onSameUrlNavigation),c}function Yn(e){return e.routerState.root}function Zn(e){return e.appInitializer.bind(e)}function Qn(e){return e.bootstrapListener.bind(e)}function Jn(e){return"string"==typeof e?document.querySelector(e):e instanceof si.k?e.nativeElement:e}function Xn(){return"undefined"==typeof qh||("undefined"==typeof qh.__theme?zh?"bs3"===zh:"bs3"===(zh=function(){if("undefined"==typeof document)return null;var e=document.createElement("span");e.innerText="test bs version",document.body.appendChild(e),e.classList.add("d-none");var t=e.getBoundingClientRect();return document.body.removeChild(e),t&&0===t.top?"bs4":"bs3"}()):"bs4"!==qh.__theme)}function ei(e){return si._22(0,[(e()(),si._4(0,0,null,null,28,"ul",[["class","dropdown-menu"],["role","menu"]],null,null,null,null,null)),(e()(),si._21(-1,null,["\n    "])),(e()(),si._4(2,0,null,null,4,"li",[["role","menuitem"]],null,null,null,null,null)),(e()(),si._4(3,0,null,null,3,"a",[["class","dropdown-item"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==si._17(e,4).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),si._3(4,671744,null,0,xh,[Eh,ah,Cs],{routerLink:[0,"routerLink"]},null),si._18(5,1),(e()(),si._21(-1,null,["Istoric"])),(e()(),si._21(-1,null,["\n    "])),(e()(),si._4(8,0,null,null,4,"li",[["role","menuitem"]],null,null,null,null,null)),(e()(),si._4(9,0,null,null,3,"a",[["class","dropdown-item"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==si._17(e,10).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),si._3(10,671744,null,0,xh,[Eh,ah,Cs],{routerLink:[0,"routerLink"]},null),si._18(11,1),(e()(),si._21(-1,null,["Camera 1"])),(e()(),si._21(-1,null,["\n    "])),(e()(),si._4(14,0,null,null,4,"li",[["role","menuitem"]],null,null,null,null,null)),(e()(),si._4(15,0,null,null,3,"a",[["class","dropdown-item"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==si._17(e,16).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),si._3(16,671744,null,0,xh,[Eh,ah,Cs],{routerLink:[0,"routerLink"]},null),si._18(17,1),(e()(),si._21(-1,null,["Setari senzori"])),(e()(),si._21(-1,null,["\n    "])),(e()(),si._4(20,0,null,null,0,"li",[["class","divider dropdown-divider"]],null,null,null,null,null)),(e()(),si._21(-1,null,["\n    "])),(e()(),si._4(22,0,null,null,5,"li",[["role","menuitem"]],null,null,null,null,null)),(e()(),si._4(23,0,null,null,3,"a",[["class","dropdown-item"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==si._17(e,24).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),si._3(24,671744,null,0,xh,[Eh,ah,Cs],{routerLink:[0,"routerLink"]},null),si._18(25,1),(e()(),si._21(-1,null,["Setari retea"])),(e()(),si._21(-1,null,["\n    "])),(e()(),si._21(-1,null,["\n  "]))],function(e,t){e(t,4,0,e(t,5,0,"istoric")),e(t,10,0,e(t,11,0,"temperaturi")),e(t,16,0,e(t,17,0,"setari")),e(t,24,0,e(t,25,0,"retea"))},function(e,t){e(t,3,0,si._17(t,4).target,si._17(t,4).href),e(t,9,0,si._17(t,10).target,si._17(t,10).href),e(t,15,0,si._17(t,16).target,si._17(t,16).href),e(t,23,0,si._17(t,24).target,si._17(t,24).href)})}function ti(e){return si._22(0,[(e()(),si._4(0,16777216,null,null,12,"div",[["class","btn-group"],["dropdown",""]],[[2,"dropup",null],[2,"open",null],[2,"show",null]],null,null,null,null)),si._19(512,null,Cr,Cr,[]),si._3(2,212992,null,0,Kh,[si.k,si.C,si.N,$h,Wh,Cr],null,null),(e()(),si._21(-1,null,["\n  "])),(e()(),si._4(4,0,null,null,4,"button",[["class","btn btn-primary dropdown-toggle"],["dropdownToggle",""],["type","button"]],[[1,"aria-haspopup",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],["document","click"],[null,"keyup.esc"]],function(e,t,n){var i=!0;return"click"===t&&(i=!1!==si._17(e,5).onClick()&&i),"document:click"===t&&(i=!1!==si._17(e,5).onDocumentClick(n)&&i),"keyup.esc"===t&&(i=!1!==si._17(e,5).onEsc()&&i),i},null,null)),si._3(5,147456,null,0,Yh,[Cr,si.k],null,null),(e()(),si._21(-1,null,["\n    Temperaturi"])),(e()(),si._4(7,0,null,null,0,"span",[["class","caret"]],null,null,null,null,null)),(e()(),si._21(-1,null,["\n  "])),(e()(),si._21(-1,null,["\n  "])),(e()(),si.Z(16777216,null,null,1,null,ei)),si._3(11,16384,null,0,Zh,[Cr,si.N,si.K],null,null),(e()(),si._21(-1,null,["\n"])),(e()(),si._21(-1,null,["\n"]))],function(e,t){e(t,2,0)},function(e,t){e(t,0,0,si._17(t,2).dropup,si._17(t,2).isOpen,si._17(t,2).isOpen&&si._17(t,2).isBs4),e(t,4,0,!0,si._17(t,5).isDisabled,si._17(t,5).isOpen)})}function ni(e){return si._22(0,[(e()(),si._21(-1,null,["\n"])),(e()(),si._21(-1,null,["\n\n"])),(e()(),si._4(2,0,null,null,1,"app-header",[],null,null,null,ti,Jh)),si._3(3,114688,null,0,Qh,[],null,null),(e()(),si._21(-1,null,["\n"])),(e()(),si._4(5,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),si._3(6,212992,null,0,Th,[Rh,si.N,si.j,[8,null],si.h],null,null),(e()(),si._21(-1,null,["\n\n\n\n\n\n"]))],function(e,t){e(t,3,0),e(t,6,0)},null)}Object.defineProperty(t,"__esModule",{value:!0});var ii={};n.d(ii,"getVersion",function(){return i}),n.d(ii,"Key",function(){return ai}),n.d(ii,"DataType",function(){return ui}),n.d(ii,"tryCast",function(){return r}),n.d(ii,"isPrimitive",function(){return s}),n.d(ii,"isString",function(){return o}),n.d(ii,"isNullOrWhiteSpace",function(){return l}),n.d(ii,"isNumber",function(){return a}),n.d(ii,"isInt",function(){return h}),n.d(ii,"isBoolean",function(){return u}),n.d(ii,"isFunction",function(){return c}),n.d(ii,"isUndefined",function(){return d}),n.d(ii,"isDate",function(){return g}),n.d(ii,"isArray",function(){return p}),n.d(ii,"isObject",function(){return f}),n.d(ii,"getUniqueId",function(){return _}),n.d(ii,"mouseToPage",function(){return m}),n.d(ii,"getType",function(){return w}),n.d(ii,"changeType",function(){return v}),n.d(ii,"toFixed",function(){return C}),n.d(ii,"format",function(){return y}),n.d(ii,"clamp",function(){return b}),n.d(ii,"copy",function(){return E}),n.d(ii,"assert",function(){return x}),n.d(ii,"_deprecated",function(){return S}),n.d(ii,"asString",function(){return R}),n.d(ii,"asNumber",function(){return T}),n.d(ii,"asInt",function(){return A}),n.d(ii,"asBoolean",function(){return M}),n.d(ii,"asDate",function(){return I}),n.d(ii,"asFunction",function(){return k}),n.d(ii,"asArray",function(){return P}),n.d(ii,"asType",function(){return N}),n.d(ii,"asEnum",function(){return D}),n.d(ii,"asCollectionView",function(){return O}),n.d(ii,"hasItems",function(){return V}),n.d(ii,"toHeaderCase",function(){return H}),n.d(ii,"escapeHtml",function(){return z}),n.d(ii,"hasClass",function(){return L}),n.d(ii,"removeClass",function(){return F}),n.d(ii,"addClass",function(){return j}),n.d(ii,"toggleClass",function(){return B}),n.d(ii,"setAttribute",function(){return U}),n.d(ii,"setSelectionRange",function(){return G}),n.d(ii,"getActiveElement",function(){return $}),n.d(ii,"moveFocus",function(){return W}),n.d(ii,"getElement",function(){return q}),n.d(ii,"createElement",function(){return K}),n.d(ii,"setText",function(){return Y}),n.d(ii,"contains",function(){return Z}),n.d(ii,"closest",function(){return Q}),n.d(ii,"closestClass",function(){return J}),n.d(ii,"enable",function(){return X}),n.d(ii,"getElementRect",function(){return ee}),n.d(ii,"setCss",function(){return te}),n.d(ii,"animate",function(){return ne}),n.d(ii,"Point",function(){return di}),n.d(ii,"Size",function(){return gi}),n.d(ii,"Rect",function(){return pi}),n.d(ii,"DateTime",function(){return fi}),n.d(ii,"httpRequest",function(){return ie}),n.d(ii,"culture",function(){return _i}),n.d(ii,"Globalize",function(){return mi}),n.d(ii,"_updateCulture",function(){return re}),n.d(ii,"Binding",function(){return wi}),n.d(ii,"Event",function(){return Ci}),n.d(ii,"EventArgs",function(){return yi}),n.d(ii,"CancelEventArgs",function(){return bi}),n.d(ii,"PropertyChangedEventArgs",function(){return Ei}),n.d(ii,"RequestErrorEventArgs",function(){return xi}),n.d(ii,"Control",function(){return Si}),n.d(ii,"Aggregate",function(){return Ri}),n.d(ii,"getAggregate",function(){return se}),n.d(ii,"NotifyCollectionChangedAction",function(){return Ti}),n.d(ii,"NotifyCollectionChangedEventArgs",function(){return Ai}),n.d(ii,"SortDescription",function(){return Mi}),n.d(ii,"PageChangingEventArgs",function(){return Ii}),n.d(ii,"GroupDescription",function(){return ki}),n.d(ii,"PropertyGroupDescription",function(){return Pi}),n.d(ii,"ArrayBase",function(){return Ni}),n.d(ii,"ObservableArray",function(){return Vi}),n.d(ii,"CollectionView",function(){return Hi}),n.d(ii,"CollectionViewGroup",function(){return zi}),n.d(ii,"Tooltip",function(){return Li}),n.d(ii,"TooltipEventArgs",function(){return Fi}),n.d(ii,"Color",function(){return ji}),n.d(ii,"Clipboard",function(){return Bi}),n.d(ii,"showPopup",function(){return oe}),n.d(ii,"hidePopup",function(){return le}),n.d(ii,"PrintDocument",function(){return Ui}),n.d(ii,"_MaskProvider",function(){return Gi}),n.d(ii,"_MaskElement",function(){return $i}),n.d(ii,"isMobile",function(){return he}),n.d(ii,"isFirefox",function(){return ue}),n.d(ii,"isSafari",function(){return ce}),n.d(ii,"isIE",function(){return de}),n.d(ii,"isIE9",function(){return ge}),n.d(ii,"getEventOptions",function(){return pe}),n.d(ii,"_startDrag",function(){return fe});var ri={};n.d(ri,"HeadersVisibility",function(){return Rr}),n.d(ri,"FlexGrid",function(){return Tr}),n.d(ri,"CellRangeEventArgs",function(){return Ar}),n.d(ri,"FormatItemEventArgs",function(){return Mr}),n.d(ri,"CellEditEndingEventArgs",function(){return Ir}),n.d(ri,"CellType",function(){return kr}),n.d(ri,"GridPanel",function(){return Pr}),n.d(ri,"CellFactory",function(){return Nr}),n.d(ri,"CellRange",function(){return Dr}),n.d(ri,"RowColFlags",function(){return Or}),n.d(ri,"RowCol",function(){return Vr}),n.d(ri,"Column",function(){return Hr}),n.d(ri,"Row",function(){return zr}),n.d(ri,"GroupRow",function(){return Lr}),n.d(ri,"RowColCollection",function(){return Fr}),n.d(ri,"ColumnCollection",function(){return jr}),n.d(ri,"RowCollection",function(){return Br}),n.d(ri,"HitTestInfo",function(){return Ur}),n.d(ri,"AllowMerging",function(){return Gr}),n.d(ri,"MergeManager",function(){return $r}),n.d(ri,"DataMap",function(){return Wr}),n.d(ri,"SelectionMode",function(){return qr}),n.d(ri,"SelectedState",function(){return Kr}),n.d(ri,"SelMove",function(){return Yr}),n.d(ri,"_SelectionHandler",function(){return Zr}),n.d(ri,"KeyAction",function(){return Qr}),n.d(ri,"_KeyboardHandler",function(){return Jr}),n.d(ri,"AllowResizing",function(){return ts}),n.d(ri,"AutoSizeMode",function(){return ns}),n.d(ri,"AllowDragging",function(){return is}),n.d(ri,"_MouseHandler",function(){return rs}),n.d(ri,"_EditHandler",function(){return os}),n.d(ri,"_AddNewHandler",function(){return ls}),n.d(ri,"_NewRowTemplate",function(){return as}),n.d(ri,"_ImeHandler",function(){return hs});var si=n("1GK5");class oi{constructor(){}ngOnInit(){}}var li=window.wijmo&&window.wijmo.culture;window.wijmo=ii,_i=li;var ai,hi="5.20173.380";!function(e){e[e.Back=8]="Back",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.Left=37]="Left",e[e.Up=38]="Up",e[e.Right=39]="Right",e[e.Down=40]="Down",e[e.Delete=46]="Delete",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12"}(ai||(ai={}));var ui;!function(e){e[e.Object=0]="Object",e[e.String=1]="String",e[e.Number=2]="Number",e[e.Boolean=3]="Boolean",e[e.Date=4]="Date",e[e.Array=5]="Array"}(ui||(ui={}));const ci={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};class di{constructor(e=0,t=0){this.x=T(e),this.y=T(t)}equals(e){return e instanceof di&&this.x==e.x&&this.y==e.y}clone(){return new di(this.x,this.y)}}class gi{constructor(e=0,t=0){this.width=T(e),this.height=T(t)}equals(e){return e instanceof gi&&this.width==e.width&&this.height==e.height}clone(){return new gi(this.width,this.height)}}class pi{constructor(e,t,n,i){this.left=T(e),this.top=T(t),this.width=T(n),this.height=T(i)}get right(){return this.left+this.width}get bottom(){return this.top+this.height}equals(e){return e instanceof pi&&this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height}clone(){return new pi(this.left,this.top,this.width,this.height)}static fromBoundingRect(e){return null!=e.left?new pi(e.left,e.top,e.width,e.height):null!=e.x?new pi(e.x,e.y,e.width,e.height):void x(!1,"Invalid source rectangle.")}static union(e,t){let n=Math.min(e.left,t.left),i=Math.min(e.top,t.top),r=Math.max(e.right,t.right),s=Math.max(e.bottom,t.bottom);return new pi(n,i,r-n,s-i)}static intersection(e,t){let n=Math.max(e.left,t.left),i=Math.max(e.top,t.top),r=Math.min(e.right,t.right),s=Math.min(e.bottom,t.bottom);return new pi(n,i,r-n,s-i)}contains(e){return e instanceof di?e.x>=this.left&&e.x<=this.right&&e.y>=this.top&&e.y<=this.bottom:e instanceof pi?e.left>=this.left&&e.right<=this.right&&e.top>=this.top&&e.bottom<=this.bottom:void x(!1,"Point or Rect expected.")}inflate(e,t){return new pi(this.left-e,this.top-t,this.width+2*e,this.height+2*t)}}class fi{static addDays(e,t){return fi.newDate(e.getFullYear(),e.getMonth(),e.getDate()+t)}static addMonths(e,t){return fi.newDate(e.getFullYear(),e.getMonth()+t,e.getDate())}static addYears(e,t){return fi.newDate(e.getFullYear()+t,e.getMonth(),e.getDate())}static addHours(e,t){return fi.newDate(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()+t)}static addMinutes(e,t){return fi.newDate(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()+t)}static addSeconds(e,t){return fi.newDate(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()+t)}static sameDate(e,t){return g(e)&&g(t)&&e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()}static sameTime(e,t){return g(e)&&g(t)&&e.getHours()==t.getHours()&&e.getMinutes()==t.getMinutes()&&e.getSeconds()==t.getSeconds()}static equals(e,t){return g(e)&&g(t)&&e.getTime()==t.getTime()}static fromDateTime(e,t){return e||t?(e||(e=t),t||(t=e),fi.newDate(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())):null}static toFiscal(e,t){let n=_i.Globalize.calendar;return p(n.fiscalYearOffsets)?fi.addMonths(e,-n.fiscalYearOffsets[t?0:1]):e}static fromFiscal(e,t){let n=_i.Globalize.calendar;return p(n.fiscalYearOffsets)?fi.addMonths(e,+n.fiscalYearOffsets[t?0:1]):e}static newDate(e,t,n,i,r,s,o){if(null==e||null==t||null==n){let i=new Date;null==e&&(e=i.getFullYear()),null==t&&(t=i.getMonth()),null==n&&(n=i.getDate())}null==i&&(i=0),null==r&&(r=0),null==s&&(s=0),null==o&&(o=0);let l=new Date(e,t,n,i,r,s,o),a=l.getFullYear();return e<100&&a>=1900&&l.setFullYear(l.getFullYear()-1900),l}static clone(e){return fi.fromDateTime(e,e)}}var _i=window.wijmo.culture||{Globalize:{numberFormat:{".":".",",":",",percent:{pattern:["-n %","n %"]},currency:{decimals:2,symbol:"$",pattern:["($n)","$n"]}},calendar:{"/":"/",":":":",firstDay:0,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],am:["AM","A"],pm:["PM","P"],eras:["A.D.","B.C."],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",t:"h:mm tt",T:"h:mm:ss tt",M:"MMMM d",m:"MMMM d",Y:"MMMM, yyyy",y:"MMMM, yyyy",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss',o:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',O:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',U:"dddd, MMMM dd, yyyy h:mm:ss tt"},fiscalYearOffsets:[-3,-3]}}};class mi{static format(e,t,n,i){return o(e)?e:a(e)?(t=t||(e==Math.round(e)?"n0":"n2"),mi.formatNumber(e,t,n,i)):g(e)?(t=t||"d",mi.formatDate(e,t)):null!=e?e.toString():""}static formatNumber(e,t,n,i){e=T(e),t=R(t);let r,s=_i.Globalize.numberFormat,o=t?t.match(/([a-z])(\d*)(,*)(.*)/i):null,l=o?o[1].toLowerCase():"n",a=o&&o[2]?parseInt(o[2]):"c"==l?s.currency.decimals:e==Math.round(e)?0:2,h=o&&o[3]?3*o[3].length:0,u=o&&o[4]?o[4]:s.currency.symbol,c=s["."],d=s[","];if(h&&(e/=Math.pow(10,h)),"d"==l||"x"==l){for(r=Math.round(Math.abs(e)).toString("d"==l?10:16);r.length<a;)r="0"+r;return e<0&&(r="-"+r),t&&"X"==t[0]&&(r=r.toUpperCase()),r}if("p"==l&&(e=C(e=mi._mul100(e),a,i)),i&&"p"!=l&&(e=C(e,a,!0)),r=mi._toFixedStr("c"==l||"p"==l?Math.abs(e):e,a),(n||"g"==l)&&r.indexOf(".")>-1&&(r=(r=r.replace(/(\.[0-9]*?)0+$/g,"$1")).replace(/\.$/,"")),"."!=c&&(r=r.replace(".",c)),d&&("n"==l||"c"==l||"p"==l)){let e=r.indexOf(c),t=/\B(?=(\d\d\d)+(?!\d))/g;r=e>-1?r.substr(0,e).replace(t,d)+r.substr(e):r.replace(t,d)}return"c"==l&&("\u200b"==u&&(u=""),r=s.currency.pattern[e<0?0:1].replace("n",r).replace("$",u)),"p"==l&&(r=s.percent.pattern[e<0?0:1].replace("n",r)),r}static formatDate(e,t){switch(e=I(e),t){case"r":case"R":return e.toUTCString();case"u":return e.toISOString().replace(/\.\d{3}/,"")}t=mi._expandFormat(t);let n=mi._parseDateFormat(t),i="";for(let r=0;r<n.length;r++)i+=mi._formatDatePart(e,t,n[r]);return i}static parseInt(e,t){return Math.round(mi.parseFloat(e,t))}static parseFloat(e,t){let n=e.indexOf("-")>-1||e.indexOf("(")>-1&&e.indexOf(")")>-1?-1:1,i=e.indexOf("%")>-1?.01:1,r=t?t.match(/,+/):null,s=r?3*r[0].length:0;if(t&&("x"==t[0]||"X"==t[0]))return e=e.replace(/[^0-9a-f]+.*$/gi,""),parseInt(e,16)*n*i*Math.pow(10,s);let o=_i.Globalize.numberFormat["."],l=new RegExp("[^\\d\\"+o+"]","g"),a=e.replace(l,"").replace(o,".");return parseFloat(a)*n*i*Math.pow(10,s)}static parseDate(e,t){if(!(e=R(e)))return null;if("u"==t)return new Date(e);let n;if("R"==t||"r"==t){let t=e.match(/(([0-9]+)\-([0-9]+)\-([0-9]+))?\s?(([0-9]+):([0-9]+)(:([0-9]+))?)?/);return t[1]||t[5]?(n=t[1]?new Date(parseInt(t[2]),parseInt(t[3])-1,parseInt(t[4])):new Date,t[5]&&(n.setHours(parseInt(t[6])),n.setMinutes(parseInt(t[7])),n.setSeconds(t[8]?parseInt(t[9]):0))):n=new Date(e),isNaN(n.getTime())?null:n}t=mi._expandFormat(t||"d");let i,r,s,o,l,h,u=_i.Globalize.calendar,c=mi._CJK,d=new RegExp("(\\"+u["/"]+")|(\\"+u[":"]+")|(\\d+)|(["+c+"\\.]{2,})|(["+c+"]+)","gi"),g=e.match(d),f=mi._parseDateFormat(t),_=0,m=-1,w=0,v=1,C=0,y=0,b=0,E=0,x=-1;if(!(g&&g.length&&f&&f.length))return null;for(let a=0;a<f.length&&g;a++){let e=a-_,t=e>-1&&e<g.length?g[e]:"",n=f[a].length;switch(f[a]){case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":h=f[a];case"yyyy":case"yyy":case"yy":case"y":n>1&&t.length>n&&(g[e]=t.substr(n),t=t.substr(0,n),_++),m=parseInt(t),l=4==t.length;break;case"MMMM":case"MMM":o=!0;let c=t.toLowerCase();w=-1;for(let e=0;e<12;e++)if(0==u.months[e].toLowerCase().indexOf(c)){w=e;break}if(w>-1)break;case"MM":case"M":o=!0,n>1&&t.length>n&&(g[e]=t.substr(n),t=t.substr(0,n),_++),w=parseInt(t)-1;break;case"dddd":case"ddd":i=!0;break;case"dd":case"d":n>1&&t.length>n&&(g[e]=t.substr(n),t=t.substr(0,n),_++),v=parseInt(t),r=!0;break;case"hh":case"h":n>1&&t.length>n&&(g[e]=t.substr(n),t=t.substr(0,n),_++),C=12==(C=parseInt(t))?0:C;break;case"HH":n>1&&t.length>n&&(g[e]=t.substr(n),t=t.substr(0,n),_++),C=parseInt(t);break;case"H":C=parseInt(t);break;case"mm":case"m":n>1&&t.length>n&&(g[e]=t.substr(n),t=t.substr(0,n),_++),y=parseInt(t);break;case"ss":case"s":n>1&&t.length>n&&(g[e]=t.substr(n),t=t.substr(0,n),_++),b=parseInt(t);break;case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":E=parseInt(t)/Math.pow(10,n-3);break;case"tt":case"t":t=t.toUpperCase(),C<12&&u.pm.indexOf(t)>-1&&(C+=12);break;case"q":case"Q":case"u":case"U":s=!0;break;case"ggg":case"gg":case"g":x=u.eras.length>1?mi._getEra(t,u):-1;break;case u["/"]:case u[":"]:if(t&&t!=f[a])return null;break;case"K":break;default:mi._unquote(f[a]).trim()!=t.trim()&&_++}}if(o&&r&&(isNaN(C)&&(C=0),isNaN(y)&&(y=0),isNaN(b)&&(b=0)),w<0||w>11||isNaN(w)||v<0||v>31||isNaN(v)||C<0||C>24||isNaN(C)||y<0||y>60||isNaN(y)||b<0||b>60||isNaN(b))return null;if(h){if(!o)return null;let e=_i.Globalize.calendar;if(p(e.fiscalYearOffsets)){let t=w-e.fiscalYearOffsets["E"==h[0]?0:1];m+=t>11?-1:t<0?1:0}}return i&&!r?null:s&&!o?null:(m<0&&(m=(new Date).getFullYear()),x>-1?m=m+u.eras[x].start.getFullYear()-1:m<100&&!l&&(m+=m+2e3<(a(u.twoDigitYearMax)?u.twoDigitYearMax:2029)?2e3:1900),n=fi.newDate(m,w,v,C,y+0,b,E),isNaN(n.getTime())?null:n)}static getFirstDayOfWeek(){return _i.Globalize.calendar.firstDay||0}static getNumberDecimalSeparator(){return _i.Globalize.numberFormat["."]||"."}static _toFixedStr(e,t){let n=e.toString(),i=n.indexOf("."),r=t-(n.length-i)+1;return n.indexOf("e")<0&&i>-1&&r>=0?n+Array(r+1).join("0"):e.toFixed(t)}static _unquote(e){return e.length>1&&e[0]==e[e.length-1]&&("'"==e[0]||'"'==e[0])?e.substr(1,e.length-2):e}static _parseDateFormat(e){if(e in mi._dateFormatParts)return mi._dateFormatParts[e];let t,n,i=[];if(e)for(t=0;t>-1&&t<e.length;t++){let r=e[t];if(("'"==r||'"'==r)&&(n=e.indexOf(r,t+1))>-1)i.push(e.substring(t,n+1)),t=n;else{for(n=t+1;n<e.length&&e[n]==r;n++);i.push(e.substring(t,n)),t=n-1}}return mi._dateFormatParts[e]=i,i}static _formatDatePart(e,t,n){let i,r=_i.Globalize.calendar,s=0,o=0,l=0,a=n.length;switch(n){case"yyyy":case"yyy":case"yy":case"y":case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":return o=(i="E"==n[0]?fi.toFiscal(e,!0):"e"==n[0]?fi.toFiscal(e,!1):e).getFullYear(),r.eras.length>1&&t.indexOf("g")>-1&&(s=mi._getEra(e,r))>-1&&(o=o-r.eras[s].start.getFullYear()+1),mi._zeroPad(n.length<3?o%100:3==n.length?o%1e3:o,n.length);case"MMMM":return r.months[e.getMonth()];case"MMM":return r.monthsAbbr[e.getMonth()];case"MM":case"M":return mi._zeroPad(e.getMonth()+1,a);case"dddd":return r.days[e.getDay()];case"ddd":return r.daysAbbr[e.getDay()];case"dd":return mi._zeroPad(e.getDate(),2);case"d":return e.getDate().toString();case"hh":case"h":return mi._zeroPad(mi._h12(e),a);case"HH":case"H":return mi._zeroPad(e.getHours(),a);case"mm":case"m":return mi._zeroPad(e.getMinutes(),a);case"ss":case"s":return mi._zeroPad(e.getSeconds(),a);case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":return l=e.getMilliseconds()*Math.pow(10,a-3),"f"==n[0]?mi._zeroPad(l,a):l.toFixed(0);case"tt":return e.getHours()<12?r.am[0]:r.pm[0];case"t":return e.getHours()<12?r.am[1]:r.pm[1];case"q":case"Q":return(Math.floor(e.getMonth()/3)+1).toString();case"u":case"U":return i=fi.toFiscal(e,"U"==n),(Math.floor(i.getMonth()/3)+1).toString();case"ggg":case"gg":case"g":return r.eras.length>1&&(s=mi._getEra(e,r))>-1?"ggg"==n?r.eras[s].name:"gg"==n?r.eras[s].name[0]:r.eras[s].symbol:r.eras[0];case":":case"/":return r[n];case"K":let h=e.toString().match(/(\+|\-)(\d{2})(\d{2})/);return h?h[1]+h[2]+h[3]:"";case"zzz":case"zz":case"z":let u,c=-e.getTimezoneOffset();switch(n){case"zzz":u=mi.format(c/60,"d2",!1,!0)+r[":"]+mi.format(c%60,"d2",!1,!0);break;case"zz":u=mi.format(c/60,"d2",!1,!0);break;case"z":u=mi.format(c/60,"d",!1,!0)}return c>=0?"+"+u:u}return a>1&&n[0]==n[a-1]&&('"'==n[0]||"'"==n[0])?n.substr(1,a-2):n}static _getEra(e,t){if(g(e)){for(let n=0;n<t.eras.length;n++)if(e>=t.eras[n].start)return n}else if(o(e))for(let n=0;n<t.eras.length;n++)if(t.eras[n].name&&(0==t.eras[n].name.indexOf(e)||0==t.eras[n].symbol.indexOf(e)))return n;return-1}static _expandFormat(e){return _i.Globalize.calendar.patterns[e]||e}static _zeroPad(e,t){let n=e.toFixed(0),i=t-n.length+1;return i>0?Array(i).join("0")+n:n}static _h12(e){let t=_i.Globalize.calendar,n=e.getHours();return t.am&&t.am[0]&&0==(n%=12)&&(n=12),n}static _mul100(e){let t=e.toString(),n=t.indexOf(".");return t.indexOf("e")>-1?100*e:(n<0?t+="00":(n+=2,t=(t=t.replace(".","")+"00").substr(0,n)+"."+t.substr(n)),parseFloat(t))}}mi._CJK="a-z"+"u00c0-u017fu3000-u30ffu4e00-u9faf".replace(/u/g,"\\u")+"u1100-u11ffu3130-u318fua960-ua97fuac00-ud7afud7b0-ud7ff".replace(/u/g,"\\u"),mi._dateFormatParts={};class wi{constructor(e){this.path=e}get path(){return this._path}set path(e){this._path=e,this._parts=e?e.split("."):[];for(let t=0;t<this._parts.length;t++){let e=this._parts[t],n=e.indexOf("[");n>-1&&(this._parts[t]=e.substr(0,n),this._parts.splice(++t,0,parseInt(e.substr(n+1))))}this._key=1==this._parts.length?this._parts[0]:null}getValue(e){if(e){if(this._key)return e[this._key];if(this._path&&this._path in e)return e[this._path];for(let t=0;t<this._parts.length&&e;t++)e=e[this._parts[t]]}return e}setValue(e,t){if(e){if(this._path in e)return void(e[this._path]=t);for(let t=0;t<this._parts.length-1;t++)if(null==(e=e[this._parts[t]]))return;e[this._parts[this._parts.length-1]]=t}}}class vi{constructor(e,t){this.handler=e,this.self=t}}class Ci{constructor(){this._handlers=[]}addHandler(e,t){k(e),this._handlers.push(new vi(e,t))}removeHandler(e,t){k(e);for(let n=0;n<this._handlers.length;n++){let i=this._handlers[n];if((i.handler==e||null==e)&&(i.self==t||null==t)&&(this._handlers.splice(n,1),e&&t))break}}removeAllHandlers(){this._handlers.length=0}raise(e,t=yi.empty){for(let n=0;n<this._handlers.length;n++){let i=this._handlers[n];i.handler.call(i.self,e,t)}}get hasHandlers(){return this._handlers.length>0}}class yi{}yi.empty=new yi;class bi extends yi{constructor(){super(...arguments),this.cancel=!1}}class Ei extends yi{constructor(e,t,n){super(),this._name=e,this._oldVal=t,this._newVal=n}get propertyName(){return this._name}get oldValue(){return this._oldVal}get newValue(){return this._newVal}}class xi extends bi{constructor(e,t){super(),this._xhr=e,this._msg=t}get request(){return this._xhr}get message(){return this._msg}set message(e){this._msg=e}}class Si{constructor(e,t=null,n=!1){this._focus=!1,this._updating=0,this._fullUpdate=!1,this.gotFocus=new Ci,this.lostFocus=new Ci,Si._updateWme(),x(null==Si.getControl(e),"Element is already hosting a control.");let i=q(e);if(x(null!=i,"Cannot find the host element."),this._orgOuter=i.outerHTML,this._orgInner=i.innerHTML,this._orgTag=i.tagName,"INPUT"!=i.tagName&&"SELECT"!=i.tagName||(i=this._replaceWithDiv(i)),this._e=i,i[Si._CTRL_KEY]=this,1==n){this._szCtl=new gi(i.offsetWidth,i.offsetHeight);let e=this._handleResize.bind(this);this.addEventListener(window,"resize",e)}let r;this.addEventListener(i,"focus",e=>{r&&clearTimeout(r),r=setTimeout(()=>{r=null,this._updateFocusState()})},!0),this.addEventListener(i,"blur",e=>{r&&clearTimeout(r),r=setTimeout(()=>{r=null,this._updateFocusState()},20)},!0);let s=this._handleDisabled.bind(this);if(this.addEventListener(i,"mousedown",s,!0),this.addEventListener(i,"mouseup",s,!0),this.addEventListener(i,"click",s,!0),this.addEventListener(i,"dblclick",s,!0),this.addEventListener(i,"keydown",s,!0),this.addEventListener(i,"wheel",s,pe(!0,!0)),null==Si._touching&&(Si._touching=!1,"ontouchstart"in window||"onpointerdown"in window)){let e=document.body,t=this._handleTouchStart,n=this._handleTouchEnd,i=pe(!0,!0);"ontouchstart"in window?(e.addEventListener("touchstart",t,i),e.addEventListener("touchend",n,i),e.addEventListener("touchcancel",n,i),e.addEventListener("touchleave",n,i)):"onpointerdown"in window&&(e.addEventListener("pointerdown",t,i),e.addEventListener("pointerup",n,i),e.addEventListener("pointerout",n,i),e.addEventListener("pointercancel",n,i),e.addEventListener("pointerleave",n,i))}}getTemplate(){for(let e=Object.getPrototypeOf(this);e;e=Object.getPrototypeOf(e)){let t=e.constructor.controlTemplate;if(t)return t}return null}applyTemplate(e,t,n,i){let r=this._e;e&&j(r,e);let s=null;t&&(s=K(t,r));let o=r.querySelectorAll("input"),l=1==o.length?o[0]:null,a=r.attributes;if(l&&a)for(let h=0;h<a.length;h++){let e=a[h].name;e.match(Si._rxInputAtts)&&l.setAttribute(e,a[h].value)}if(l&&r.id){let e=r;for(;e.parentElement;)e=e.parentElement;let t=e.querySelector('label[for="'+r.id+'"]');if(t instanceof HTMLLabelElement){let e=_(r.id+"_input");l.id=e,t.htmlFor=e}}if(l){let e=document.createEvent("HTMLEvents"),t=l.value;e.initEvent("change",!0,!1),this.addEventListener(l,"input",()=>{t=l.value},!0),this.gotFocus.addHandler(()=>{t=l.value}),this.lostFocus.addHandler(()=>{t!=l.value&&l.dispatchEvent(e)})}if(l?r.tabIndex=-1:r.getAttribute("tabindex")||(r.tabIndex=0),this._updateState(),n)for(let h in n){let e=n[h];if(this[h]=s.querySelector('[wj-part="'+e+'"]'),null==this[h]&&s.getAttribute("wj-part")==e&&(this[h]=s),null==this[h])throw'Missing template part: "'+e+'"';if(e==i){let e="name",t=r.attributes[e];t&&t.value&&this[h].setAttribute(e,t.value),(t=r.attributes[e="accesskey"])&&t.value&&(this[h].setAttribute(e,t.value),r.removeAttribute(e))}}return s}dispose(){let e=this._e.querySelectorAll(".wj-control");for(let n=0;n<e.length;n++){let t=Si.getControl(e[n]);t&&t.dispose()}this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this.removeEventListener();for(let n in this)if(n.length>2&&0==n.indexOf("on")){let e=this[n[2].toLowerCase()+n.substr(3)];e instanceof Ci&&e.removeAllHandlers()}let t=this.collectionView;if(t instanceof Hi)for(let n in t){let e=t[n];e instanceof Ci&&e.removeHandler(null,this)}this._e.parentNode&&(this._e.outerHTML=this._orgOuter),this._e[Si._CTRL_KEY]=null,this._e=this._orgOuter=this._orgInner=this._orgTag=null}static getControl(e){let t=q(e);return t?N(t[Si._CTRL_KEY],Si,!0):null}get hostElement(){return this._e}get rightToLeft(){return null==this._rtlDir&&(this._rtlDir=!!this._e&&"rtl"==getComputedStyle(this._e).direction),this._rtlDir}focus(){this._e&&this._e.focus()}containsFocus(){if(!this._e)return!1;let e=$();if(Z(this._e,e))return!0;for(let n=e;n;n=n.parentElement){let e=n[Si._OWNR_KEY];if(e&&Z(this._e,e))return!0}let t=Si.getControl(Q(e,".wj-control.wj-popup"));return!!(t&&t.owner&&Z(this._e,t.owner))}invalidate(e=!0){this._rtlDir=null,this._fullUpdate=this._fullUpdate||e,this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this.isUpdating||(this._toInv=setTimeout(()=>{this.refresh(this._fullUpdate),this._toInv=null},Si._REFRESH_INTERVAL))}refresh(e=!0){!this.isUpdating&&this._toInv&&(clearTimeout(this._toInv),this._toInv=null,this._rtlDir=null,this._fullUpdate=!1,Si._updateWme())}static invalidateAll(e){if(e||(e=document.body),e.children)for(let n=0;n<e.children.length;n++)Si.invalidateAll(e.children[n]);let t=Si.getControl(e);t&&t.invalidate()}static refreshAll(e){if(e||(e=document.body),e.children)for(let n=0;n<e.children.length;n++)Si.refreshAll(e.children[n]);let t=Si.getControl(e);t&&t.refresh()}static disposeAll(e){let t=Si.getControl(e);if(t)t.dispose();else if(e.children)for(let n=0;n<e.children.length;n++)Si.disposeAll(e.children[n])}beginUpdate(){this._updating++}endUpdate(){this._updating--,this._updating<=0&&this.invalidate()}get isUpdating(){return this._updating>0}deferUpdate(e){try{this.beginUpdate(),e()}finally{this.endUpdate()}}get isTouching(){return Si._touching}get isDisabled(){return this._e&&null!=this._e.getAttribute("disabled")}set isDisabled(e){(e=M(e,!0))!=this.isDisabled&&X(this._e,!e)}initialize(e){e&&E(this,e)}addEventListener(e,t,n,i=!1){e&&(e.addEventListener(t,n,i),null==this._listeners&&(this._listeners=[]),this._listeners.push({target:e,type:t,fn:n,capture:i}))}removeEventListener(e,t,n,i){let r=0;if(this._listeners)for(let s=0;s<this._listeners.length;s++){let o=this._listeners[s];null!=e&&e!=o.target||null!=t&&t!=o.type||null!=n&&n!=o.fn||null!=i&&i!=o.capture||(o.target.removeEventListener(o.type,o.fn,o.capture),this._listeners.splice(s,1),s--,r++)}return r}onGotFocus(e){this.gotFocus.raise(this,e)}onLostFocus(e){this.lostFocus.raise(this,e)}_hasPendingUpdates(){return null!=this._toInv}static _updateWme(){}_handleResize(){if(this._e.parentElement){let e=new gi(this._e.offsetWidth,this._e.offsetHeight);e.equals(this._szCtl)||(this._szCtl=e,this.invalidate())}}_updateFocusState(){setTimeout(()=>{for(let e=this._e;e;e=e.parentElement){let t=Si.getControl(e);if(t){let n=t.containsFocus();if(n!=t._focus&&(t._focus=n,n?t.onGotFocus():t.onLostFocus(),t._updateState(),!n)){let t=e[Si._OWNR_KEY];if(t){let e=Si.getControl(Q(t,".wj-control"));e&&e._updateFocusState()}}}}})}_updateState(){let e=this.hostElement;if(e){B(e,"wj-state-focused",this.containsFocus());let t=e.querySelector("input");if(t instanceof HTMLInputElement){B(e,"wj-state-empty",0==t.value.length),B(e,"wj-state-readonly",t.readOnly);let n=t.validationMessage;B(e,"wj-state-invalid",n&&n.length>0)}}}_handleTouchStart(e){null!=e.pointerType&&"touch"!=e.pointerType||(Si._touching=!0)}_handleTouchEnd(e){null!=e.pointerType&&"touch"!=e.pointerType||setTimeout(function(){Si._touching=!1},400)}_handleDisabled(e){this.isDisabled&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}_replaceWithDiv(e){let t=document.createElement("div");e.parentElement.replaceChild(t,e),t.innerHTML=e.innerHTML;let n=e.attributes;for(let i=0;i<n.length;i++){let e=n[i].name;(e.match(/id|style|class/i)||e.match(Si._rxInputAtts))&&t.setAttribute(e,n[i].value)}return t}}Si._REFRESH_INTERVAL=10,Si._ANIM_DEF_DURATION=400,Si._ANIM_DEF_STEP=35,Si._CTRL_KEY="$WJ-CTRL",Si._OWNR_KEY="$WJ-OWNR",Si._SCRL_KEY="$WJ-SCRL",Si._rxInputAtts=/name|tabindex|placeholder|autofocus|autocomplete|autocorrect|autocapitalize|spellcheck|readonly|minlength|maxlength|pattern/i;var Ri;!function(e){e[e.None=0]="None",e[e.Sum=1]="Sum",e[e.Cnt=2]="Cnt",e[e.Avg=3]="Avg",e[e.Max=4]="Max",e[e.Min=5]="Min",e[e.Rng=6]="Rng",e[e.Std=7]="Std",e[e.Var=8]="Var",e[e.StdPop=9]="StdPop",e[e.VarPop=10]="VarPop",e[e.CntAll=11]="CntAll",e[e.First=12]="First",e[e.Last=13]="Last"}(Ri||(Ri={}));var Ti;!function(e){e[e.Add=0]="Add",e[e.Remove=1]="Remove",e[e.Change=2]="Change",e[e.Reset=3]="Reset"}(Ti||(Ti={}));class Ai extends yi{constructor(e=Ti.Reset,t=null,n=-1){super(),this.action=e,this.item=t,this.index=n}}Ai.reset=new Ai(Ti.Reset);class Mi{constructor(e,t){this._bnd=new wi(e),this._asc=t}get property(){return this._bnd.path}get ascending(){return this._asc}}class Ii extends bi{constructor(e){super(),this.newPageIndex=e}}class ki{groupNameFromItem(e,t){return""}namesMatch(e,t){return e===t}}class Pi extends ki{constructor(e,t){super(),this._bnd=new wi(e),this._converter=t}get propertyName(){return this._bnd.path}groupNameFromItem(e,t){return this._converter?this._converter(e,this.propertyName):this._bnd.getValue(e)}namesMatch(e,t){return e===t}}class Ni extends Array{constructor(){Di?this.length=0:super()}}var Di=!0;try{Ni.prototype=Array.prototype,Di=Ni.prototype===Array.prototype}catch(e){Di=!1}var Oi=window.Symbol;!Di&&Oi&&Oi.species&&Object.defineProperty(Ni,Oi.species,{get:function(){return Array},enumerable:!1,configurable:!1});class Vi extends Ni{constructor(e){if(super(),this._updating=0,this.collectionChanged=new Ci,e){e=P(e),this._updating++;for(let t=0;t<e.length;t++)this.push(e[t]);this._updating--}}push(...e){let t=this.length;for(let n=0;e&&n<e.length;n++)t=super.push(e[n]),this._updating||this._raiseCollectionChanged(Ti.Add,e[n],t-1);return t}pop(){let e=super.pop();return this._raiseCollectionChanged(Ti.Remove,e,this.length),e}splice(e,t,n){let i;return t&&n?(i=super.splice(e,t,n),1==t?this._raiseCollectionChanged(Ti.Change,n,e):this._raiseCollectionChanged(),i):n?(i=super.splice(e,0,n),this._raiseCollectionChanged(Ti.Add,n,e),i):(i=super.splice(e,t),1==t?this._raiseCollectionChanged(Ti.Remove,i[0],e):this._raiseCollectionChanged(),i)}slice(e,t){return super.slice(e,t)}indexOf(e,t){return super.indexOf(e,t)}sort(e){let t=super.sort(e);return this._raiseCollectionChanged(),t}insert(e,t){this.splice(e,0,t)}remove(e){let t=this.indexOf(e);return t>-1&&(this.removeAt(t),!0)}removeAt(e){this.splice(e,1)}setAt(e,t){e>this.length&&(this.length=e),this.splice(e,1,t)}clear(){0!==this.length&&(this.splice(0,this.length),this._raiseCollectionChanged())}beginUpdate(){this._updating++}endUpdate(){this._updating>0&&(this._updating--,0==this._updating&&this._raiseCollectionChanged())}get isUpdating(){return this._updating>0}deferUpdate(e){try{this.beginUpdate(),e()}finally{this.endUpdate()}}implementsInterface(e){return"INotifyCollectionChanged"==e}onCollectionChanged(e=Ai.reset){this.isUpdating||this.collectionChanged.raise(this,e)}_raiseCollectionChanged(e=Ti.Reset,t,n){if(!this.isUpdating){let i=new Ai(e,t,n);this.onCollectionChanged(i)}}}class Hi{constructor(e,t){this._idx=-1,this._srtDsc=new Vi,this._grpDesc=new Vi,this._newItem=null,this._edtItem=null,this._pgSz=0,this._pgIdx=0,this._updating=0,this._stableSort=!1,this._canFilter=!0,this._canGroup=!0,this._canSort=!0,this._canAddNew=!0,this._canCancelEdit=!0,this._canRemove=!0,this._canChangePage=!0,this._trackChanges=!1,this._chgAdded=new Vi,this._chgRemoved=new Vi,this._chgEdited=new Vi,this.collectionChanged=new Ci,this.sourceCollectionChanging=new Ci,this.sourceCollectionChanged=new Ci,this.currentChanged=new Ci,this.currentChanging=new Ci,this.pageChanged=new Ci,this.pageChanging=new Ci,this._srtDsc.collectionChanged.addHandler(()=>{let e=this._srtDsc;for(let t=0;t<e.length;t++)x(e[t]instanceof Mi,"sortDescriptions array must contain SortDescription objects.");this.canSort&&this.refresh()}),this._grpDesc.collectionChanged.addHandler(()=>{let e=this._grpDesc;for(let t=0;t<e.length;t++)x(e[t]instanceof ki,"groupDescriptions array must contain GroupDescription objects.");this.canGroup&&this.refresh()}),this.sourceCollection=e||new Vi,t&&(this.beginUpdate(),E(this,t),this.endUpdate())}_copy(e,t){if("sortDescriptions"==e){this.sortDescriptions.clear();let e=P(t);for(let t=0;t<e.length;t++){let n=e[t];o(n)&&(n=new Mi(n,!0)),this.sortDescriptions.push(n)}return!0}if("groupDescriptions"==e){this.groupDescriptions.clear();let e=P(t);for(let t=0;t<e.length;t++){let n=e[t];o(n)&&(n=new Pi(n)),this.groupDescriptions.push(n)}return!0}return!1}get newItemCreator(){return this._itemCreator}set newItemCreator(e){this._itemCreator=k(e)}get sortConverter(){return this._srtCvt}set sortConverter(e){e!=this._srtCvt&&(this._srtCvt=k(e,!0))}get sortComparer(){return this._srtCmp}set sortComparer(e){e!=this._srtCmp&&(this._srtCmp=k(e,!0))}get useStableSort(){return this._stableSort}set useStableSort(e){this._stableSort=M(e)}getAggregate(e,t,n){return se(e,n?this._pgView:this._view,t)}get trackChanges(){return this._trackChanges}set trackChanges(e){this._trackChanges=M(e)}get itemsAdded(){return this._chgAdded}get itemsRemoved(){return this._chgRemoved}get itemsEdited(){return this._chgEdited}clearChanges(){this._chgAdded.clear(),this._chgRemoved.clear(),this._chgEdited.clear()}implementsInterface(e){switch(e){case"ICollectionView":case"IEditableCollectionView":case"IPagedCollectionView":case"INotifyCollectionChanged":return!0}return!1}get getError(){return this._getError}set getError(e){this._getError=k(e)}onCollectionChanged(e=Ai.reset){e.action!=Ti.Change||this._committing||this._canceling||e.item==this.currentEditItem||e.item==this.currentAddItem||this._trackItemChanged(e.item),this.collectionChanged.raise(this,e)}_raiseCollectionChanged(e=Ti.Reset,t,n){let i=new Ai(e,t,n);this.onCollectionChanged(i)}onSourceCollectionChanging(e){return this.sourceCollectionChanging.raise(this,e),!e.cancel}onSourceCollectionChanged(e){this.sourceCollectionChanged.raise(this,e)}get canFilter(){return this._canFilter}set canFilter(e){this._canFilter=M(e)}get canGroup(){return this._canGroup}set canGroup(e){this._canGroup=M(e)}get canSort(){return this._canSort}set canSort(e){this._canSort=M(e)}get currentItem(){return this._pgView&&this._idx>-1&&this._idx<this._pgView.length?this._pgView[this._idx]:null}set currentItem(e){this.moveCurrentTo(e)}get currentPosition(){return this._idx}set currentPosition(e){this.moveCurrentToPosition(T(e))}get filter(){return this._filter}set filter(e){this._filter!=e&&(this._filter=k(e),this.canFilter&&this.refresh())}get groupDescriptions(){return this._grpDesc}get groups(){return this._groups}get isEmpty(){return!this._pgView||!this._pgView.length}get sortDescriptions(){return this._srtDsc}get sourceCollection(){return this._src}set sourceCollection(e){if(e!=this._src){if(!this.onSourceCollectionChanging(new bi))return;let t=this.currentPosition;this.commitEdit(),this.commitNew(),null!=this._ncc&&this._ncc.collectionChanged.removeHandler(this._sourceChanged),this._src=P(e,!1),this._ncc=r(this._src,"INotifyCollectionChanged"),this._ncc&&this._ncc.collectionChanged.addHandler(this._sourceChanged,this),this.clearChanges(),this.refresh(),this.moveCurrentToFirst(),this.onSourceCollectionChanged(),this.currentPosition<0&&t>-1&&this.onCurrentChanged()}}_sourceChanged(e,t){this._updating<=0&&this.refresh()}contains(e){return this._pgView.indexOf(e)>-1}moveCurrentTo(e){return this.moveCurrentToPosition(this._pgView.indexOf(e))}moveCurrentToFirst(){return this.moveCurrentToPosition(0)}moveCurrentToLast(){return this.moveCurrentToPosition(this._pgView.length-1)}moveCurrentToPrevious(){return this._idx>0&&this.moveCurrentToPosition(this._idx-1)}moveCurrentToNext(){return this.moveCurrentToPosition(this._idx+1)}moveCurrentToPosition(e){if(e>=-1&&e<this._pgView.length&&e!=this._idx){let t=new bi;if(this.onCurrentChanging(t)){let t=this._pgView[e];this._edtItem&&t!=this._edtItem&&this.commitEdit(),this._newItem&&t!=this._newItem&&this.commitNew(),this._idx=e,this.onCurrentChanged()}}return this._idx==e}refresh(){this._updating>0||this._newItem||this._edtItem||(this._performRefresh(),this.onCollectionChanged())}_performRefresh(){if(this._updating>0)return;let e=this.currentItem;this._view=this._src?this._filter&&this.canFilter?this._performFilter(this._src):this._srtDsc.length>0&&this.canSort?this._src.slice(0):this._src:[],this.canSort&&this._srtDsc.length>0&&this._performSort(this._view),this._groups=this.canGroup?this._createGroups(this._view):null,this._fullGroups=this._groups,this._groups&&(this._view=this._mergeGroupItems(this._groups)),this._pgIdx=b(this._pgIdx,0,this.pageCount-1),this._pgView=this._getPageView(),this._groups&&this.pageCount>1&&(this._groups=this._createGroups(this._pgView),this._mergeGroupItems(this._groups));let t=this._pgView.indexOf(e);t<0&&(t=Math.min(this._idx,this._pgView.length-1)),this._idx=t,this._digest=this._getGroupsDigest(this.groups),this.currentItem!==e&&this.onCurrentChanged()}_performSort(e){if(this._stableSort){let t=e.map(function(e,t){return{item:e,index:t}}),n=this._compareItems();t.sort(function(e,t){let i=n(e.item,t.item);return 0==i?e.index-t.index:i});for(let i=0;i<e.length;i++)e[i]=t[i].item}else e.sort(this._compareItems())}_compareItems(){let e=this._srtDsc,t=this._srtCvt,n=this._srtCmp,i=!0,r=0;return function(s,o){for(let l=0;l<e.length;l++){let a=e[l],h=a._bnd.getValue(s),u=a._bnd.getValue(o);if(t&&(h=t(a,s,h,i),u=t(a,o,u,!1),i=!1),n&&null!=(r=n(h,u)))return a.ascending?+r:-r;if(h!=h&&(h=null),u!=u&&(u=null),"string"==typeof h&&"string"==typeof u){let e=h.toLowerCase(),t=u.toLowerCase();e!=t&&(h=e,u=t)}if(null!=h&&null==u)return-1;if(null==h&&null!=u)return 1;if(0!=(r=h<u?-1:h>u?1:0))return a.ascending?+r:-r}return 0}}_performFilter(e){return this.canFilter&&this._filter?e.filter(this._filter,this):e}onCurrentChanged(e=yi.empty){this.currentChanged.raise(this,e)}onCurrentChanging(e){return this.currentChanging.raise(this,e),!e.cancel}get items(){return this._pgView}beginUpdate(){this._updating++}endUpdate(){this._updating--,this._updating<=0&&this.refresh()}get isUpdating(){return this._updating>0}deferUpdate(e){try{this.beginUpdate(),e()}finally{this.endUpdate()}}get canAddNew(){return this._canAddNew}set canAddNew(e){this._canAddNew=M(e)}get canCancelEdit(){return this._canCancelEdit}set canCancelEdit(e){this._canCancelEdit=M(e)}get canRemove(){return this._canRemove}set canRemove(e){this._canRemove=M(e)}get currentAddItem(){return this._newItem}get currentEditItem(){return this._edtItem}get isAddingNew(){return null!=this._newItem}get isEditingItem(){return null!=this._edtItem}editItem(e){e!=this._edtItem&&this.moveCurrentTo(e)&&(this.commitEdit(),this._edtItem=e,this._edtClone={},this._extend(this._edtClone,this._edtItem))}commitEdit(){let e=this._edtItem;if(null!=e){this._committing=!0;let t=this._sameContent(e,this._edtClone);this._edtItem=null,this._edtClone=null;let n=this._pgView.indexOf(e),i=this._digest;this._performRefresh(),t||this._trackItemChanged(e),this._pgView.indexOf(e)==n&&i==this._digest?this._raiseCollectionChanged(Ti.Change,e,n):this._raiseCollectionChanged(),this._committing=!1}}cancelEdit(){let e=this._edtItem;if(null!=e){if(this._edtItem=null,!this.canCancelEdit)return void x(!1,"cannot cancel edits (canCancelEdit == false).");let t=this._src.indexOf(e);if(t<0||!this._edtClone)return;this._extend(this._src[t],this._edtClone),this._edtClone=null,this._canceling=!0,this._raiseCollectionChanged(Ti.Change,e,t),this._canceling=!1}}addNew(){if(arguments.length>0&&x(!1,"addNew does not take any parameters, it creates the new items."),this.commitEdit(),this.commitNew(),!this.canAddNew)return x(!1,"cannot add items (canAddNew == false)."),null;let e=null,t=this.sourceCollection;if(null!=(e=this.newItemCreator?this.newItemCreator():t&&t.length?new t[0].constructor:{})){if(this._newItem=e,this._updating++,this._src.push(e),this._updating--,this._pgView!=this._src&&this._pgView.push(e),this.groups&&this.groups.length){let t=this.groups[this.groups.length-1];for(t.items.push(e);t.groups&&t.groups.length;)(t=t.groups[t.groups.length-1]).items.push(e)}this._raiseCollectionChanged(Ti.Add,e,this._pgView.length-1),this.moveCurrentTo(e)}return this._newItem}commitNew(){let e=this._newItem;if(null!=e){this._newItem=null;let t=this._pgView.indexOf(e),n=this._digest;if(this._performRefresh(),this._trackChanges){let t=this._chgEdited.indexOf(e);t>-1&&this._chgEdited.removeAt(t),this._chgAdded.indexOf(e)<0&&this._chgAdded.push(e)}this._pgView.indexOf(e)==t&&n==this._digest?this._raiseCollectionChanged(Ti.Change,e,t):this._raiseCollectionChanged()}}cancelNew(){let e=this._newItem;null!=e&&this.remove(e)}remove(e){let t=e==this._newItem;if(t&&(this._newItem=null),e==this._edtItem&&this.cancelEdit(),!this.canRemove)return void x(!1,"cannot remove items (canRemove == false).");let n=this._src.indexOf(e);if(n>-1){let i=this.currentItem;this._updating++,this._src.splice(n,1),this._updating--;let r=this._digest;if(this._performRefresh(),this._trackChanges){let n=this._chgAdded.indexOf(e);n>-1&&this._chgAdded.removeAt(n);let i=this._chgEdited.indexOf(e);i>-1&&this._chgEdited.removeAt(i),this._chgRemoved.indexOf(e)<0&&!t&&n<0&&this._chgRemoved.push(e)}this.sortDescriptions.length>0||this.pageSize>0&&this._pgIdx>-1||r!=this._getGroupsDigest(this.groups)?this._raiseCollectionChanged():this._raiseCollectionChanged(Ti.Remove,e,n),this.currentItem!==i&&this.onCurrentChanged()}}removeAt(e){e=A(e),this.remove(this._pgView[e])}_trackItemChanged(e){if(this._trackChanges){let t=this.sourceCollection;if(t&&t.indexOf(e)>-1){let t=this._chgEdited.indexOf(e),n=Ti.Change;if(t<0&&this._chgAdded.indexOf(e)<0)this._chgEdited.push(e);else if(t>-1){let i=new Ai(n,e,t);this._chgEdited.onCollectionChanged(i)}else if((t=this._chgAdded.indexOf(e))>-1){let i=new Ai(n,e,t);this._chgAdded.onCollectionChanged(i)}}}}_extend(e,t){for(let n in t)e[n]=t[n]}_sameContent(e,t){for(let n in t)if(!this._sameValue(e[n],t[n]))return!1;for(let n in e)if(!this._sameValue(e[n],t[n]))return!1;return!0}_sameValue(e,t){return e===t||fi.equals(e,t)}get canChangePage(){return this._canChangePage}set canChangePage(e){this._canChangePage=M(e)}get isPageChanging(){return!1}get itemCount(){return this._pgView.length}get pageIndex(){return this._pgIdx}get pageSize(){return this._pgSz}set pageSize(e){e!=this._pgSz&&(this._pgSz=A(e),this.refresh())}get totalItemCount(){return this._view.length}get pageCount(){return this.pageSize?Math.ceil(this.totalItemCount/this.pageSize):1}moveToFirstPage(){return this.moveToPage(0)}moveToLastPage(){return this.moveToPage(this.pageCount-1)}moveToPreviousPage(){return this.moveToPage(this.pageIndex-1)}moveToNextPage(){return this.moveToPage(this.pageIndex+1)}moveToPage(e){let t=b(e,0,this.pageCount-1);if(t!=this._pgIdx){this.canChangePage||x(!1,"cannot change pages (canChangePage == false).");let e=new Ii(t);this.onPageChanging(e)&&(this._pgIdx=t,this._pgView=this._getPageView(),this._idx=0,this.groupDescriptions&&0!=this.groupDescriptions.length?this.refresh():this.onCollectionChanged(),this.onPageChanged())}return this._pgIdx==e}onPageChanged(e=yi.empty){this.pageChanged.raise(this,e)}onPageChanging(e){return this.pageChanging.raise(this,e),!e.cancel}_getFullGroup(e){let t=this._getGroupByPath(this._fullGroups,e.level,e._path);return null!=t&&(e=t),e}_getGroupByPath(e,t,n){for(let i=0;i<e.length;i++){let r=e[i];if(r.level==t&&r._path==n)return r;if(r.level<t&&0==n.indexOf(r._path)&&null!=(r=this._getGroupByPath(r.groups,t,n)))return r}return null}_getPageView(){if(this.pageSize<=0||this._pgIdx<0)return this._view;let e=this._pgSz*this._pgIdx,t=Math.min(e+this._pgSz,this._view.length);return this._view.slice(e,t)}_createGroups(e){if(!this._grpDesc||!this._grpDesc.length)return null;let t=[],n={},i=null;for(let r=0;r<e.length;r++){let o=e[r],l=t,a=this._grpDesc.length,h="";for(let e=0;e<a;e++){let t=this._grpDesc[e],r=t.groupNameFromItem(o,e),u=e==a-1;!(i=n[h])&&s(r)&&(n[h]=i={});let c=this._getGroup(t,l,i,r,e,u);c._path=h+="/"+r,u&&c.items.push(o),l=c.groups}}return t}_getGroupsDigest(e){let t="";for(let n=0;null!=e&&n<e.length;n++){let i=e[n];t+="{"+i.name+":"+(i.items?i.items.length:"*"),i.groups.length>0&&(t+=",",t+=this._getGroupsDigest(i.groups)),t+="}"}return t}_mergeGroupItems(e){let t=[];for(let n=0;n<e.length;n++){let i=e[n];if(!i._isBottomLevel){let e=this._mergeGroupItems(i.groups);for(let t=0,n=e.length;t<n;t++)i._items.push(e[t])}for(let e=0,n=i._items.length;e<n;e++)t.push(i._items[e])}return t}_getGroup(e,t,n,i,r,o){let l;if(n&&s(i)){if(l=n[i])return l}else for(let s=0;s<t.length;s++)if(e.namesMatch(t[s].name,i))return t[s];let a=new zi(e,i,r,o);return t.push(a),n&&(n[i]=a),a}}class zi{constructor(e,t,n,i){this._gd=e,this._name=t,this._level=n,this._isBottomLevel=i,this._groups=[],this._items=[]}get name(){return this._name}get level(){return this._level}get isBottomLevel(){return this._isBottomLevel}get items(){return this._items}get groups(){return this._groups}get groupDescription(){return this._gd}getAggregate(e,t,n){let i=r(n,Hi);return se(e,(i?i._getFullGroup(this):this).items,t)}}class Li{constructor(e){this._showAutoTipBnd=this._showAutoTip.bind(this),this._hideAutoTipBnd=this._hideAutoTip.bind(this),this._html=!0,this._gap=6,this._showAtMouse=!1,this._showDelay=500,this._hideDelay=0,this._tips=[],this.popup=new Ci,E(this,e)}setTooltip(e,t){e=q(e),t=this._getContent(t);let n=this._indexOf(e);n>-1&&(this._detach(e),this._tips.splice(n,1)),t&&(this._attach(e),this._tips.push({element:e,content:t}))}getTooltip(e){e=q(e);let t=this._tips;for(let n=0;n<t.length;n++)if(t[n].element==e)return t[n].content;return null}show(e,t,n){e=q(e),t=this._getContent(t),n||(n=pi.fromBoundingRect(e.getBoundingClientRect()));let i=Li._eTip;i||(j(i=Li._eTip=document.createElement("div"),"wj-tooltip"),i.style.visibility="none"),this._setContent(t);let r=new Fi(t);this.onPopup(r),r.content&&!r.cancel&&(document.body.appendChild(i),this._setContent(r.content),i.style.minWidth="",oe(i,n=new pi(n.left-(i.offsetWidth-n.width)/2,n.top-this.gap,i.offsetWidth,n.height+2*this.gap),!0),document.addEventListener("mousedown",this._hideAutoTipBnd))}hide(){let e=Li._eTip;e&&(e.parentElement&&e.parentElement.removeChild(e),e.innerHTML=""),document.removeEventListener("mousedown",this._hideAutoTipBnd)}dispose(){this._tips.forEach(e=>{this._detach(e.element)}),this._tips.splice(0,this._tips.length)}get isVisible(){return Li._eTip&&"hidden"!=Li._eTip.style.visibility}get isContentHtml(){return this._html}set isContentHtml(e){this._html=M(e)}get gap(){return this._gap}set gap(e){this._gap=T(e)}get showAtMouse(){return this._showAtMouse}set showAtMouse(e){this._showAtMouse=M(e)}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=A(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=A(e)}onPopup(e){return this.popup&&this.popup.raise(this,e),!e.cancel}_indexOf(e){for(let t=0;t<this._tips.length;t++)if(this._tips[t].element==e)return t;return-1}_attach(e){e.addEventListener("mouseenter",this._showAutoTipBnd),e.addEventListener("mouseleave",this._hideAutoTipBnd),e.addEventListener("click",this._showAutoTipBnd)}_detach(e){e.removeEventListener("mouseenter",this._showAutoTipBnd),e.removeEventListener("mouseleave",this._hideAutoTipBnd),e.removeEventListener("click",this._showAutoTipBnd)}_showAutoTip(e){if(e.defaultPrevented)return;if("click"==e.type&&!Si._touching)return void this._hideAutoTip();let t="mouseenter"==e.type?this._showDelay:0;this._clearTimeouts(),this._toShow=setTimeout(()=>{let t=this._indexOf(e.target);if(t>-1){let n=this._tips[t],i=this._showAtMouse?new pi(e.clientX,e.clientY,0,0):null;this.show(n.element,n.content,i),this._hideDelay>0&&(this._toHide=setTimeout(()=>{this.hide()},this._hideDelay))}},t)}_hideAutoTip(){this._clearTimeouts(),this.hide()}_clearTimeouts(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHide&&(clearTimeout(this._toHide),this._toHide=null)}_getContent(e){if((e=R(e))&&"#"==e[0]){let t=q(e);t&&(e=t.innerHTML)}return e}_setContent(e){let t=Li._eTip;t&&(this.isContentHtml?t.innerHTML=e:t.textContent=e)}}class Fi extends bi{constructor(e){super(),this._content=R(e)}get content(){return this._content}set content(e){this._content=R(e)}}class ji{constructor(e){this._r=0,this._g=0,this._b=0,this._a=1,e&&this._parse(e)}get r(){return this._r}set r(e){this._r=b(T(e),0,255)}get g(){return this._g}set g(e){this._g=b(T(e),0,255)}get b(){return this._b}set b(e){this._b=b(T(e),0,255)}get a(){return this._a}set a(e){this._a=b(T(e),0,1)}equals(e){return e instanceof ji&&this.r==e.r&&this.g==e.g&&this.b==e.b&&this.a==e.a}toString(){let e=Math.round(100*this.a);return e>99?"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1):"rgba("+this.r+","+this.g+","+this.b+","+e/100+")"}static fromRgba(e,t,n,i=1){let r=new ji(null);return r.r=Math.round(b(T(e),0,255)),r.g=Math.round(b(T(t),0,255)),r.b=Math.round(b(T(n),0,255)),r.a=b(T(i),0,1),r}static fromHsb(e,t,n,i=1){let r=ji._hsbToRgb(b(T(e),0,1),b(T(t),0,1),b(T(n),0,1));return ji.fromRgba(r[0],r[1],r[2],i)}static fromHsl(e,t,n,i=1){let r=ji._hslToRgb(b(T(e),0,1),b(T(t),0,1),b(T(n),0,1));return ji.fromRgba(r[0],r[1],r[2],i)}static fromString(e){let t=new ji(null);return t._parse(R(e))?t:null}getHsb(){return ji._rgbToHsb(this.r,this.g,this.b)}getHsl(){return ji._rgbToHsl(this.r,this.g,this.b)}static interpolate(e,t,n){n=b(T(n),0,1);let i=ji._rgbToHsl(e.r,e.g,e.b),r=ji._rgbToHsl(t.r,t.g,t.b),s=1-n,o=e.a*s+t.a*n,l=[i[0]*s+r[0]*n,i[1]*s+r[1]*n,i[2]*s+r[2]*n],a=ji._hslToRgb(l[0],l[1],l[2]);return ji.fromRgba(a[0],a[1],a[2],o)}static toOpaque(e,t){if(1==(e=o(e)?ji.fromString(e):N(e,ji)).a)return e;t=null==t?ji.fromRgba(255,255,255,1):o(t)?ji.fromString(t):N(t,ji);let n=e.a,i=1-n;return ji.fromRgba(e.r*n+t.r*i,e.g*n+t.g*i,e.b*n+t.b*i)}_parse(e){if("transparent"==(e=e.toLowerCase()))return this._r=this._g=this._b=this._a=0,!0;if(e&&0!=e.indexOf("#")&&0!=e.indexOf("rgb")&&0!=e.indexOf("hsl")){let t=document.createElement("div");t.style.color=e;let n=t.style.color;n==e&&((n=window.getComputedStyle(t).color)||(document.body.appendChild(t),n=window.getComputedStyle(t).color,document.body.removeChild(t))),e=n.toLowerCase()}if(0==e.indexOf("#"))return 4==e.length?(this.r=parseInt(e[1]+e[1],16),this.g=parseInt(e[2]+e[2],16),this.b=parseInt(e[3]+e[3],16),this.a=1,!0):7==e.length&&(this.r=parseInt(e.substr(1,2),16),this.g=parseInt(e.substr(3,2),16),this.b=parseInt(e.substr(5,2),16),this.a=1,!0);if(0==e.indexOf("rgb")){let t=e.indexOf("("),n=e.indexOf(")");if(t>-1&&n>-1){let i=e.substr(t+1,n-(t+1)).split(",");if(i.length>2)return this.r=parseInt(i[0]),this.g=parseInt(i[1]),this.b=parseInt(i[2]),this.a=i.length>3?parseFloat(i[3]):1,!0}}if(0==e.indexOf("hsl")){let t=e.indexOf("("),n=e.indexOf(")");if(t>-1&&n>-1){let i=e.substr(t+1,n-(t+1)).split(",");if(i.length>2){let e=parseInt(i[0])/360,t=parseInt(i[1]),n=parseInt(i[2]);i[1].indexOf("%")>-1&&(t/=100),i[2].indexOf("%")>-1&&(n/=100);let r=ji._hslToRgb(e,t,n);return this.r=r[0],this.g=r[1],this.b=r[2],this.a=i.length>3?parseFloat(i[3]):1,!0}}}return!1}static _hslToRgb(e,t,n){x(e>=0&&e<=1&&t>=0&&t<=1&&n>=0&&n<=1,"bad HSL values");let i,r,s;if(0==t)i=r=s=n;else{let o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;i=ji._hue2rgb(l,o,e+1/3),r=ji._hue2rgb(l,o,e),s=ji._hue2rgb(l,o,e-1/3)}return[Math.round(255*i),Math.round(255*r),Math.round(255*s)]}static _hue2rgb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}static _rgbToHsl(e,t,n){x(e>=0&&e<=255&&t>=0&&t<=255&&n>=0&&n<=255,"bad RGB values"),e/=255,t/=255,n/=255;let i,r,s=Math.max(e,t,n),o=Math.min(e,t,n),l=(s+o)/2;if(s==o)i=r=0;else{let a=s-o;switch(r=l>.5?a/(2-s-o):a/(s+o),s){case e:i=(t-n)/a+(t<n?6:0);break;case t:i=(n-e)/a+2;break;case n:i=(e-t)/a+4}i/=6}return[i,r,l]}static _rgbToHsb(e,t,n){x(e>=0&&e<=255&&t>=0&&t<=255&&n>=0&&n<=255,"bad RGB values");let i=ji._rgbToHsl(e,t,n);return ji._hslToHsb(i[0],i[1],i[2])}static _hsbToRgb(e,t,n){let i=ji._hsbToHsl(e,t,n);return ji._hslToRgb(i[0],i[1],i[2])}static _hsbToHsl(e,t,n){x(e>=0&&e<=1&&t>=0&&t<=1&&n>=0&&n<=1,"bad HSB values");let i=b(n*(2-t)/2,0,1),r=1-Math.abs(2*i-1),s=b(r>0?n*t/r:t,0,1);return x(!isNaN(i)&&!isNaN(s),"bad conversion to HSL"),[e,s,i]}static _hslToHsb(e,t,n){x(e>=0&&e<=1&&t>=0&&t<=1&&n>=0&&n<=1,"bad HSL values");let i=b(1==n?1:(2*n+t*(1-Math.abs(2*n-1)))/2,0,1),r=b(i>0?2*(i-n)/i:t,0,1);return x(!isNaN(i)&&!isNaN(r),"bad conversion to HSB"),[e,r,i]}}class Bi{static copy(e){Bi._copyPasteInternal(e)}static paste(e){Bi._copyPasteInternal(e)}static _copyPasteInternal(e){let t=$(),n=Q(t,".wj-control");for(;n&&Si.getControl(n);)n=n.parentElement;if(null==n&&(n=document.body),n){let i=document.createElement("textarea");i.style.position="fixed",i.style.opacity="0",n.appendChild(i),o(e)&&(i.value=e),i.select(),i.onkeydown=function(e){e.preventDefault()},setTimeout(()=>{t.focus();let r=i.value;n.removeChild(i),c(e)&&e(r)},100)}}}class Ui{constructor(e){this._copyCss=!0,null!=e&&E(this,e)}get title(){return this._title}set title(e){this._title=R(e)}get copyCss(){return this._copyCss}set copyCss(e){this._copyCss=M(e)}addCSS(e){this._css||(this._css=[]),this._css.push(e)}append(e){let t=this._getDocument(),n=t.body,i=!1;if(n)if(o(e))n.appendChild(K(e));else if(e instanceof Node){let t=this._cloneNode(e);n.appendChild(t)}else i=!0;else if(o(e))t.write(e);else if(e instanceof HTMLElement){let n=this._cloneNode(e);t.write(n.outerHTML)}else i=!0;i&&x(!1,"child parameter should be an HTML node or an HTML string.")}print(){this._iframe&&(this._close(),setTimeout(()=>{var e=this._iframe.contentWindow,t="onafterprint"in e&&!ue();t&&(e.onafterprint=(()=>{document.body.removeChild(this._iframe),this._iframe=null})),document.queryCommandSupported("print")?e.document.execCommand("print",!1,null):(e.focus(),e.print()),t||(document.body.removeChild(this._iframe),this._iframe=null)},100))}_cloneNode(e){let t=e.cloneNode(!0);return e instanceof HTMLElement&&t instanceof HTMLElement&&["select","textarea"].forEach(n=>{var i=e.querySelectorAll(n),r=t.querySelectorAll(n);for(let e=0;e<i.length;e++)r[e].value=i[e].value}),t}_getDocument(){return this._iframe||(this._iframe=document.createElement("iframe"),j(this._iframe,"wj-printdocument"),te(this._iframe,{position:"fixed",left:1e4,top:1e4}),document.body.appendChild(this._iframe),this._iframe.contentDocument.write('<body style="position:static"/>')),this._iframe.contentDocument}_close(){let e=this._getDocument();if(e.close(),e.title=null!=this.title?this.title:document.title,e.title&&e.title.trim()||(e.title="\xa0"),this._copyCss){let e=document.head.querySelectorAll("link");for(let t=0;t<e.length;t++){let n=e[t];if(n.href.match(/\.css$/i)&&n.rel.match(/stylesheet/i)){let e=ie(n.href,{async:!1});this._addStyle(e.responseText)}}let t=document.head.querySelectorAll("STYLE");for(let n=0;n<t.length;n++)this._addStyle(t[n].textContent)}if(this._css)for(let t=0;t<this._css.length;t++){let n=e.createElement("style"),i=ie(this._css[t],{async:!1});n.textContent=i.responseText,e.head.appendChild(n)}}_addStyle(e){let t=this._getDocument(),n=t.createElement("style");n.textContent=e,t.head.appendChild(n)}}class Gi{constructor(e,t=null,n="_"){this._promptChar="_",this._mskArr=[],this._full=!0,this._hbInput=this._input.bind(this),this._hbKeyDown=this._keydown.bind(this),this._hbKeyPress=this._keypress.bind(this),this._hbCompositionStart=this._compositionstart.bind(this),this._hbCompositionEnd=this._compositionend.bind(this),this.mask=t,this.input=e,this.promptChar=n,this._connect(!0)}get input(){return this._tbx}set input(e){this._connect(!1),this._tbx=e,this._connect(!0)}get mask(){return this._msk}set mask(e){e!=this._msk&&(this._msk=R(e,!0),this._parseMask(),this._valueChanged())}get promptChar(){return this._promptChar}set promptChar(e){e!=this._promptChar&&(this._promptChar=R(e,!1),x(1==this._promptChar.length,"promptChar must be a string with length 1."),this._valueChanged())}get maskFull(){return this._full}getMaskRange(){return this._mskArr.length?[this._firstPos,this._lastPos]:[0,this._tbx.value.length-1]}getRawValue(){let e=this._tbx.value,t="";if(!this.mask)return e;for(let n=0;n<this._mskArr.length&&n<e.length;n++)this._mskArr[n].literal||e[n]==this._promptChar||(t+=e[n]);return t}refresh(){this._parseMask(),this._valueChanged()}_input(){this._composing||setTimeout(()=>{this._valueChanged()})}_keydown(e){if(e.keyCode==ai.Back){let t=this._tbx.selectionStart;if(t<=this._firstPos&&this._tbx.selectionEnd==t)return e.preventDefault(),void(this._backSpace=!1)}this._backSpace=e.keyCode==ai.Back}_keypress(e){e.ctrlKey||e.metaKey||e.altKey||this._composing||!this._preventKey(e.charCode)||e.preventDefault()}_compositionstart(e){this._composing=!0}_compositionend(e){this._composing&&(this._composing=!1,setTimeout(()=>{this._valueChanged()}))}_preventKey(e){if(e&&this._mskArr.length){let t=this._tbx,n=t.selectionStart,i=String.fromCharCode(e);if(n<this._firstPos&&G(t,n=this._firstPos),n>=this._mskArr.length)return!0;let r=this._mskArr[n];if(r.literal)this._validatePosition(n);else if(r.wildCard!=i&&!this._isCharValid(r.wildCard,i))return!0}return!1}_connect(e){let t=this._tbx;t&&(e?(this._autoComplete=t.autocomplete,this._spellCheck=t.spellcheck,t.autocomplete="off",t.spellcheck=!1,t.addEventListener("input",this._hbInput),t.addEventListener("keydown",this._hbKeyDown,!0),t.addEventListener("keypress",this._hbKeyPress,!0),t.addEventListener("compositionstart",this._hbCompositionStart,!0),t.addEventListener("compositionend",this._hbCompositionEnd,!0),t.addEventListener("blur",this._hbCompositionEnd,!0),this._valueChanged()):(t.autocomplete=this._autoComplete,t.spellcheck=this._spellCheck,t.removeEventListener("input",this._hbInput),t.removeEventListener("keydown",this._hbKeyDown,!0),t.removeEventListener("keypress",this._hbKeyPress,!0),t.removeEventListener("compositionstart",this._hbCompositionStart,!0),t.removeEventListener("compositionend",this._hbCompositionEnd,!0),t.removeEventListener("blur",this._hbCompositionEnd,!0)))}_valueChanged(){if(this._tbx&&this._msk){let e=this._tbx,t=e.value.length<2,n=e.selectionStart,i=n>0?e.value[n-1]:"";e.value=this._applyMask(),t&&(n=this._firstPos+1),n>0&&(n>0?e.value[n-1]:"")==this._promptChar&&i!=this.promptChar&&n--,this._validatePosition(n)}}_applyMask(){this._full=!0;let e=this._tbx.value;if(!this._msk)return e;if(!e&&!this._tbx.required)return e;let t="",n=0;e=this._handleVagueLiterals(e);for(let i=0;i<this._mskArr.length;i++){let r=this._mskArr[i],s=r.literal;if(s&&s==e[n]&&n++,r.wildCard){if(s=this._promptChar,e){let t=n;for(;t<e.length;t++)if(this._isCharValid(r.wildCard,e[t])){switch(s=e[t],r.charCase){case">":s=s.toUpperCase();break;case"<":s=s.toLowerCase()}break}n=t+1}s==this._promptChar&&(this._full=!1)}t+=s}return t}_handleVagueLiterals(e){if(e.length>this._mskArr.length+1)return e;let t=e.length-this._mskArr.length;if(0!=t&&e.length>1){let n=-1;for(let e=Math.max(0,this._tbx.selectionStart-t);e<this._mskArr.length;e++)if(this._mskArr[e].vague){n=e;break}if(n>-1)if(t<0){let i=Array(1-t).join(this._promptChar),r=n+t;r>-1&&(e=e.substr(0,r)+i+e.substr(r))}else{for(;n>0&&this._mskArr[n-1].literal;)n--;e=e.substr(0,n)+e.substr(n+t)}}return e}_isCharValid(e,t){let n=this._promptChar;switch(e){case"0":return t>="0"&&t<="9"||t==n;case"9":return t>="0"&&t<="9"||" "==t||t==n;case"#":return t>="0"&&t<="9"||" "==t||"+"==t||"-"==t||t==n;case"L":return t>="a"&&t<="z"||t>="A"&&t<="Z"||t==n;case"l":return t>="a"&&t<="z"||t>="A"&&t<="Z"||" "==t||t==n;case"A":return t>="0"&&t<="9"||t>="a"&&t<="z"||t>="A"&&t<="Z"||t==n;case"a":return t>="0"&&t<="9"||t>="a"&&t<="z"||t>="A"&&t<="Z"||" "==t||t==n;case"\uff19":return t>="\uff10"&&t<="\uff19"||t==n;case"\uff2a":case"\uff27":return!("\uff27"==e&&Gi._X_DBCS_BIG_HIRA.indexOf(t)>-1)&&(t>="\u3041"&&t<="\u3096"||t==n);case"\uff2b":case"\uff2e":return!("\uff2e"==e&&Gi._X_DBCS_BIG_KATA.indexOf(t)>-1)&&(t>="\u30a1"&&t<="\u30fa"||t==n);case"\uff3a":return t<="!"||t>="\xff"||t==n;case"H":return t>="!"&&t<="\xff"||t==n;case"K":case"N":return!("N"==e&&Gi._X_SBCS_BIG_KATA.indexOf(t)>-1)&&(t>="\uff66"&&t<="\uff9f"||t==n)}return!1}_validatePosition(e){let t=this._mskArr;if(this._backSpace)for(;e>0&&e<t.length&&t[e-1].literal;)e--;if(0==e||!this._backSpace)for(;e<t.length&&t[e].literal;)e++;$()==this._tbx&&G(this._tbx,e),this._backSpace=!1}_parseMask(){this._mskArr=[],this._firstPos=-1,this._lastPos=-1;let e,t=this._msk,n="|";for(let i=0;t&&i<t.length;i++)switch(t[i]){case"0":case"9":case"#":case"A":case"a":case"L":case"l":case"\uff19":case"\uff2a":case"\uff27":case"\uff2b":case"\uff2e":case"\uff3a":case"K":case"N":case"H":this._firstPos<0&&(this._firstPos=this._mskArr.length),this._lastPos=this._mskArr.length,this._mskArr.push(new $i(t[i],n));break;case".":case",":case":":case"/":case"$":switch(t[i]){case".":case",":e=_i.Globalize.numberFormat[t[i]];break;case":":case"/":e=_i.Globalize.calendar[t[i]];break;case"$":e=_i.Globalize.numberFormat.currency.symbol}for(let t=0;t<e.length;t++)this._mskArr.push(new $i(e[t]));break;case"<":case">":case"|":n=t[i];break;case"\\":i<t.length-1&&i++,this._mskArr.push(new $i(t[i]));break;default:this._mskArr.push(new $i(t[i]))}for(let i=0;i<this._mskArr.length;i++){let e=this._mskArr[i];if(e.literal)for(let t=0;t<i;t++){let n=this._mskArr[t];if(n.wildCard&&this._isCharValid(n.wildCard,e.literal)){e.vague=!0;break}}}}}Gi._X_DBCS_BIG_HIRA="\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096",Gi._X_DBCS_BIG_KATA="\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6",Gi._X_SBCS_BIG_KATA="\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f";class $i{constructor(e,t){t?(this.wildCard=e,this.charCase=t):this.literal=e}}const Wi=null!=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),qi=null!=navigator.userAgent.match(/Firefox\//),Ki=null!=navigator.userAgent.match(/^((?!chrome|android).)*safari/i),Yi=null!=navigator.userAgent.match(/MSIE |Trident\/|Edge\//);let Zi=!1,Qi=!1;document.addEventListener("test",e=>{},{get passive(){return Qi=!0,!0}}),document.doctype&&navigator.appVersion.indexOf("MSIE 9")>-1&&(Zi=!0,document.addEventListener("mousemove",function(e){if(1==e.which){let t=Q(e.target,".wj-control");if(t&&!t.style.cursor)for(let n=e.target;n;n=n.parentNode)if(n.attributes&&n.attributes.draggable)return n.dragDrop(),!1}}));let Ji="requestAnimationFrame";if(!window[Ji]){let e=0;window[Ji]=function(t){let n=Date.now(),i=16-(n-e),r=i>0?i:0;return e=n+r,setTimeout(function(){t(e)},r)},window.cancelAnimationFrame=clearTimeout}var Xi=n("9i4M"),er=n("4yfK");class tr extends Xi.a{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new er.a;return this._value}next(e){super.next(this._value=e)}}var nr=n("05/P"),ir=n("ElHI"),rr=n("2K0D"),sr=n("0mJR");class or{constructor(e,t=or.now){this.SchedulerAction=e,this.now=t}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}or.now=Date.now?Date.now:()=>+new Date;const lr=new class extends or{constructor(){super(...arguments),this.actions=[],this.active=!1,this.scheduled=void 0}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}(class extends class extends sr.a{constructor(e,t){super()}schedule(e,t=0){return this}}{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e,this.pending=!0;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,n=0){return rr.a.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;rr.a.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,i=void 0;try{this.work(e)}catch(e){n=!0,i=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}});class ar extends nr.a{constructor(e=0,t=lr){super(),this.period=e,this.scheduler=t,(!function(e){return!Object(ir.a)(e)&&e-parseFloat(e)+1>=0}(e)||e<0)&&(this.period=0),t&&"function"==typeof t.schedule||(this.scheduler=lr)}static create(e=0,t=lr){return new ar(e,t)}static dispatch(e){const{index:t,subscriber:n,period:i}=e;n.next(t),n.closed||(e.index+=1,this.schedule(e,i))}_subscribe(e){const t=this.period;e.add(this.scheduler.schedule(ar.dispatch,t,{index:0,subscriber:e,period:t}))}}nr.a.interval=ar.create;class hr{constructor(){this.istoric=[],this.subject=new tr([]),this.istoricRow$=this.subject.asObservable(),this.autoTimer=null}getData(e){return this.data}newDataAvailable(e){this.subject.next(e)}updateData(e){this.subject.next(e)}updateRandom(){let e=[];for(let t=1;t<=10;t++)e.push({id:Math.floor(20*Math.random()),dataInregistrare:fi.newDate(),numeCamera:"updated",vTempOne:100*Math.random(),vTempTwo:50*Math.random(),vBat:100*Math.random()});this.updateData(e)}setAuto(e){e?(console.log("Start auto update"),this.autoTimer=nr.a.interval(1e3).subscribe(e=>this.updateRandom())):this.autoTimer&&(this.autoTimer.unsubscribe(),this.autoTimer=null,console.log("End auto update"))}}var ur=n("CLKv"),cr=n("jLix");class dr extends Xi.a{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(e){return this.hasError?(e.error(this.thrownError),sr.a.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),sr.a.EMPTY):super._subscribe(e)}next(e){this.hasCompleted||(this.value=e,this.hasNext=!0)}error(e){this.hasCompleted||super.error(e)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}class gr extends nr.a{constructor(e,t,n,i,r){super(),this.callbackFunc=e,this.selector=t,this.args=n,this.context=i,this.scheduler=r}static create(e,t,n){return function(...i){return new gr(e,t,i,this,n)}}_subscribe(e){const t=this.callbackFunc,n=this.args,i=this.scheduler;let r=this.subject;if(i)return i.schedule(gr.dispatch,0,{source:this,subscriber:e,context:this.context});if(!r){r=this.subject=new dr;const e=function e(...t){const n=e.source,{selector:i,subject:r}=n;if(i){const e=Object(ur.a)(i).apply(this,t);e===cr.a?r.error(cr.a.e):(r.next(e),r.complete())}else r.next(t.length<=1?t[0]:t),r.complete()};e.source=this,Object(ur.a)(t).apply(this.context,n.concat(e))===cr.a&&r.error(cr.a.e)}return r.subscribe(e)}static dispatch(e){const t=this,{source:n,subscriber:i,context:r}=e,{callbackFunc:s,args:o,scheduler:l}=n;let a=n.subject;if(!a){a=n.subject=new dr;const e=function e(...n){const i=e.source,{selector:r,subject:s}=i;if(r){const e=Object(ur.a)(r).apply(this,n);t.add(e===cr.a?l.schedule(me,0,{err:cr.a.e,subject:s}):l.schedule(_e,0,{value:e,subject:s}))}else t.add(l.schedule(_e,0,{value:n.length<=1?n[0]:n,subject:s}))};e.source=n,Object(ur.a)(s).apply(r,o.concat(e))===cr.a&&a.error(cr.a.e)}t.add(a.subscribe(i))}}nr.a.bindCallback=gr.create;class pr{constructor(e){this.updateCount=0,this.dataSvc=e,this.data=new Hi(new Vi),this.newDataSubcription=e.istoricRow$.subscribe(e=>{this.updateCount++,this.data.beginUpdate();let t=this.data.sourceCollection;e.forEach(e=>{let n=t.findIndex(t=>t.id==e.id);-1!=n?t.setAt(n,e):t.push(e)}),this.data.endUpdate()})}gotNewData(e){}ngOnInit(){}ngOnDestroy(){this.newDataSubcription&&(this.newDataSubcription.unsubscribe(),console.log("istoric unsubscribe"))}updateRandom(){this.dataSvc.updateRandom()}startRandom(){this.dataSvc.setAuto(!0)}stopRandom(){this.dataSvc.setAuto(!1)}}class fr{constructor(){}ngOnInit(){}}class _r{constructor(){}ngOnInit(){}}class mr{constructor(){}ngOnInit(){}}class wr{}class vr{constructor(){this.title="app",this.data=[];for(var e=0;e<=30;e++)this.data.push({col1:Math.round(100*Math.random()),col2:Math.round(100*Math.random()),col3:Math.round(100*Math.random()),col4:Math.round(100*Math.random()),col5:Math.round(100*Math.random()),col6:Math.round(100*Math.random())})}}var Cr=function(){return function(){var e=this;this.direction="down",this.isOpenChange=new si.m,this.isDisabledChange=new si.m,this.toggleClick=new si.m,this.dropdownMenu=new Promise(function(t){e.resolveDropdownMenu=t})}}(),yr=function(){function e(e,t,n,i){var r=this;this._state=e,this.cd=t,this._renderer=n,this.isOpen=!1,this._subscription=e.isOpenChange.subscribe(function(e){r.isOpen=e;var t=i.nativeElement.querySelector(".dropdown-menu");t&&(r._renderer.addClass(t,"show"),t.classList.contains("dropdown-menu-right")&&(r._renderer.setStyle(t,"left","auto"),r._renderer.setStyle(t,"right","0")),"up"===r.direction&&(r._renderer.setStyle(t,"top","auto"),r._renderer.setStyle(t,"transform","translateY(-101%)"))),r.cd.markForCheck(),r.cd.detectChanges()})}return Object.defineProperty(e.prototype,"direction",{get:function(){return this._state.direction},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},e}(),br=si._2({encapsulation:2,styles:[],data:{}}),Er=si._0("bs-dropdown-container",yr,function(e){return si._22(0,[(e()(),si._4(0,0,null,null,1,"bs-dropdown-container",[["style","display:block;position: absolute;"]],null,null,null,we,br)),si._3(1,180224,null,0,yr,[Cr,si.h,si.C,si.k],null,null)],null,null)},{},{},["*"]),xr=si._2({encapsulation:0,styles:[[""]],data:{}}),Sr=si._0("app-home",oi,function(e){return si._22(0,[(e()(),si._4(0,0,null,null,1,"app-home",[],null,null,null,ve,xr)),si._3(1,114688,null,0,oi,[],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]);window.wijmo=window.wijmo||{},window.wijmo.grid=ri,_i.FlexGrid=window.wijmo.culture.FlexGrid||{groupHeaderFormat:"{name}: <b>{value}</b> ({count:n0} items)"};var Rr;!function(e){e[e.None=0]="None",e[e.Column=1]="Column",e[e.Row=2]="Row",e[e.All=3]="All"}(Rr||(Rr={}));class Tr extends Si{constructor(e,t){super(e,null,!0),this._szClient=new gi(0,0),this._ptScrl=new di(0,0),this._cellPadding=3,this._autoGenCols=!0,this._autoClipboard=!0,this._readOnly=!1,this._indent=14,this._autoSizeMode=ns.Both,this._hdrVis=Rr.All,this._alSorting=!0,this._alAddNew=!1,this._alDelete=!1,this._alResizing=ts.Columns,this._alDragging=is.Columns,this._alMerging=Gr.None,this._ssHdr=Rr.None,this._shSort=!0,this._shGroups=!0,this._shAlt=!0,this._shErr=!0,this._shDropDown=!0,this._valEdt=!0,this._deferResizing=!1,this._pSel=!0,this._pOutline=!0,this._vt=0,this.itemsSourceChanged=new Ci,this.scrollPositionChanged=new Ci,this.selectionChanging=new Ci,this.selectionChanged=new Ci,this.loadingRows=new Ci,this.loadedRows=new Ci,this.updatingLayout=new Ci,this.updatedLayout=new Ci,this.resizingColumn=new Ci,this.resizedColumn=new Ci,this.autoSizingColumn=new Ci,this.autoSizedColumn=new Ci,this.draggingColumn=new Ci,this.draggingColumnOver=new Ci,this.draggedColumn=new Ci,this.resizingRow=new Ci,this.resizedRow=new Ci,this.autoSizingRow=new Ci,this.autoSizedRow=new Ci,this.draggingRow=new Ci,this.draggingRowOver=new Ci,this.draggedRow=new Ci,this.groupCollapsedChanging=new Ci,this.groupCollapsedChanged=new Ci,this.sortingColumn=new Ci,this.sortedColumn=new Ci,this.beginningEdit=new Ci,this.prepareCellForEdit=new Ci,this.cellEditEnding=new Ci,this.cellEditEnded=new Ci,this.rowEditStarting=new Ci,this.rowEditStarted=new Ci,this.rowEditEnding=new Ci,this.rowEditEnded=new Ci,this.rowAdded=new Ci,this.deletingRow=new Ci,this.deletedRow=new Ci,this.copying=new Ci,this.copied=new Ci,this.pasting=new Ci,this.pasted=new Ci,this.pastingCell=new Ci,this.pastedCell=new Ci,this.formatItem=new Ci,this.updatingView=new Ci,this.updatedView=new Ci,this._mappedColumns=null;let n=this.hostElement;de()&&(n.style.borderRadius="0px");let i=this.getTemplate();this.applyTemplate("wj-control wj-flexgrid wj-content",i,{_root:"root",_eSz:"sz",_eCt:"cells",_fCt:"fcells",_eTL:"tl",_eBL:"bl",_eCHdr:"ch",_eRHdr:"rh",_eCFtr:"cf",_eTLCt:"tlcells",_eBLCt:"blcells",_eCHdrCt:"chcells",_eCFtrCt:"cfcells",_eRHdrCt:"rhcells",_eMarquee:"marquee",_eFocus:"focus"}),this._tabIndex=n.tabIndex,n.tabIndex=-1;let r=this._getDefaultRowHeight();this.deferUpdate(()=>{this._rows=new Br(this,r),this._cols=new jr(this,4*r),this._hdrRows=new Br(this,r),this._hdrCols=new jr(this,Math.round(1.25*r)),this._ftrRows=new Br(this,r),this._gpTL=new Pr(this,kr.TopLeft,this._hdrRows,this._hdrCols,this._eTLCt),this._gpCHdr=new Pr(this,kr.ColumnHeader,this._hdrRows,this._cols,this._eCHdrCt),this._gpRHdr=new Pr(this,kr.RowHeader,this._rows,this._hdrCols,this._eRHdrCt),this._gpCells=new Pr(this,kr.Cell,this._rows,this._cols,this._eCt),this._gpBL=new Pr(this,kr.BottomLeft,this._ftrRows,this._hdrCols,this._eBLCt),this._gpCFtr=new Pr(this,kr.ColumnFooter,this._ftrRows,this._cols,this._eCFtrCt),this._hdrRows.push(new zr),this._hdrCols.push(new Hr),this._hdrCols[0].align="center",this._cf=new Nr,this._keyHdl=new Jr(this),this._mouseHdl=new rs(this),this._edtHdl=new os(this),this._selHdl=new Zr(this),this._addHdl=new ls(this),this._mrgMgr=new $r(this),this._bndSortConverter=this._sortConverter.bind(this),this._bndScroll=this._scroll.bind(this),U(this.cells.hostElement,"role","grid",!0),this.selectionMode=qr.CellRange,this.initialize(t)}),this.addEventListener(this._root,"scroll",e=>{this._updateScrollPosition()&&(this.finishEditing(),this._updateContent(!0))}),this.addEventListener(n,"focus",e=>{if(n.tabIndex>-1){let t=e.target;if(t instanceof HTMLElement&&t.tabIndex<0)return void this._setFocus(!0)}},!0)}_handleResize(){this._rcBounds=null,super._handleResize()}get headersVisibility(){return this._hdrVis}set headersVisibility(e){e!=this._hdrVis&&(this._hdrVis=D(e,Rr),this.invalidate())}get stickyHeaders(){return this._stickyHdr}set stickyHeaders(e){e!=this._stickyHdr&&(this._stickyHdr=M(e),this._updateStickyHeaders(),this.invalidate())}get preserveSelectedState(){return this._pSel}set preserveSelectedState(e){this._pSel=M(e)}get preserveOutlineState(){return this._pOutline}set preserveOutlineState(e){this._pOutline=M(e)}get virtualizationThreshold(){return this._vt}set virtualizationThreshold(e){this._vt=T(e)}get _virtualizationThreshold(){return this._vt}set _virtualizationThreshold(e){S("_virtualizationThreshold","virtualizationThreshold"),this._vt=T(e)}get autoGenerateColumns(){return this._autoGenCols}set autoGenerateColumns(e){this._autoGenCols=M(e)}get autoClipboard(){return this._autoClipboard}set autoClipboard(e){this._autoClipboard=M(e)}get columnLayout(){let e=Tr._getSerializableProperties(Hr),t=new Hr,n=[];for(let i=0;i<this.columns.length;i++){let r=this.columns[i],o={};for(let n=0;n<e.length;n++){let i=e[n],l=r[i];l!=t[i]&&s(l)&&"size"!=i&&(o[i]=l)}n.push(o)}return JSON.stringify({columns:n})}set columnLayout(e){let t=JSON.parse(R(e));if(!t||null==t.columns)throw"Invalid columnLayout data.";this.columns.clear(),this.initialize(t)}get isReadOnly(){return this._readOnly}set isReadOnly(e){e!=this._readOnly&&(this._readOnly=M(e),this.finishEditing(),this.invalidate(!0),this._addHdl.updateNewRowTemplate(),B(this.hostElement,"wj-state-readonly",this.isReadOnly),this._setAria("readonly",this.isReadOnly?"true":null))}get imeEnabled(){return null!=this._imeHdl}set imeEnabled(e){e!=this.imeEnabled&&(this._imeHdl&&(this._imeHdl.dispose(),this._imeHdl=null),e&&(this._imeHdl=new hs(this)))}get allowResizing(){return this._alResizing}set allowResizing(e){this._alResizing=D(e,ts)}get deferResizing(){return this._deferResizing}set deferResizing(e){this._deferResizing=M(e)}get autoSizeMode(){return this._autoSizeMode}set autoSizeMode(e){this._autoSizeMode=D(e,ns)}get quickAutoSize(){return this._quickSize}set quickAutoSize(e){this._quickSize=M(e,!0)}_getQuickAutoSize(){return u(this._quickSize)?this._quickSize:!this.formatItem.hasHandlers&&null==this.itemFormatter}get allowSorting(){return this._alSorting}set allowSorting(e){this._alSorting=M(e)}get allowAddNew(){return this._alAddNew}set allowAddNew(e){e!=this._alAddNew&&(this._alAddNew=M(e),this._addHdl.updateNewRowTemplate())}get newRowAtTop(){return this._addHdl.newRowAtTop}set newRowAtTop(e){this._addHdl.newRowAtTop=M(e)}get allowDelete(){return this._alDelete}set allowDelete(e){e!=this._alDelete&&(this._alDelete=M(e))}get allowMerging(){return this._alMerging}set allowMerging(e){e!=this._alMerging&&(this._alMerging=D(e,Gr),this.invalidate())}get showSelectedHeaders(){return this._ssHdr}set showSelectedHeaders(e){e!=this._ssHdr&&(this._ssHdr=D(e,Rr),this.invalidate())}get showMarquee(){return!this._eMarquee.style.display}set showMarquee(e){if(e!=this.showMarquee){let t=this._eMarquee.style;t.visibility="collapse",t.display=M(e)?"":"none",this.invalidate()}}get showSort(){return this._shSort}set showSort(e){e!=this._shSort&&(this._shSort=M(e),this.invalidate())}get showGroups(){return this._shGroups}set showGroups(e){e!=this._shGroups&&(this._shGroups=M(e),this._bindGrid(!1))}get showAlternatingRows(){return this._shAlt}set showAlternatingRows(e){e!=this._shAlt&&(this._shAlt=M(e),this.invalidate())}get showErrors(){return this._shErr}set showErrors(e){e!=this._shErr&&(this._clearCells(),this._shErr=M(e))}get itemValidator(){return this._itemValidator}set itemValidator(e){e!=this.itemValidator&&(this._itemValidator=k(e),this._hasValidation=c(this._itemValidator)||this._cv&&c(this._cv.getError),this.invalidate())}get validateEdits(){return this._valEdt}set validateEdits(e){this._valEdt=M(e)}get groupHeaderFormat(){return this._gHdrFmt}set groupHeaderFormat(e){e!=this._gHdrFmt&&(this._gHdrFmt=R(e),this._bindGrid(!1))}get allowDragging(){return this._alDragging}set allowDragging(e){e!=this._alDragging&&(this._alDragging=D(e,is),this.invalidate())}get itemsSource(){return this._items}set itemsSource(e){if(e!=this._items){if(this._cv){let e=r(this._cv,Hi);e&&e.sortConverter==this._bndSortConverter&&(e.sortConverter=null),this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null}if(this._items=e,this._cv=this._getCollectionView(e),this._lastCount=0,this._hasValidation=c(this._itemValidator)||this._cv&&c(this._cv.getError),this._cv){this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this);let e=r(this._cv,Hi);e&&!e.sortConverter&&(e.sortConverter=this._bndSortConverter)}this._bindGrid(!0),this.onItemsSourceChanged()}}get collectionView(){return this._cv}get editableCollectionView(){return r(this._cv,"IEditableCollectionView")}get childItemsPath(){return this._childItemsPath}set childItemsPath(e){e!=this._childItemsPath&&(x(null==e||p(e)||o(e),"childItemsPath should be an array or a string."),this._childItemsPath=e,this._bindGrid(!0))}get rowHeaderPath(){return this._rowHdrPath?this._rowHdrPath.path:null}set rowHeaderPath(e){e!=this.rowHeaderPath&&(e=R(e),this._rowHdrPath=e?new wi(e):null,this.invalidate())}get cells(){return this._gpCells}get columnHeaders(){return this._gpCHdr}get columnFooters(){return this._gpCFtr}get rowHeaders(){return this._gpRHdr}get topLeftCells(){return this._gpTL}get bottomLeftCells(){return this._gpBL}get rows(){return this._rows}get columns(){return this._cols}getColumn(e){return this.columns.getColumn(e)}get frozenRows(){return this.rows.frozen}set frozenRows(e){this.rows.frozen=e}get frozenColumns(){return this.columns.frozen}set frozenColumns(e){this.columns.frozen=e}get cloneFrozenCells(){return this._fzClone}set cloneFrozenCells(e){e!=this.cloneFrozenCells&&(this._fzClone=M(e,!0),this.invalidate())}get sortRowIndex(){return this._sortRowIndex}set sortRowIndex(e){e!=this._sortRowIndex&&(this._sortRowIndex=T(e,!0),this.invalidate())}get scrollPosition(){return this._ptScrl.clone()}set scrollPosition(e){let t=this._root,n=-e.x;if(this.rightToLeft)switch(Tr._getRtlMode()){case"rev":n=t.scrollWidth-t.clientWidth+e.x;break;case"neg":n=e.x;break;default:n=-e.x}t.scrollLeft=n,t.scrollTop=-e.y}get clientSize(){return this._szClient}get controlRect(){return this._rcBounds||(this._rcBounds=ee(this._root)),this._rcBounds}get scrollSize(){return new gi(this._gpCells.width,this._heightBrowser)}get viewRange(){return this._gpCells.viewRange}get cellFactory(){return this._cf}set cellFactory(e){e!=this._cf&&(this._clearCells(),this._cf=N(e,Nr,!1))}get itemFormatter(){return this._itemFormatter}set itemFormatter(e){e!=this._itemFormatter&&(this._clearCells(),this._itemFormatter=k(e))}canEditCell(e,t){return this._edtHdl._allowEditing(e,t)}getCellData(e,t,n){return this.cells.getCellData(e,t,n)}getCellBoundingRect(e,t,n){return this.cells.getCellBoundingRect(e,t,n)}setCellData(e,t,n,i=!0,r=!0){return this.cells.setCellData(e,t,n,i,r)}hitTest(e,t){return a(e)&&a(t)&&(e=new di(e,t)),u(t)&&t&&(this._rcBounds=null),new Ur(this,e)}getClipString(e){return this._edtHdl.getClipString(e)}setClipString(e,t){this._edtHdl.setClipString(e,t)}focus(){this._setFocus(!1)}dispose(){this.finishEditing(!0),this.itemsSource=null,super.dispose()}refresh(e=!0){super.refresh(e),this.finishEditing(),e&&(this._updateColumnTypes(),this.scrollPosition=this._ptScrl),this.refreshCells(e)}refreshCells(e,t,n){this.isUpdating||(e?this._updateLayout():this._updateContent(t,n))}autoSizeColumn(e,t=!1,n=4){this.autoSizeColumns(e,e,t,n)}autoSizeColumns(e,t,n=!1,i=4){let r=0,s=n?this.topLeftCells:this.columnHeaders,o=n?this.bottomLeftCells:this.columnFooters,l=n?this.rowHeaders:this.cells,a=this.viewRange;e=null==e?0:A(e),t=null==t?l.columns.length-1:A(t),a.row=Math.max(0,a.row-1e3),a.row2=Math.min(a.row2+1e3,this.rows.length-1),this.finishEditing()&&this.columns.deferUpdate(()=>{te(this._eCt,{width:this._gpCells.width});let n=document.createElement("div");n.setAttribute(Tr._WJS_MEASURE,"true"),n.style.visibility="hidden",l.hostElement.parentElement.appendChild(n);let h=this._getCanvasContext();for(let u=e;u<=t&&u>-1&&u<l.columns.length;u++){let e=l.columns[u];if(e.isVisible){if(r=0,this.autoSizeMode&ns.Headers){for(let e=0;e<s.rows.length;e++)if(s.rows[e].isVisible){let t=this._getDesiredWidth(s,e,u,n);r=Math.max(r,t)}for(let e=0;e<o.rows.length;e++)if(o.rows[e].isVisible){let t=this._getDesiredWidth(o,e,u,n);r=Math.max(r,t)}}if(this.autoSizeMode&ns.Cells)if(e._getQuickAutoSize()){let e=this._getWidestRow(l,a,u,h),t=this._getDesiredWidth(l,e,u,n);r=Math.max(r,t)}else for(let e=a.row;e<=a.row2&&e>-1&&e<l.rows.length;e++)if(l.rows[e].isVisible){let t=this._getDesiredWidth(l,e,u,n);r=Math.max(r,t)}e.width=r+i+2}}this.cellFactory.disposeCell(n),n.parentElement.removeChild(n)})}autoSizeRow(e,t=!1,n=0){this.autoSizeRows(e,e,t,n)}autoSizeRows(e,t,n=!1,i=0){let r=0,s=n?this.topLeftCells:this.rowHeaders,o=n?this.columnHeaders:this.cells;n=M(n),i=T(i),e=null==e?0:A(e),t=null==t?o.rows.length-1:A(t),this.finishEditing()&&this.rows.deferUpdate(()=>{te(this._eCt,{width:this._gpCells.width});let n=document.createElement("div");n.setAttribute(Tr._WJS_MEASURE,"true"),n.style.visibility="hidden",o.hostElement.appendChild(n);let l={};for(let a=e;a<=t&&a>-1&&a<o.rows.length;a++)if(o.rows[a].isVisible){if(r=0,this.autoSizeMode&ns.Headers)for(let e=0;e<s.columns.length;e++)if(s.columns[e].isVisible>0){let t=this._getDesiredHeight(s,a,e,n);r=Math.max(r,t)}if(this.autoSizeMode&ns.Cells){let e=!0;for(let t=0;t<o.columns.length;t++){let i=o.columns[t],s=i._getQuickAutoSize();if(i.isVisible&&(e||i.wordWrap||i.cssClass||i.dataType==ui.Boolean||!s)){let h;if(s){let e={col:t,content:i.dataType==ui.Number?"1":o.getCellData(a,t,!0)},r=JSON.stringify(e);null==(h=l[r])&&(h=this._getDesiredHeight(o,a,t,n),l[r]=h)}else h=this._getDesiredHeight(o,a,t,n);r=Math.max(r,h),e=!1}}}o.rows[a].height=r+i}this.cellFactory.disposeCell(n),n.parentElement.removeChild(n)})}get treeIndent(){return this._indent}set treeIndent(e){e!=this._indent&&(this._indent=T(e,!1,!0),this.columns.onCollectionChanged())}collapseGroupsToLevel(e){if(this.finishEditing()){let t=this.rows;t.deferUpdate(()=>{for(let n=0;n<t.length;n++){let i=r(t[n],Lr);i&&(i.isCollapsed=i.level>=e)}})}}get selectionMode(){return this._selHdl.selectionMode}set selectionMode(e){e!=this.selectionMode&&(this._clearCells(),this._selHdl.selectionMode=D(e,qr))}get selection(){return this._selHdl.selection.clone()}set selection(e){this._selHdl.selection=e}select(e,t=!0){this._selHdl.select(e,t)}getSelectedState(e,t){return this.cells.getSelectedState(e,t,null)}get selectedRows(){let e=[];if(this.selectionMode==qr.ListBox)for(let t=0;t<this.rows.length;t++)this.rows[t].isSelected&&e.push(this.rows[t]);else if(this.rows.length){let t=this.selection;for(let n=t.topRow;n>-1&&n<=t.bottomRow;n++)e.push(this.rows[n])}return e}set selectedRows(e){x(this.selectionMode==qr.ListBox,"This property can be set only in ListBox mode."),e=P(e),this.deferUpdate(()=>{for(let t=0,n=!0;t<this.rows.length;t++){let i=this.rows[t],r=e&&e.indexOf(i)>-1;r&&n&&(n=!1,this.select(t,this.selection.col)),i.isSelected=r}})}get selectedItems(){let e=this.selectedRows;for(let t=0;t<e.length;t++)e[t]=e[t].dataItem;return e}set selectedItems(e){x(this.selectionMode==qr.ListBox,"This property can be set only in ListBox mode."),e=P(e),this.deferUpdate(()=>{for(let t=0,n=!0;t<this.rows.length;t++){let i=this.rows[t],r=e&&e.indexOf(i.dataItem)>-1;r&&n&&(n=!1,this.select(t,this.selection.col)),i.isSelected=r}})}scrollIntoView(e,t){null==this._maxOffsetY&&this._updateLayout();let n=this.scrollPosition,i=this._szClient.width,r=this._szClient.height-this._gpCFtr.rows.getTotalSize(),s=this.cells._getFrozenPos();if((e=A(e))>-1&&e<this._rows.length&&e>=this._rows.frozen){let t=this._rows[e],i=this.cells.height>r?Math.round(t.pos/(this.cells.height-r)*100)/100:0,o=Math.round(this._maxOffsetY*i),l=t.pos-o,a=l+t.renderSize;a>r-n.y&&(n.y=Math.max(-l,r-a)),l-s.y<-n.y&&(n.y=-(l-s.y))}if((t=A(t))>-1&&t<this._cols.length&&t>=this._cols.frozen){let e=this._cols[t],r=e.pos+e.renderSize;r>-n.x+i&&(n.x=Math.max(-e.pos,i-r)),e.pos-s.x<-n.x&&(n.x=-(e.pos-s.x))}return!n.equals(this._ptScrl)&&(this.scrollPosition=n,!0)}isRangeValid(e){return e.isValid&&e.bottomRow<this.rows.length&&e.rightCol<this.columns.length}startEditing(e=!0,t,n,i){return this._edtHdl.startEditing(e,t,n,i)}finishEditing(e=!1){return this._edtHdl.finishEditing(e)}get activeEditor(){return this._edtHdl.activeEditor}get editRange(){return this._edtHdl.editRange}get mergeManager(){return this._mrgMgr}set mergeManager(e){e!=this._mrgMgr&&(this._mrgMgr=N(e,$r,!0),this.invalidate())}getMergedRange(e,t,n,i=!0){return this._mrgMgr?this._mrgMgr.getMergedRange(e,t,n,i):null}get keyActionTab(){return this._keyHdl._kaTab}set keyActionTab(e){this._keyHdl._kaTab=D(e,Qr)}get keyActionEnter(){return this._keyHdl._kaEnter}set keyActionEnter(e){this._keyHdl._kaEnter=D(e,Qr)}get showDropDown(){return this._shDropDown}set showDropDown(e){e!=this._shDropDown&&(this._shDropDown=M(e,!0),this.invalidate())}toggleDropDownList(){this._tglDropDown||(this._tglDropDown=!0,this._edtHdl._toggleListBox(null),this._tglDropDown=!1)}onItemsSourceChanged(e){this.itemsSourceChanged.raise(this,e)}onScrollPositionChanged(e){this.scrollPositionChanged.raise(this,e)}onSelectionChanging(e){return this.selectionChanging.raise(this,e),!e.cancel}onSelectionChanged(e){this.selectionChanged.raise(this,e)}onLoadingRows(e){return this.loadingRows.raise(this,e),!e.cancel}onLoadedRows(e){this.loadedRows.raise(this,e)}onUpdatingLayout(e){return this.updatingLayout.raise(this,e),!e.cancel}onUpdatedLayout(e){this.updatedLayout.raise(this,e)}onResizingColumn(e){return this.resizingColumn.raise(this,e),!e.cancel}onResizedColumn(e){this.resizedColumn.raise(this,e)}onAutoSizingColumn(e){return this.autoSizingColumn.raise(this,e),!e.cancel}onAutoSizedColumn(e){this.autoSizedColumn.raise(this,e)}onDraggingColumn(e){return this.draggingColumn.raise(this,e),!e.cancel}onDraggingColumnOver(e){return this.draggingColumnOver.raise(this,e),!e.cancel}onDraggedColumn(e){this.draggedColumn.raise(this,e)}onResizingRow(e){return this.resizingRow.raise(this,e),!e.cancel}onResizedRow(e){this.resizedRow.raise(this,e)}onAutoSizingRow(e){return this.autoSizingRow.raise(this,e),!e.cancel}onAutoSizedRow(e){this.autoSizedRow.raise(this,e)}onDraggingRow(e){return this.draggingRow.raise(this,e),!e.cancel}onDraggingRowOver(e){return this.draggingRowOver.raise(this,e),!e.cancel}onDraggedRow(e){this.draggedRow.raise(this,e)}onGroupCollapsedChanging(e){return this.groupCollapsedChanging.raise(this,e),!e.cancel}onGroupCollapsedChanged(e){this.groupCollapsedChanged.raise(this,e)}onSortingColumn(e){return this.sortingColumn.raise(this,e),!e.cancel}onSortedColumn(e){this.sortedColumn.raise(this,e)}onBeginningEdit(e){return this.beginningEdit.raise(this,e),!e.cancel}onPrepareCellForEdit(e){this.prepareCellForEdit.raise(this,e)}onCellEditEnding(e){return this.cellEditEnding.raise(this,e),!e.cancel&&!e.stayInEditMode}onCellEditEnded(e){this.cellEditEnded.raise(this,e)}onRowEditStarting(e){this.rowEditStarting.raise(this,e)}onRowEditStarted(e){this.rowEditStarted.raise(this,e)}onRowEditEnding(e){this.rowEditEnding.raise(this,e)}onRowEditEnded(e){this.rowEditEnded.raise(this,e)}onRowAdded(e){return this.rowAdded.raise(this,e),!e.cancel}onDeletingRow(e){return this.deletingRow.raise(this,e),!e.cancel}onDeletedRow(e){this.deletedRow.raise(this,e)}onCopying(e){return this.copying.raise(this,e),!e.cancel}onCopied(e){this.copied.raise(this,e)}onPasting(e){return this.pasting.raise(this,e),!e.cancel}onPasted(e){this.pasted.raise(this,e)}onPastingCell(e){return this.pastingCell.raise(this,e),!e.cancel}onPastedCell(e){this.pastedCell.raise(this,e)}onFormatItem(e){this.formatItem.raise(this,e)}onUpdatingView(e){return this.updatingView.raise(this,e),!e.cancel}onUpdatedView(e){this.updatedView.raise(this,e)}_getShowErrors(){return this.showErrors&&this._hasValidation}_getHasValidation(){return this._hasValidation}_getError(e,t,n){if(c(this.itemValidator)){if(e==this.cells)return this.itemValidator(t,n);if(e==this.rowHeaders)for(n=0;n<this.columns.length;n++){let e=this.itemValidator(t,n);if(e)return e}}let i=this.collectionView,r=i?i.getError:null;if(c(r)){let i=e.rows,s=this.columns,o=i[t].dataItem;if(o)for(;t<i.length&&i[t].dataItem==o;t++){if(e==this.cells)return r(o,this._getBindingColumn(this.cells,t,s[n]).binding);if(e==this.rowHeaders)for(n=0;n<s.length;n++){let e=r(o,this._getBindingColumn(this.cells,t,s[n]).binding);if(e)return e}}}return null}_setAria(e,t){U(this.cells.hostElement,"aria-"+e,t)}_setFocus(e){if(this.hostElement&&(e||!this.containsFocus())){let e=$(),t=this._eFocus,n="tabindex";this.activeEditor?Z(this.activeEditor,e)||(this._setFocusNoScroll(this.activeEditor),t.removeAttribute(n)):this._activeCell?Z(this._activeCell,e)||(this._setFocusNoScroll(this._activeCell),t.removeAttribute(n)):Z(t,e)||(t.tabIndex=this._tabIndex,t.focus()),this.containsFocus()||(t.tabIndex=this._tabIndex,t.focus())}}_setFocusNoScroll(e){let t=this.scrollPosition,n=e.style,i=n.position;n.position="fixed",e.tabIndex=this._tabIndex,e.focus(),n.position=i,this.scrollPosition=t;let r=this.hostElement;r.scrollTop=r.scrollLeft=0}_getDefaultRowHeight(){let e=this.hostElement,t=document.body,n=null;if(t&&!Z(t,e)){for(let t=e;t;t=t.parentElement)n=t;n&&t.appendChild(n)}let i=K('<div class="wj-cell">123</div>',e),r=i.scrollHeight+2;return e.removeChild(i),n&&t.removeChild(n),(r<=6||isNaN(r)||!t)&&(r=28),r}_getCollectionView(e){return O(e)}_getCanvasContext(){let e=document.createElement("canvas").getContext("2d"),t=getComputedStyle(this.hostElement);return e.font=t.fontSize+" "+t.fontFamily.split(",")[0],e}_getWidestRow(e,t,n,i){let r=0,s=0,o=e.columns[n].dataType,l=o==ui.Number,a=o==ui.Boolean;for(let h=t.row;h<=t.row2;h++)if(e.rows[h].isVisible){let t=e.getCellData(h,n,!0),u=o==l?t.length:i.measureText(t).width;if(u>s&&(s=u,r=h),a)break}return r}_getDesiredWidth(e,t,n,i){let r=this.getMergedRange(e,t,n),s=i.style;return this.cellFactory.updateCell(e,t,n,i,r),s.width=s.top=s.left="",i.offsetWidth/(r&&r.columnSpan>1?r.columnSpan:1)}_getDesiredHeight(e,t,n,i){let r=this.getMergedRange(e,t,n),s=i.style;return this.cellFactory.updateCell(e,t,n,i,r),s.height=s.top=s.left="",i.offsetHeight/(r&&r.rowSpan>1?r.rowSpan:1)}_getSortRowIndex(){return null!=this._sortRowIndex?this._sortRowIndex:this.columnHeaders.rows.length-1}_sortConverter(e,t,n,i){let r;if(i){if(this._mappedColumns=null,this.collectionView){let e=this.collectionView.sortDescriptions;for(let t=0;t<e.length;t++)(r=this.getColumn(e[t].property))&&r.dataMap&&(this._mappedColumns||(this._mappedColumns={}),this._mappedColumns[r.binding]=r.dataMap)}this._mouseHdl._htDown&&this._mouseHdl._htDown.col>-1&&(r=this.columns[this._mouseHdl._htDown.col],this._mappedColumns&&r.dataMap&&(this._mappedColumns[r.binding]=r.dataMap))}if(this._mappedColumns){let t=this._mappedColumns[e.property];t&&t.sortByDisplayValues&&(n=t.getDisplayValue(n))}return n}_bindGrid(e){if(this.deferUpdate(()=>{0==this._lastCount&&this._cv&&this._cv.items&&this._cv.items.length&&(e=!0);let t=[];if(this.preserveSelectedState&&this.selectionMode==qr.ListBox&&!this.childItemsPath)for(let e=0;e<this.rows.length;e++){let n=this.rows[e];n.isSelected&&n.dataItem&&t.push(n.dataItem)}let n;if(this.preserveOutlineState&&c(window.Map)&&this.rows.maxGroupLevel>-1){n=new Map;for(let e=0;e<this.rows.length;e++){let t=this.rows[e];if(t instanceof Lr&&t.isCollapsed&&t.dataItem){let e=t.dataItem;e instanceof zi&&(e=e._path),n.set(e,!0)}}}e&&this.columns.deferUpdate(()=>{this._bindColumns()});let i=new bi;this.onLoadingRows(i)&&(this.rows.deferUpdate(()=>{this._bindRows()}),this.onLoadedRows(i));let r=0;if(t.length)for(let e=0;e<this.rows.length&&r<t.length;e++)t.indexOf(this.rows[e].dataItem)>-1&&(this.rows[e].isSelected=!0,r++);if(this.selectionMode==qr.ListBox&&0==r){let e=this.selection;for(let t=e.topRow;t<=e.bottomRow&&t>-1&&t<this.rows.length;t++)this.rows[t].isSelected=!0}n&&this.rows.deferUpdate(()=>{for(let e=0;e<this.rows.length;e++){let t=this.rows[e];if(t instanceof Lr){let e=t.dataItem;e instanceof zi&&(e=e._path),n.get(e)&&(t.isCollapsed=!0)}}}),!this._lastCount&&this._cv&&this._cv.items&&(this._lastCount=this._cv.items.length)}),!this.rows.length){let e=this._selHdl.selection;e.row=e.row2=-1}this.collectionView&&this._cvCurrentChanged(this.collectionView,yi.empty)}_cvCollectionChanged(e,t){if(this.autoGenerateColumns&&0==this.columns.length)this._bindGrid(!0);else if(this.childItemsPath&&t.action!=Ti.Change)this._bindGrid(!1);else{switch(t.action){case Ti.Change:return void this.invalidate();case Ti.Add:if(t.index==this.collectionView.items.length-1){let e=this.rows.length;return this.rows[e-1]instanceof as&&e--,void this.rows.insert(e,new zr(t.item))}x(!1,"added item should be the last one.");break;case Ti.Remove:let n=this._findRow(t.item);if(n>-1)return this.rows.removeAt(n),void this._cvCurrentChanged(e,t);x(!1,"removed item not found in grid.")}this._bindGrid(!1)}}_cvCurrentChanged(e,t){if(this.collectionView&&this.selectionMode!=qr.None){let e=this.selection,t=e.row>-1&&e.row<this.rows.length?this.rows[e.row].dataItem:null;if(t instanceof zi&&(t=null),!(t==this.collectionView.currentItem||this.childItemsPath&&this.editableCollectionView&&this.editableCollectionView.currentAddItem)){let t=this._getRowIndex(this.collectionView.currentPosition);t==e.row&&this.childItemsPath||(e.row=e.row2=t,this.select(e,!1),this.selectionMode&&this.scrollIntoView(e.row,-1))}}}_getRowIndex(e){if(this.collectionView){if(e>-1){let t=this.collectionView.items[e];for(;e<this.rows.length;e++)if(this.rows[e].dataItem===t)return e;return-1}{if(1==this.rows.length&&this.rows[0]instanceof as)return 0;let e=this.selection.row,t=e>-1?this.rows[e]:null;return t&&(t instanceof Lr||null==t.dataItem)?e:-1}}return this.selection.row}_getCvIndex(e){if(e>-1&&this.collectionView){let t=this.rows[e].dataItem;for(e=Math.min(e,this.collectionView.items.length);e>-1;e--)if(this.collectionView.items[e]===t)return e}return-1}_findRow(e){for(let t=0;t<this.rows.length;t++)if(this.rows[t].dataItem==e)return t;return-1}_updateLayout(){let e=new bi;if(!this.onUpdatingLayout(e))return;let t=this._hdrVis&Rr.Row?this._hdrCols.getTotalSize():0,n=this._hdrVis&Rr.Column?this._hdrRows.getTotalSize():0,i=this._ftrRows.getTotalSize(),r=this._rows.getTotalSize()+i;if(r<1&&(r=1),this._heightBrowser=Math.min(r,Tr._getMaxSupportedCssHeight()),this._maxOffsetY=Math.max(0,r-this._heightBrowser),this.cells.hostElement){let e=K('<div class="wj-cell"></div>',this.cells.hostElement),t=getComputedStyle(e);this._cellPadding=parseInt(this.rightToLeft?t.paddingRight:t.paddingLeft),e.parentElement.removeChild(e)}let s=this._heightBrowser+n-i;this.rightToLeft?(te(this._eTL,{right:0,top:0,width:t,height:n}),te(this._eCHdr,{right:t,top:0,height:n}),te(this._eRHdr,{right:0,top:n,width:t}),te(this._eCt,{right:t,top:n,width:this._gpCells.width,height:this._heightBrowser}),te(this._fCt,{right:t,top:n}),te(this._eBL,{right:0,top:s,width:t,height:i}),te(this._eCFtr,{right:t,top:s,height:i})):(te(this._eTL,{left:0,top:0,width:t,height:n}),te(this._eCHdr,{left:t,top:0,height:n}),te(this._eRHdr,{left:0,top:n,width:t}),te(this._eCt,{left:t,top:n,width:this._gpCells.width,height:this._heightBrowser}),te(this._fCt,{left:t,top:n}),te(this._eBL,{left:0,top:s,width:t,height:i}),te(this._eCFtr,{left:t,top:s,height:i})),this._stickyHdr&&this._updateStickyHeaders(),te([this._eTL,this._eBL,this._eCHdr,this._eCFtr,this._eRHdr,this._eMarquee],{zIndex:this.frozenRows||this.frozenColumns?"3":""});let o=this._root,l=o.offsetWidth-o.clientWidth,a=o.offsetHeight-o.clientHeight;te(this._eSz,{width:t+l+this._gpCells.width,height:n+a+this._heightBrowser});let h=null;this.columns._updateStarSizes(o.clientWidth-t)&&(h=o.clientWidth,te(this._eCt,{width:this._gpCells.width})),this._szClient=new gi(o.clientWidth-t,o.clientHeight-n),this._rcBounds=null,this._updateScrollHandler(),this._updateContent(!1),te(this._eSz,{width:t+(l=o.offsetWidth-o.clientWidth)+this._gpCells.width,height:n+(a=o.offsetHeight-o.clientHeight)+this._heightBrowser}),this._szClient=new gi(o.clientWidth-t,o.clientHeight-n),h&&h!=o.clientWidth&&this.columns._updateStarSizes(o.clientWidth-t)&&(te(this._eCt,{width:this._gpCells.width}),this._updateContent(!1)),te([this._eCHdr,this._eCFtr,this._fCt],{width:this._szClient.width}),te([this._eRHdr,this._fCt],{height:this._szClient.height}),i&&(s=Math.min(s,this._szClient.height+n-i),te([this._eBL,this._eCFtr],{top:s})),this.onUpdatedLayout(e)}_updateStickyHeaders(){let e=!1,t=0;if(this._stickyHdr){let n=0,i=null;for(let e=this.hostElement;e;e=e.parentElement){let t=e.getBoundingClientRect();null==i&&(i=t.top),n=Math.max(n,t.top)}t=-(i=Math.max(0,n-i-1)),e=i>0,this._rcBounds=null}this._eTL.style.top=this._eCHdr.style.top=e?-t+"px":"",B(this._eTL,Tr._WJS_STICKY,e),B(this._eCHdr,Tr._WJS_STICKY,e)}_updateScrollHandler(){let e=this._stickyHdr||this._clipToScreen();e!=this._scrollHandlerAttached&&(this._scrollHandlerAttached=e,e?this.addEventListener(window,"scroll",this._bndScroll,!0):this.removeEventListener(window,"scroll",this._bndScroll,!0))}_clipToScreen(){if(this.rows.length<=Tr._MIN_VIRT_ROWS)return!1;if(this._root.clientHeight!=this._root.scrollHeight)return!1;for(let e=this.hostElement;e&&e!=document.documentElement;e=e.parentElement)if("auto"==getComputedStyle(e).overflow)return!1;return!0}_scroll(e){Z(e.target,this.hostElement)&&(this._clipToScreen()&&(this._afScrl&&cancelAnimationFrame(this._afScrl),this._afScrl=requestAnimationFrame(()=>{this.finishEditing(),this._updateContent(!0),this._afScrl=null})),this._stickyHdr&&(this._toSticky&&cancelAnimationFrame(this._toSticky),this._toSticky=requestAnimationFrame(()=>{this._toSticky=null;let e=new bi;this.onUpdatingLayout(e)&&(this._updateStickyHeaders(),this.onUpdatedLayout(e))})))}_updateScrollPosition(){let e=this._root,t=e.scrollTop,n=e.scrollLeft;this.rightToLeft&&"rev"==Tr._getRtlMode()&&(n=e.scrollWidth-e.clientWidth-n);let i=new di(-Math.abs(n),-t);return!this._ptScrl.equals(i)&&(this._ptScrl=i,this.onScrollPositionChanged(),!0)}_updateContent(e,t){let n=$(),i=Z(this.hostElement,n)?n:null,r=this._activeCell,s=new bi;if(!this.onUpdatingView(s))return;if(this._offsetY=0,this._heightBrowser>this._szClient.height){let e=Math.round(-this._ptScrl.y/(this._heightBrowser-this._szClient.height)*100)/100;this._offsetY=Math.round(this._maxOffsetY*e)}this._updateScrollPosition();let o=this._gpCells._updateContent(e,t,this._offsetY);if(this._hdrVis&Rr.Column&&(!t||this._ssHdr&Rr.Column)&&this._gpCHdr._updateContent(e,t,0),this._hdrVis&Rr.Row&&(!t||this._ssHdr&Rr.Row)&&this._gpRHdr._updateContent(e,t,this._offsetY),this._hdrVis&&!t&&this._gpTL._updateContent(e,t,0),this._gpCFtr.rows.length&&(this._gpBL._updateContent(e,t,0),this._gpCFtr._updateContent(e,t,0)),this.showMarquee){let e=this._selHdl.selection,t=this._eMarquee;if(this.isRangeValid(e)){let n=this._getMarqueeRect(e),i=this.cells.hostElement,r=t.firstChild,s=t.offsetWidth-r.offsetWidth,o=t.offsetHeight-r.offsetHeight;te(t,{left:n.left+i.offsetLeft-s/2,top:n.top+i.offsetTop-o/2,width:n.width+s,height:n.height+o,visibility:n.width>0&&n.height>0?"":"collapse"})}else te(t,{left:0,top:0,width:0,height:0,visibility:"collapse"})}this._useFrozenDiv()&&(this._updateFrozenCells(t),o&&L(o,"wj-frozen")&&(o=null)),this._activeCell=o,i&&(i!=this._root&&i!=this._eFocus&&Z(this.hostElement,i)&&!Z(this.cells.hostElement,i)?i.focus():this._setFocus(o!=r)),!i&&o&&(o.tabIndex=this._tabIndex),r&&r!=o&&r.removeAttribute("tabindex"),this._rcBounds=null,this.onUpdatedView(s)}_clearCells(){for(let e in this)if("_"==e[0]){let t=this[e];t instanceof Pr&&t._clearCells()}this.invalidate()}_useFrozenDiv(){return u(this._fzClone)?this._fzClone:de()||ue()||he()}_updateFrozenCells(e){if(this.frozenRows||this.frozenColumns){let t=this._eCt.querySelectorAll(".wj-frozen");if(e&&this._fCt.children.length==t.length){for(let e=0;e<t.length;e++)this._fCt.children[e].className=t[e].className;return}if(Y(this._fCt,null),!this.activeEditor)for(let e=0;e<t.length;e++){let n=t[e].cloneNode(!0);n.style.pointerEvents="auto",this._fCt.appendChild(n)}}else Y(this._fCt,null)}_getMarqueeRect(e){let t=this.getMergedRange(this.cells,e.topRow,e.leftCol)||new Dr(e.topRow,e.leftCol),n=this.getMergedRange(this.cells,e.bottomRow,e.rightCol)||new Dr(e.bottomRow,e.rightCol),i=this.cells.getCellBoundingRect(t.topRow,t.leftCol,!0),r=this.cells.getCellBoundingRect(n.bottomRow,n.rightCol,!0);if(this.rows.frozen){let t=Math.min(this.rows.length,this.rows.frozen),n=this.cells.getCellBoundingRect(t-1,0,!0);e.topRow>=t&&i.top<n.bottom&&(i.top=n.bottom),e.bottomRow>=t&&r.bottom<n.bottom&&(r.height=n.bottom-r.top)}if(this.columns.frozen){let t=Math.min(this.columns.length,this.columns.frozen),n=this.cells.getCellBoundingRect(0,t-1,!0);this.rightToLeft?(e.leftCol>=t&&i.right>n.left&&(i.left=n.left-i.width),e.rightCol>=t&&r.left>n.left&&(r.left=n.left)):(e.leftCol>=t&&i.left<n.right&&(i.left=n.right),e.rightCol>=t&&r.right<n.right&&(r.width=n.right-r.left))}return this.rightToLeft?new pi(r.left,i.top,i.right-r.left,r.bottom-i.top):new pi(i.left,i.top,r.right-i.left,r.bottom-i.top)}_bindColumns(){for(let i=0;i<this.columns.length;i++)this.columns[i]._getFlag(Or.AutoGenerated)&&(this.columns.removeAt(i),i--);let e=this.collectionView,t=e?e.sourceCollection:null,n=t&&t.length?t[0]:null;if(n&&this.autoGenerateColumns)for(let i in n){let e=null;for(let r=0;r<t.length&&r<1e3&&null==e;r++)if(e=t[r][i],s(e)){let t=new Hr;t._setFlag(Or.AutoGenerated,!0),t.binding=t.name=i,t.header=H(i),t.dataType=w(e),t.dataType==ui.Number&&(t.width=80);let r=Object.getOwnPropertyDescriptor(n,i);!r||r.writable||c(r.set)||t._setFlag(Or.ReadOnly,!0),this.columns.push(t)}}this._updateColumnTypes()}_updateColumnTypes(){let e=this.collectionView;if(V(e)){let t=e.items[0],n=this.columns;for(let e=0;e<n.length;e++){let i=n[e];null==i.dataType&&i._binding&&(i.dataType=w(i._binding.getValue(t)))}}}_getBindingColumn(e,t,n){return n}_getRowHeaderPath(){return this._rowHdrPath}_bindRows(){this.rows.clear();let e=this.collectionView;if(e&&e.items){let t=e.items,n=e.groups;if(this.childItemsPath)for(let e=0;e<t.length;e++)this._addNode(t,e,0);else if(null!=n&&n.length>0&&this.showGroups)for(let e=0;e<n.length;e++)this._addGroup(n[e]);else for(let e=0;e<t.length;e++)this._addBoundRow(t,e)}}_addBoundRow(e,t){this.rows.push(new zr(e[t]))}_addNode(e,t,n){let i=new Lr,r=this.childItemsPath,s=p(r)?r[n]:r,o=e[t],l=o[s];if(i.dataItem=o,i.level=n,this.rows.push(i),p(l))for(let a=0;a<l.length;a++)this._addNode(l,a,n+1)}_addGroup(e){let t=new Lr;if(t.level=e.level,t.dataItem=e,this.rows.push(t),e.isBottomLevel){let t=e.items;for(let e=0;e<t.length;e++)this._addBoundRow(t,e)}else for(let n=0;n<e.groups.length;n++)this._addGroup(e.groups[n])}static _getSerializableProperties(e){let t=[];for(e=e.prototype;e!=Object.prototype;e=Object.getPrototypeOf(e)){let n=Object.getOwnPropertyNames(e);for(let i=0;i<n.length;i++){let r=n[i],s=Object.getOwnPropertyDescriptor(e,r);s&&s.set&&s.get&&"_"!=r[0]&&!r.match(/disabled|required/)&&t.push(r)}}return t}_copy(e,t){if("columns"==e){this.columns.clear();let e=P(t);for(let t=0;t<e.length;t++){let n=new Hr;E(n,e[t]),this.columns.push(n)}return!0}return!1}_isInputElement(e){if(e instanceof HTMLElement){if("true"==e.contentEditable)return!0;let t=e.tagName.match(/^(BUTTON|A|INPUT|TEXTAREA|SELECT|OPTION)$/i);return t&&t.length>0}return!1}_wantsInput(e){return this._isInputElement(e)&&!this.activeEditor&&!this._edtHdl._isNativeCheckbox(e)&&!L(e,"wj-grid-ime")&&Z(document.body,e)}static _getMaxSupportedCssHeight(){if(!Tr._maxCssHeight){let e=1e6,t=document.createElement("div");t.style.visibility="hidden",document.body.appendChild(t);for(let n=e;n<=6e7&&(t.style.height=n+"px",t.offsetHeight==n);n+=5e5)e=n;document.body.removeChild(t),Tr._maxCssHeight=e}return Tr._maxCssHeight}static _getRtlMode(){if(!Tr._rtlMode){let e=K('<div dir="rtl" style="visibility:hidden;width:100px;height:100px;overflow:auto"><div style="width:2000px;height:2000px"></div></div>');document.body.appendChild(e);let t=e.scrollLeft;e.scrollLeft=-1e3;let n=e.scrollLeft;document.body.removeChild(e),Tr._rtlMode=n<0?"neg":t>0?"rev":"std"}return Tr._rtlMode}}Tr._WJS_STICKY="wj-state-sticky",Tr._WJS_MEASURE="wj-state-measuring",Tr._WJS_UPDATING="wj-state-updating",Tr._MIN_VIRT_ROWS=200,Tr.controlTemplate='<div style="position:relative;width:100%;height:100%;overflow:hidden;max-width:inherit;max-height:inherit"><div wj-part="focus" aria-hidden="true" style="position:fixed;opacity:0;pointer-events:none;left:-10px;top:-10px"></div><div wj-part="root" style="position:absolute;width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch;max-width:inherit;max-height:inherit"><div wj-part="cells" class="wj-cells" style="position:absolute"></div><div wj-part="marquee" aria-hidden="true" class="wj-marquee" style="display:none;pointer-events:none;"><div style="width:100%;height:100%"></div></div></div><div wj-part="fcells" aria-hidden="true" class="wj-cells" style="position:absolute;pointer-events:none;overflow:hidden"></div><div wj-part="rh" aria-hidden="true" style="position:absolute;overflow:hidden;outline:none"><div wj-part="rhcells" class="wj-rowheaders" style="position:relative"></div></div><div wj-part="cf" aria-hidden="true" style="position:absolute;overflow:hidden;outline:none"><div wj-part="cfcells" class="wj-colfooters" style="position:relative"></div></div><div wj-part="ch" aria-hidden="true" style="position:absolute;overflow:hidden;outline:none"><div wj-part="chcells" class="wj-colheaders" style="position:relative"></div></div><div wj-part="bl" aria-hidden="true" style="position:absolute;overflow:hidden;outline:none"><div wj-part="blcells" class="wj-bottomleft" style="position:relative"></div></div><div wj-part="tl" aria-hidden="true" style="position:absolute;overflow:hidden;outline:none"><div wj-part="tlcells" class="wj-topleft" style="position:relative"></div></div><div wj-part="sz" aria-hidden="true" style="position:relative;visibility:hidden"></div></div>';class Ar extends bi{constructor(e,t,n){super(),this._p=N(e,Pr),this._rng=N(t,Dr),this._data=n}get panel(){return this._p}get range(){return this._rng.clone()}get row(){return this._rng.row}get col(){return this._rng.col}get data(){return this._data}set data(e){this._data=e}}class Mr extends Ar{constructor(e,t,n){super(e,t),this._cell=N(n,HTMLElement)}get cell(){return this._cell}}class Ir extends Ar{get stayInEditMode(){return this._stayInEditMode}set stayInEditMode(e){this._stayInEditMode=M(e)}}var kr;!function(e){e[e.None=0]="None",e[e.Cell=1]="Cell",e[e.ColumnHeader=2]="ColumnHeader",e[e.RowHeader=3]="RowHeader",e[e.TopLeft=4]="TopLeft",e[e.ColumnFooter=5]="ColumnFooter",e[e.BottomLeft=6]="BottomLeft"}(kr||(kr={}));class Pr{constructor(e,t,n,i,r){this._offsetY=0,this._g=N(e,Tr),this._ct=A(t),this._rows=N(n,Br),this._cols=N(i,jr),this._e=N(r,HTMLElement),this._vrb=new Dr}get grid(){return this._g}get cellType(){return this._ct}get viewRange(){return this._getViewRange()}get width(){return this._cols.getTotalSize()}get height(){return this._rows.getTotalSize()}get rows(){return this._rows}get columns(){return this._cols}getCellData(e,t,n){let i,s=this._rows[T(e,!1,!0)],l=null;if(o(t)&&(t=this._cols.indexOf(t))<0)throw"Invalid column name or binding.";i=this._cols[T(t,!1,!0)];let a=this._g?this._g._getBindingColumn(this,e,i):i;if(!a.binding||!s.dataItem||s.dataItem instanceof zi?s._ubv&&(l=s._ubv[i._hash]):l=a._binding.getValue(s.dataItem),null==l)switch(this._ct){case kr.ColumnHeader:e!=this._rows.length-1&&a==i||(l=a.header);break;case kr.ColumnFooter:if(a.aggregate!=Ri.None&&s instanceof Lr){let e=this._g.collectionView;if(e){let t=r(e,Hi);l=t?t.getAggregate(a.aggregate,a.binding):se(a.aggregate,e.items,a.binding)}}break;case kr.Cell:if(a.aggregate!=Ri.None&&s instanceof Lr){let e=r(s.dataItem,zi);e&&(l=e.getAggregate(a.aggregate,a.binding,this._g.collectionView))}}return n&&(this.cellType==kr.Cell&&a.dataMap&&(l=a.dataMap.getDisplayValue(l)),l=null!=l?mi.format(l,a.format):""),l}setCellData(e,t,n,i=!0,r=!0){let s,l=this._rows[T(e,!1,!0)];if(o(t)&&(t=this._cols.indexOf(t))<0)throw"Invalid column name or binding.";s=this._cols[T(t,!1,!0)];let a=this._g?this._g._getBindingColumn(this,e,s):s;if(this._ct==kr.Cell){if(a.dataMap&&null!=n&&(a.isRequired||""!=n)){let e=a.dataMap,t=e.getKeyValue(n);if(null==t&&null==e.getDisplayValue(null)){if(!e.isEditable||e.displayMemberPath!=e.selectedValuePath)return!1}else n=t}let r=ui.Object;if(r=a.dataType?a.dataType:w(this.getCellData(e,t,!1)),u(a.isRequired))if(a.isRequired||""!==n&&null!==n){if(a.isRequired&&(""===n||null===n))return!1}else n=null,i=!1;if(i&&(n=v(n,r,a.format),r!=ui.Object&&w(n)!=r))return!1}if(l.dataItem&&a.binding){let e=a._binding,t=l.dataItem,i=e.getValue(t);if(n!==i&&!fi.equals(n,i)){e.setValue(t,n);let i=this._g.collectionView;if(i instanceof Hi&&t!=i.currentEditItem){let e=new Ai(Ti.Change,t,i.items.indexOf(t));i.onCollectionChanged(e)}}}else l._ubv||(l._ubv={}),l._ubv[s._hash]=n;return r&&this._g&&this._g.invalidate(),!0}getCellBoundingRect(e,t,n){let i=this.rows[e],r=this.columns[t],s=new pi(r.pos,i.pos,r.renderSize,i.renderSize);if(this._g.rightToLeft&&(s.left=this.hostElement.clientWidth-s.right,!de()&&!ue())){let e=this.hostElement.parentElement;s.left-=e.offsetWidth-e.clientWidth}if(!n){let e=this.hostElement.getBoundingClientRect();s.left+=e.left,s.top+=e.top-this._offsetY}return e<this.rows.frozen&&(s.top-=this._g.scrollPosition.y),t<this.columns.frozen&&(s.left-=this._g.scrollPosition.x*(this._g.rightToLeft?-1:1)),s}getCellElement(e,t){let n=this.hostElement.children,i=Math.min(e+2,n.length);for(let r=0;r<i;r++){let i=n[r].children,s=Math.min(t+2,i.length);for(let n=0;n<s;n++){let r=i[n],s=r[Pr._INDEX_KEY];if(s&&(s.row==e&&s.col==t||s.rng&&s.rng.contains(e,t)))return r}}return null}getSelectedState(e,t,n){let i=this._g,r=i.selectionMode,s=i._selHdl.selection,o=qr,l=Kr;if(r!=o.None)switch(this._ct){case kr.Cell:if(n||(n=i.getMergedRange(this,e,t)),n){if(n.contains(s.row,s.col))return i.showMarquee?l.None:l.Cursor;if(n.intersects(s))return l.Selected}if(s.row==e&&s.col==t)return i.showMarquee?l.None:l.Cursor;if(i.rows[e].isSelected||i.columns[t].isSelected)return l.Selected;if(n)switch(r){case o.Row:case o.RowRange:case o.ListBox:if(n.containsRow(s.row))return l.Selected}return s=i._selHdl._adjustSelection(s),r==qr.ListBox?l.None:s.containsRow(e)&&s.containsColumn(t)?l.Selected:l.None;case kr.ColumnHeader:if(i.showSelectedHeaders&Rr.Column&&(i.columns[t].isSelected||s.containsColumn(t)||s.intersectsColumn(n))&&(n&&(e=n.bottomRow),e==this.rows.length-1))return l.Selected;break;case kr.RowHeader:if(i.showSelectedHeaders&Rr.Row&&(i.rows[e].isSelected||s.containsRow(e)||s.intersectsRow(n))&&(n&&(t=n.rightCol),t==this.columns.length-1))return l.Selected}return l.None}get hostElement(){return this._e}_getOffsetY(){return this._offsetY}_updateContent(e,t,n){let i=this._g,r=this._e,s=this._rows,o=this._cols,l=this._ct;if(l==kr.ColumnHeader||l==kr.ColumnFooter||l==kr.RowHeader){let e=i._ptScrl,t=r.style;l==kr.RowHeader?t.top=e.y+"px":i.rightToLeft?t.right=e.x+"px":t.left=e.x+"px"}this._offsetY!=n&&(e=!1,this._offsetY=n);let a,h=this._getViewRange();if(s.length<=i.virtualizationThreshold?a=new Dr(0,0,s.length-1,o.length-1):(a=h.clone()).isValid&&i.isTouching&&(a.row=Math.max(h.row-6,s.frozen),a.row2=Math.min(h.row2+6,s.length-1),a.col=Math.max(h.col-1,o.frozen),a.col2=Math.min(h.col2+1,o.length-1)),e&&!t&&this._vrb.contains(h)&&!s.frozen&&!o.frozen)return this._activeCell;e&&a.equals(this._vrb)||(t=!1),e&&!t&&this._ct!=kr.TopLeft&&this._reorderCells(a,this._vrb),this._activeCell=null,this._vru=h,this._vrb=a,this._cf=i.cellFactory;let u=0;this._ct==kr.Cell&&(u=this._renderColHdrRow(a,t));for(let c=0;c<s.frozen&&c<s.length;c++)u=this._renderRow(c,a,t,u);for(let c=a.topRow;c<=a.bottomRow&&c>-1;c++)u=this._renderRow(c,a,t,u);for(;r.childElementCount>u;){let e=r.lastElementChild;r.removeChild(e),this._removeExtraCells(e,0)}return this._activeCell}_clearCells(){let e=this.hostElement;for(let t=e.childElementCount-1;t>=0;t--){let n=e.children[t];e.removeChild(n);for(let e=n.childElementCount-1;e>=0;e--)this._cf.disposeCell(n.children[e])}}_reorderCells(e,t){if(!(this._rows.frozen>0||this._cols.frozen>0||e.columnSpan!=t.columnSpan||e.rowSpan!=t.rowSpan)&&t.isValid&&e.isValid&&e.intersects(t)&&e.row!=t.row){let n=e.row-t.row,i=Math.max(1,e.rowSpan-1),r=this._e;if(0!=n&&Math.abs(n)<i){let e=this._ct==kr.Cell?1:0,t=r.childElementCount;if(n>0){let i=e,s=Math.min(e+n,t-1),o=this._createRange(i,s);o&&s<t-1&&r.appendChild(o.extractContents())}if(n<0){let i=t,s=Math.max(e,i+n),o=this._createRange(s,i);if(o&&s>e){let t=r.children[e];r.insertBefore(o.extractContents(),t)}}}}}_createRange(e,t){let n;return t>e&&t<=this._e.childElementCount&&e>-1&&((n=document.createRange()).setStart(this._e,e),n.setEnd(this._e,t)),n}_renderColHdrRow(e,t){let n=this._e.children[0];n||(n=K('<div class="wj-row" tabindex="-1" role="row"></div>',this._e)),U(n,"aria-selected",null);let i=0,r=this._g._getRowHeaderPath();r&&(i=this._renderRowHdrCell(n,-1,r.path));for(let s=0;s<this.columns.frozen&&s<this.columns.length;s++)i=this._renderColHdrCell(n,s,e,t,i);for(let s=e.leftCol;s<=e.rightCol&&s>-1;s++)i=this._renderColHdrCell(n,s,e,t,i);return this._removeExtraCells(n,i),1}_renderColHdrCell(e,t,n,i,r){let s=this.columns[t];if(s.renderSize<=0)return r;let o=e.children[r];o||(o=K('<div class="wj-cell" tabindex="-1" role="columnheader"></div>',e)),i||(o.textContent=this.columns[t].header,te(o,{position:"fixed",left:s.pos,top:-32e3,width:.1,height:.1,overflow:"hidden",opacity:"0"}));let l=this.grid;if(l.allowSorting){let e="none";switch(l._getBindingColumn(this,0,s).currentSort){case"+":e="ascending";break;case"-":e="descending"}U(o,"aria-sort",e)}return o[Pr._INDEX_KEY]={row:-1,col:t,panel:this},r+1}_renderRowHdrCell(e,t,n){let i=e.children[0];return i||(i=K('<div class="wj-cell" tabindex="-1"></div>',e)),i.setAttribute("role",t<0?"columnheader":"rowheader"),i.textContent=n?n.toString():"",te(i,{position:"fixed",left:-32e3,top:-32e3,width:.1,height:.1,overflow:"hidden",opacity:"0"}),i[Pr._INDEX_KEY]={row:t,col:-1,panel:this},1}_renderRow(e,t,n,i){let r=this._g,s=this.rows[e];if(s.renderSize<=0)return i;let o=this._e.children[i];if(o||(o=K('<div class="wj-row" tabindex="-1"></div>',this._e),this._ct==kr.Cell&&o.setAttribute("role","row")),this._ct==kr.Cell)switch(r.selectionMode){case qr.Row:case qr.RowRange:case qr.ListBox:U(o,"aria-selected",!(!s.isSelected&&!this._g._selHdl.selection.containsRow(e)))}let l=0;if(this._ct==kr.Cell){let t=this._g._getRowHeaderPath();t&&(l=this._renderRowHdrCell(o,e,t.getValue(s.dataItem)))}for(let a=0;a<this.columns.frozen&&a<this.columns.length;a++)l=this._renderCell(o,e,a,t,n,l);for(let a=t.leftCol;a<=t.rightCol&&a>-1;a++)l=this._renderCell(o,e,a,t,n,l);return this._removeExtraCells(o,l),i+1}_renderCell(e,t,n,i,r,s){let o=this._g,l=o.getMergedRange(this,t,n);if(l){for(let e=Math.max(i.row,l.row);e<t;e++)if(this.rows[e].isVisible)return s;for(let e=Math.max(i.col,l.col);e<n;e++)if(this.columns[e].isVisible)return s}if(this.columns[n].renderSize<=0&&(!l||l.getRenderSize(this).width<=0))return s;let a=!1;if(this.cellType==kr.Cell){let e=o._selHdl.selection;a=e.row==t&&e.col==n||l&&l.contains(e.row,e.col)}let h=e.children[s],u=this.getSelectedState(t,n,l),c=Kr;return h&&r?(B(h,"wj-state-selected",u==c.Cursor),B(h,"wj-state-multi-selected",u==c.Selected),a&&(this._activeCell=h),s+1):(h||((h=document.createElement("div")).tabIndex=-1,this._ct==kr.Cell&&h.setAttribute("role","gridcell"),e.appendChild(h)),a&&(this._activeCell=h),o.cellFactory.updateCell(this,t,n,h,l),h[Pr._INDEX_KEY]={row:t,col:n,rng:l,panel:this},s+1)}_removeExtraCells(e,t){for(;e.childElementCount>t;){let t=e.lastElementChild;e.removeChild(t),this._cf.disposeCell(t)}}_getViewRange(){let e=this._g,t=e._ptScrl,n=this._rows,i=this._cols,r=new Dr(0,0,n.length-1,i.length-1);if(this._ct==kr.Cell||this._ct==kr.RowHeader){let i=-t.y+this._offsetY,s=e._szClient.height,o=Math.min(n.frozen,n.length-1);if(o>0){let e=n[o-1].pos;i+=e,s-=e}if(r.row=Math.min(n.length-1,Math.max(n.frozen,n.getItemAt(i+1))),r.row2=n.getItemAt(i+s+1),e._clipToScreen()){let t=e.hostElement.getBoundingClientRect();t.top<0&&(r.row=Math.max(r.row,n.getItemAt(-t.top-e._ptScrl.y)-1)),t.bottom>innerHeight&&(r.row2=Math.min(r.row2,n.getItemAt(-t.top-e._ptScrl.y+innerHeight)+1))}}if(this._ct==kr.Cell||this._ct==kr.ColumnHeader){let n=-t.x,s=e._szClient.width,o=Math.min(i.frozen,i.length-1);if(o>0){let e=i[o-1].pos;n+=e,s-=e}r.col=Math.min(i.length-1,Math.max(i.frozen,i.getItemAt(n+1))),r.col2=i.getItemAt(n+s+1)}return n.length<=n.frozen&&(r.row=r.row2=-1),i.length<=i.frozen&&(r.col=r.col2=-1),r}_getFrozenPos(){let e=this._rows.frozen,t=this._cols.frozen,n=e>0?this._rows[e-1]:null,i=t>0?this._cols[t-1]:null;return new di(i?i.pos+i.renderSize:0,n?n.pos+n.renderSize:0)}}Pr._INDEX_KEY="wj-cell-index";class Nr{updateCell(e,t,n,i,r,s){let o=e.grid,l=o.rightToLeft,h=e.cellType,c=e.rows,d=e.columns,g=c[t],p=d[n],f=t,_=n,m=g instanceof Lr?g:null,w=g instanceof as?g:null,v=p.renderWidth,C=g.renderHeight,y="wj-cell",b={display:""};if(0!=s&&i.firstElementChild&&(1==i.childNodes.length&&"checkbox"==i.firstElementChild.type||(i.textContent="")),r&&!r.isSingleCell){f=r.row2,_=r.col2,p=d[n=r.col],m=(g=c[t=r.row])instanceof Lr?g:null;let i=r.getRenderSize(e);C=i.height,v=i.width}let E=o._getBindingColumn(e,t,p),x=E.dataType==ui.Boolean&&!E.dataMap,S=p.pos,R=g.pos;if(o._useFrozenDiv()&&h==kr.Cell&&!o.editRange?(t<c.frozen&&n>=d.frozen&&(S+=o._ptScrl.x),n<d.frozen&&t>=c.frozen&&(R+=o._ptScrl.y)):(t<c.frozen&&(R-=o._ptScrl.y),n<d.frozen&&(S-=o._ptScrl.x)),l?b.right=S+"px":b.left=S+"px",b.top=R-e._getOffsetY()+"px",b.width=v+"px",b.height=C+"px",b.zIndex="",(t<c.frozen||n<d.frozen)&&(b.zIndex=t<c.frozen&&n<d.frozen?2:1),h==kr.Cell?(m&&(y+=" wj-group"),o.showAlternatingRows&&g.visibleIndex%2!=0&&(r&&r.row!=r.row2||(y+=" wj-alt")),(t<c.frozen||n<d.frozen)&&(y+=" wj-frozen"),w&&(y+=" wj-new"),g.cssClass&&(y+=" "+g.cssClass),E.cssClass&&(y+=" "+E.cssClass)):(y+=" wj-header",o.showAlternatingRows&&t%2!=0&&(y+=" wj-header-alt")),(h==kr.Cell||h==kr.RowHeader)&&o._getShowErrors()){let r=o._getError(e,t,n);U(i,"title",r),r&&(y+=" wj-state-invalid")}let T=e.getSelectedState(t,n,r);switch(T!=Kr.None&&h==kr.Cell&&!x&&o.editRange&&o.editRange.contains(t,n)&&(T=Kr.None),T){case Kr.Cursor:y+=" wj-state-selected";break;case Kr.Selected:y+=" wj-state-multi-selected"}if(f==c.frozen-1&&(y+=" wj-frozen-row"),_==d.frozen-1&&(y+=" wj-frozen-col"),(E.wordWrap||g.wordWrap)&&(y+=" wj-wrap"),b.textAlign=E.getAlignment(),b.paddingLeft=b.paddingRight=b.paddingTop=b.paddingBottom="",h==kr.Cell&&o.rows.maxGroupLevel>-1&&n==o.columns.firstVisibleIndex&&o.treeIndent){let e=m?Math.max(0,m.level):o.rows.maxGroupLevel+1,t=o.treeIndent*e+o._cellPadding;l?b.paddingRight=t+"px":b.paddingLeft=t+"px"}if(0!=s){let r=e.getCellData(t,n,!1),s=e.getCellData(t,n,!0);if(h==kr.Cell&&n==o.columns.firstVisibleIndex&&m&&m.hasChildren&&!this._isEditingCell(o,t,n))s||(s=m.getGroupHeader()),i.innerHTML=this._getTreeIcon(m)+" "+s,b.textAlign="";else if(h==kr.ColumnHeader&&E.currentSort&&o.showSort&&(f==o._getSortRowIndex()||E!=p))y+=" wj-sort-"+("+"==E.currentSort?"asc":"desc"),i.innerHTML=z(s)+"&nbsp;"+this._getSortIcon(E);else if(h!=kr.RowHeader||n!=o.rowHeaders.columns.length-1||s)if(h!=kr.Cell||E.dataType!=ui.Boolean||E.dataMap||m&&!u(r))if(h==kr.Cell&&this._isEditingCell(o,t,n)){let r=E.inputType;if(E.inputType||(r=E.dataType!=ui.Number||E.dataMap?"text":"tel"),!E.dataMap&&!E.mask){let i=e.getCellData(t,n,!1);if(a(i)){let e=i.toString(),t=E.format;if(t&&i!=Math.round(i)){let n=e.match(/\.(\d+)/)[1].length;t=t.replace(/([a-z])(\d*)(.*)/gi,"$01"+n+"$3")}s=mi.formatNumber(i,t,!0)}}i.innerHTML='<input type="'+r+'" class="wj-grid-editor wj-form-control">';let l=i.children[0];l.value=s,l.required=E.getIsRequired(),E.maxLength&&(l.maxLength=E.maxLength),l.style.textAlign=E.getAlignment(),b.paddingTop=b.paddingBottom="0px",E.mask&&new Gi(l,E.mask),o._edtHdl._edt=l}else h==kr.Cell&&(g.isContentHtml||E.isContentHtml)?i.innerHTML=s:i.textContent=s||"";else{let e=i.firstChild;e instanceof HTMLInputElement&&"checkbox"==e.type||(i.innerHTML='<input type="checkbox" class="wj-cell-check" tabindex="-1"/>',e=i.firstChild),e.checked=1==r,e.indeterminate=null==r,e.disabled=!o.canEditCell(t,n),e.disabled&&(e.style.cursor="default"),o.editRange&&o.editRange.contains(t,n)&&(o._edtHdl._edt=e)}else{let e=o.editableCollectionView,t=e?e.currentEditItem:null;t&&g.dataItem==t?i.innerHTML='<span class="wj-glyph-pencil"></span>':g instanceof as&&(i.innerHTML='<span class="wj-glyph-asterisk"></span>')}if(h==kr.Cell&&Ce()&&E.dataMap&&o.showDropDown&&0!=E.showDropDown&&o.canEditCell(t,n)){Nr._ddIcon||(Nr._ddIcon=K('<div role="button" class="'+Nr._WJC_DROPDOWN+'"><span class="wj-glyph-down"></span></div>'));let e=Nr._ddIcon.cloneNode(!0);i.appendChild(e)}}let A=!1;switch(h){case kr.RowHeader:U(i,"draggable",(A=!m&&!w&&g.allowDragging&&0!=(o.allowDragging&is.Rows))?"true":null);break;case kr.ColumnHeader:U(i,"draggable",(A=p.allowDragging&&0!=(o.allowDragging&is.Columns))?"true":null)}i.className!=y&&(i.className=y);let M=i.style;for(var I in b)M[I]=b[I];if(o._edtHdl._edt&&o._edtHdl._edt.parentElement==i){let e=o._root,t=e.getBoundingClientRect(),n=i.getBoundingClientRect(),r=t.top+e.clientHeight-n.top,s=t.left+e.clientWidth-n.left;n.height>r&&(i.style.height=r+"px"),n.width>s&&(i.style.width=s+"px")}if(o.itemFormatter&&o.itemFormatter(e,t,n,i),o.formatItem.hasHandlers){let r=Nr._fmtRng;r?r.setRange(t,n,f,_):r=Nr._fmtRng=new Dr(t,n,f,_);let s=new Mr(e,r,i);o.onFormatItem(s)}}disposeCell(e){}getEditorValue(e){let t=e._edtHdl._edt;if(t instanceof HTMLInputElement){if("checkbox"==t.type)return t.checked;let e=t.maxLength;return a(e)&&e>-1&&t.value.length>e?t.value.substr(0,e):t.value}return null}_isEditingCell(e,t,n){return e.editRange&&e.editRange.contains(t,n)}_getTreeIcon(e){return'<span role="button" class="'+Nr._WJC_COLLAPSE+" wj-glyph-"+(e.isCollapsed?"":"down-")+(e.grid.rightToLeft?"left":"right")+'"></span>'}_getSortIcon(e){return'<span class="wj-glyph-'+("+"==e.currentSort?"up":"down")+'"></span>'}}Nr._WJC_COLLAPSE="wj-elem-collapse",Nr._WJC_DROPDOWN="wj-elem-dropdown";class Dr{constructor(e=-1,t=-1,n=e,i=t){this.setRange(e,t,n,i)}setRange(e=-1,t=-1,n=e,i=t){this._row=A(e),this._col=A(t),this._row2=A(n),this._col2=A(i)}get row(){return this._row}set row(e){this._row=A(e)}get col(){return this._col}set col(e){this._col=A(e)}get row2(){return this._row2}set row2(e){this._row2=A(e)}get col2(){return this._col2}set col2(e){this._col2=A(e)}clone(){return new Dr(this._row,this._col,this._row2,this._col2)}get rowSpan(){return Math.abs(this._row2-this._row)+1}get columnSpan(){return Math.abs(this._col2-this._col)+1}get topRow(){return Math.min(this._row,this._row2)}get bottomRow(){return Math.max(this._row,this._row2)}get leftCol(){return Math.min(this._col,this._col2)}get rightCol(){return Math.max(this._col,this._col2)}get isValid(){return this._row>-1&&this._col>-1&&this._row2>-1&&this._col2>-1}get isSingleCell(){return this._row==this._row2&&this._col==this._col2}contains(e,t){let n=r(e,Dr);if(n)return n.topRow>=this.topRow&&n.bottomRow<=this.bottomRow&&n.leftCol>=this.leftCol&&n.rightCol<=this.rightCol;if(h(e)&&h(t))return e>=this.topRow&&e<=this.bottomRow&&t>=this.leftCol&&t<=this.rightCol;throw"contains expects a CellRange or row/column indices."}containsRow(e){return A(e)>=this.topRow&&e<=this.bottomRow}containsColumn(e){return A(e)>=this.leftCol&&e<=this.rightCol}intersects(e){return this.intersectsRow(e)&&this.intersectsColumn(e)}intersectsRow(e){return e&&!(this.bottomRow<e.topRow||this.topRow>e.bottomRow)}intersectsColumn(e){return e&&!(this.rightCol<e.leftCol||this.leftCol>e.rightCol)}getRenderSize(e){let t=new gi(0,0);if(this.isValid){for(let n=this.topRow;n<=this.bottomRow;n++)t.height+=e.rows[n].renderSize;for(let n=this.leftCol;n<=this.rightCol;n++)t.width+=e.columns[n].renderSize}return t}equals(e){return e instanceof Dr&&this._row==e._row&&this._col==e._col&&this._row2==e._row2&&this._col2==e._col2}}var Or;!function(e){e[e.Visible=1]="Visible",e[e.AllowResizing=2]="AllowResizing",e[e.AllowDragging=4]="AllowDragging",e[e.AllowMerging=8]="AllowMerging",e[e.AllowSorting=16]="AllowSorting",e[e.AutoGenerated=32]="AutoGenerated",e[e.Collapsed=64]="Collapsed",e[e.ParentCollapsed=128]="ParentCollapsed",e[e.Selected=256]="Selected",e[e.ReadOnly=512]="ReadOnly",e[e.HtmlContent=1024]="HtmlContent",e[e.WordWrap=2048]="WordWrap",e[e.HasTemplate=4096]="HasTemplate",e[e.RowDefault=3]="RowDefault",e[e.ColumnDefault=23]="ColumnDefault"}(Or||(Or={}));class Vr{constructor(){this._list=null,this._pos=0,this._idx=-1,this._vidx=-1}get visible(){return this._getFlag(Or.Visible)}set visible(e){this._setFlag(Or.Visible,e)}get isVisible(){return!!this._getFlag(Or.Visible)&&(!this._getFlag(Or.ParentCollapsed)||this instanceof as)}get pos(){return this._list&&this._list._dirty&&this._list._update(),this._pos}get index(){return this._list&&this._list._dirty&&this._list._update(),this._idx}get visibleIndex(){return this._list&&this._list._dirty&&this._list._update(),this.isVisible?this._vidx:-1}get size(){return this._sz}set size(e){e!=this._sz&&(this._sz=T(e,!0),this.onPropertyChanged())}get renderSize(){if(!this.isVisible)return 0;let e=this._sz,t=this._list;return t&&((null==e||e<0)&&(e=Math.round(t.defaultSize)),null!=t.minSize&&e<t.minSize&&(e=t.minSize),null!=t.maxSize&&e>t.maxSize&&(e=t.maxSize)),null!=this._szMin&&e<this._szMin&&(e=this._szMin),null!=this._szMax&&e>this._szMax&&(e=this._szMax),Math.round(e)}get allowResizing(){return this._getFlag(Or.AllowResizing)}set allowResizing(e){this._setFlag(Or.AllowResizing,e)}get allowDragging(){return this._getFlag(Or.AllowDragging)}set allowDragging(e){this._setFlag(Or.AllowDragging,e)}get allowMerging(){return this._getFlag(Or.AllowMerging)}set allowMerging(e){this._setFlag(Or.AllowMerging,e)}get isSelected(){return this._getFlag(Or.Selected)}set isSelected(e){if(this._setFlag(Or.Selected,e,!0)){let e=this.grid;e&&e.refreshCells(!1,!0,!0)}}get isReadOnly(){return this._getFlag(Or.ReadOnly)}set isReadOnly(e){this._setFlag(Or.ReadOnly,e)}get isContentHtml(){return this._getFlag(Or.HtmlContent)}set isContentHtml(e){this.isContentHtml!=e&&(this._setFlag(Or.HtmlContent,e),this.grid&&this.grid.invalidate())}get wordWrap(){return this._getFlag(Or.WordWrap)}set wordWrap(e){this._setFlag(Or.WordWrap,e)}get cssClass(){return this._cssClass}set cssClass(e){e!=this._cssClass&&(this._cssClass=R(e),this.grid&&this.grid.invalidate())}get grid(){return this._list?this._list._g:null}get collectionView(){return this.grid?this.grid.collectionView:null}onPropertyChanged(){this._list&&(this._list._dirty=!0,this.grid.invalidate())}_getFlag(e){return 0!=(this._f&e)}_setFlag(e,t,n){return t!=this._getFlag(e)&&(this._f=t?this._f|e:this._f&~e,n||this.onPropertyChanged(),!0)}}class Hr extends Vr{constructor(e){super(),this._f=Or.ColumnDefault,this._hash=Hr._ctr.toString(36),Hr._ctr++,e&&E(this,e)}get name(){return this._name}set name(e){this._name=e}get dataType(){return this._type}set dataType(e){this._type!=e&&(this._type=D(e,ui),this.grid&&this.grid.invalidate())}get isRequired(){return this._required}set isRequired(e){this._required=M(e,!0)}get showDropDown(){return this._showDropDown}set showDropDown(e){e!=this._showDropDown&&(this._showDropDown=M(e,!0),this.grid&&this.grid.invalidate())}get dropDownCssClass(){return this._ddCssClass}set dropDownCssClass(e){this._ddCssClass=R(e)}get inputType(){return this._inpType}set inputType(e){this._inpType=R(e,!0)}get mask(){return this._mask}set mask(e){this._mask=R(e,!0)}get maxLength(){return this._maxLen}set maxLength(e){this._maxLen=T(e,!0,!0)}get binding(){return this._binding?this._binding.path:null}set binding(e){if(e!=this.binding){let t=R(e);if(this._binding=t?new wi(t):null,!this._type&&this.grid&&this._binding){let e=this.grid.collectionView;e&&e.sourceCollection&&e.sourceCollection.length&&(this._type=w(this._binding.getValue(e.sourceCollection[0])))}this.onPropertyChanged()}}get sortMemberPath(){return this._bindingSort?this._bindingSort.path:null}set sortMemberPath(e){if(e!=this.sortMemberPath){let t=R(e);this._bindingSort=t?new wi(t):null,this.onPropertyChanged()}}get width(){return null!=this._szStar?this._szStar:this.size}set width(e){null!=Hr._parseStarSize(e)?(this._szStar=e,this.onPropertyChanged()):(this._szStar=null,this.size=T(e,!0))}get minWidth(){return this._szMin}set minWidth(e){e!=this._szMin&&(this._szMin=T(e,!0,!0),this.onPropertyChanged())}get maxWidth(){return this._szMax}set maxWidth(e){e!=this._szMax&&(this._szMax=T(e,!0,!0),this.onPropertyChanged())}get quickAutoSize(){return this._quickSize}set quickAutoSize(e){this._quickSize=M(e,!0)}_getQuickAutoSize(){return!!this.grid._getQuickAutoSize()&&(u(this._quickSize)?this._quickSize:!this.isContentHtml&&!this._getFlag(Or.HasTemplate))}get renderWidth(){return this.renderSize}get align(){return this._align}set align(e){this._align!=e&&(this._align=e,this.onPropertyChanged())}getAlignment(){let e=this._align;if(null==e&&(e="",!this._map))switch(this._type){case ui.Boolean:e="center";break;case ui.Number:e="right"}return e}getIsRequired(){return null!=this._required?this._required:this.dataType!=ui.String||null!=this.dataMap||this._mask&&this._mask.length>0}get header(){return this._hdr?this._hdr:this.binding}set header(e){this._hdr!=e&&(this._hdr=e,this.onPropertyChanged())}get dataMap(){return this._map}set dataMap(e){this._map!=e&&(this._map&&this._map.mapChanged.removeHandler(this.onPropertyChanged,this),p(e)&&(e=new Wr(e,null,null)),this._map=N(e,Wr,!0),this._map&&this._map.mapChanged.addHandler(this.onPropertyChanged,this),this.onPropertyChanged())}get format(){return this._fmt}set format(e){this._fmt!=e&&(this._fmt=e,this.onPropertyChanged())}get allowSorting(){return this._getFlag(Or.AllowSorting)}set allowSorting(e){this._setFlag(Or.AllowSorting,e)}get currentSort(){if(this.grid&&this.grid.collectionView&&this.grid.collectionView.canSort){let e=this.grid.collectionView.sortDescriptions;for(let t=0;t<e.length;t++)if(e[t].property==this._getBindingSort())return e[t].ascending?"+":"-"}return null}get aggregate(){return null!=this._agg?this._agg:Ri.None}set aggregate(e){e!=this._agg&&(this._agg=D(e,Ri),this.onPropertyChanged())}_getBindingSort(){return this.sortMemberPath?this.sortMemberPath:this.binding?this.binding:null}static _parseStarSize(e){if(o(e)&&e.length>0&&"*"==e[e.length-1]){let t=1==e.length?1:1*e.substr(0,e.length-1);if(t>0&&!isNaN(t))return t}return null}}Hr._ctr=0;class zr extends Vr{constructor(e){super(),this._f=Or.ColumnDefault,this._data=e}get dataItem(){return this._data}set dataItem(e){this._data=e}get height(){return this.size}set height(e){this.size=e}get renderHeight(){return this.renderSize}}class Lr extends zr{constructor(){super(),this._level=-1,this.isReadOnly=!0}get level(){return this._level}set level(e){A(e),e!=this._level&&(this._level=e,this.onPropertyChanged())}get hasChildren(){if(null!=this.grid&&null!=this._list){this._list._update();let e=this.index<this._list.length-1?this._list[this.index+1]:null,t=r(e,Lr),n=r(e,as);return null!=e&&null==n&&(null==t||t.level>this.level)}return!0}get isCollapsed(){return this._getFlag(Or.Collapsed)}set isCollapsed(e){M(e),e!=this.isCollapsed&&null!=this._list&&this._setCollapsed(e)}getGroupHeader(){let e=this.grid,t=e.groupHeaderFormat?e.groupHeaderFormat:_i.FlexGrid.groupHeaderFormat,n=r(this.dataItem,zi);if(n&&t){let i=n.groupDescription.propertyName,r=n.name,s=e.getColumn(i),o=this.isContentHtml;s&&(o=o||s.isContentHtml,s.header&&(i=s.header),s.dataMap?r=s.dataMap.getDisplayValue(r):s.format&&(r=mi.format(r,s.format)));let l=n.getAggregate(Ri.CntAll,null,e.collectionView);return y(t,{name:z(i),value:o?r:z(r),level:n.level,count:l})}return""}_setCollapsed(e){let t,n=this.grid,i=n.rows,s=this.getCellRange(),o=new Ar(n.cells,new Dr(this.index,-1));n.onGroupCollapsedChanging(o),o.cancel||(n.deferUpdate(()=>{this._setFlag(Or.Collapsed,e);for(let n=s.topRow+1;n<=s.bottomRow&&n>-1&&n<i.length;n++)i[n]._setFlag(Or.ParentCollapsed,e),null!=(t=r(i[n],Lr))&&t.isCollapsed&&(n=t.getCellRange().bottomRow)}),n.onGroupCollapsedChanged(o))}getCellRange(){let e=this._list,t=this.index,n=e.length-1;for(let i=t+1;i<=n;i++){let t=r(e[i],Lr);if(null!=t&&t.level<=this.level){n=i-1;break}}return new Dr(t,0,n,this.grid.columns.length-1)}}class Fr extends Vi{constructor(e,t){super(),this._frozen=0,this._vlen=0,this._szDef=28,this._szTot=0,this._dirty=!1,this._g=N(e,Tr),this._szDef=T(t,!1,!0)}get defaultSize(){return this._szDef}set defaultSize(e){this._szDef!=e&&(this._szDef=T(e,!1,!0),this._dirty=!0,this._g.invalidate())}get frozen(){return this._frozen}set frozen(e){e!=this._frozen&&(this._frozen=T(e,!1,!0),this._dirty=!0,this._g.invalidate())}isFrozen(e){return e<this.frozen}get minSize(){return this._szMin}set minSize(e){e!=this._szMin&&(this._szMin=T(e,!0,!0),this._dirty=!0,this._g.invalidate())}get maxSize(){return this._szMax}set maxSize(e){e!=this._szMax&&(this._szMax=T(e,!0,!0),this._dirty=!0,this._g.invalidate())}getTotalSize(){return this._dirty&&this._update(),this._szTot}get visibleLength(){return this._dirty&&this._update(),this._vlen}getItemAt(e){if(this._dirty&&this._update(),e<=0&&this.length>0)return 0;e=Math.round(e);let t,n,i=this.length,r=0,s=i-1;for(;r<=s;)if(t=r+s>>>1,(n=this[t])._pos>e&&t>0)s=t-1;else{if(!(n._pos+n.renderSize<=e&&t<i-1)){for(;t>0&&!this[t].visible;)t--;for(;t<i-1&&!this[t].visible;)t++;return t}r=t+1}return s}getNextCell(e,t,n){let i;switch(t){case Yr.Next:for(i=e+1;i<this.length;i++)if(this[i].renderSize>0)return i;break;case Yr.Prev:for(i=e-1;i>=0;i--)if(this[i].renderSize>0)return i;break;case Yr.End:for(i=this.length-1;i>=0;i--)if(this[i].renderSize>0)return i;break;case Yr.Home:for(i=0;i<this.length;i++)if(this[i].renderSize>0)return i;break;case Yr.NextPage:return(i=this.getItemAt(this[e].pos+n))<0?this.getNextCell(e,Yr.End,n):i==e&&i<this.length-1?i+1:i;case Yr.PrevPage:return(i=this.getItemAt(this[e].pos-n))<0?this.getNextCell(e,Yr.Home,n):i==e&&i>0?i-1:i}return e}canMoveElement(e,t){if(t==e)return!1;if(e<0||e>=this.length||t>=this.length)return!1;t<0&&(t=this.length-1);let n=Math.min(e,t),i=Math.max(e,t);for(let r=n;r<=i;r++)if(!this[r].allowDragging)return!1;return!(this[t]instanceof as)}moveElement(e,t){if(this.canMoveElement(e,t)){let n=this[e];this.removeAt(e),t<0&&(t=this.length),this.insert(t,n)}}onCollectionChanged(e=Ai.reset){this._dirty=!0,this._g.invalidate(),super.onCollectionChanged(e)}push(e){return e._list=this,super.push(e)}splice(e,t,n){return n&&(n._list=this),super.splice(e,t,n)}beginUpdate(){this._update(),super.beginUpdate()}_update(){if(this._dirty&&!this.isUpdating){this._dirty=!1;let e,t,n=0,i=0;for(let r=0;r<this.length;r++)(t=this[r])._idx=r,t._vidx=n,t._list=this,t._pos=i,(e=t.renderSize)>0&&(i+=e,n++);return this._vlen=n,this._szTot=i,!0}return!1}}class jr extends Fr{constructor(){super(...arguments),this._firstVisible=-1}getColumn(e){let t=a(e)?e:this.indexOf(e);return t>-1?this[t]:null}indexOf(e){if(e instanceof Hr)return super.indexOf(e);for(let t=0;t<this.length;t++)if(this[t].name==e)return t;for(let t=0;t<this.length;t++)if(this[t].binding==e)return t;return-1}get firstVisibleIndex(){return this._dirty&&this._update(),this._firstVisible}_update(){if(super._update()){this._firstVisible=-1;for(let e=0;e<this.length;e++)if(this[e].visible){this._firstVisible=e;break}return!0}return!1}_updateStarSizes(e){let t,n=0;for(let i=0;i<this.length;i++){let r=this[i];r.isVisible&&(r._szStar?(n+=Hr._parseStarSize(r._szStar),t=r):e-=r.renderWidth)}if(t){let i=e;for(let r=0;r<this.length;r++){let s=this[r];s.isVisible&&s._szStar&&(s==t&&i>0?s._sz=i:(s._sz=Math.max(0,Math.round(Hr._parseStarSize(s._szStar)/n*e)),i-=s.renderWidth))}return this._dirty=!0,this._update(),!0}return!1}}class Br extends Fr{constructor(){super(...arguments),this._maxLevel=-1}get maxGroupLevel(){return this._dirty&&this._update(),this._maxLevel}_update(){if(super._update()){this._maxLevel=-1;for(let e=0;e<this.length;e++){let t=r(this[e],Lr);t&&t.level>this._maxLevel&&(this._maxLevel=t.level)}return!0}return!1}}class Ur{constructor(e,t){this._row=-1,this._col=-1,this._edge=0;let n;if(e instanceof Element){let t=Q(e,".wj-cell"),n=t?t[Pr._INDEX_KEY]:null;return void(n&&(this._row=n.row,this._col=n.col,this._rng=n.rng,this._p=n.panel,this._g=n.panel.grid))}if(e instanceof Tr)n=this._g=e;else{if(!(e instanceof Pr))throw"First parameter should be a FlexGrid or GridPanel.";this._p=e,n=this._g=this._p.grid}let i;t instanceof MouseEvent&&(i=t,"mousedown"==t.type&&(n._rcBounds=null)),t=m(t),this._pt=t.clone();let r=n.controlRect,s=n._szClient,o=n.topLeftCells,l=n._eTL,a=n.headersVisibility,h=Rr,u=a&h.Row?o.columns.getTotalSize():0,c=a&h.Column?o.rows.getTotalSize():0,d=a&h.Column?c+l.offsetTop:0,g=n._eBL,p=g.offsetHeight;if(t.x-=r.left,t.y-=r.top,this._g.rightToLeft&&(t.x=r.width-t.x),!this._p&&t.x>=0&&t.y>=l.offsetTop&&s&&t.x<=s.width+u&&t.y<=s.height+d&&(this._p=t.y<d?t.x<u?n.topLeftCells:n.columnHeaders:t.y<g.offsetTop?t.x<u?n.rowHeaders:n.cells:t.x<u?n.bottomLeftCells:n.columnFooters),null!=this._p){let e=this._p.rows,i=this._p.columns,r=this._p.cellType,s=kr,o=this._p._getFrozenPos(),l=r==s.TopLeft||r==s.ColumnHeader?c:r==s.BottomLeft||r==s.ColumnFooter?p:e.getTotalSize(),a=r==s.TopLeft||r==s.BottomLeft||r==s.RowHeader?u:i.getTotalSize();r==s.RowHeader||r==s.Cell?(t.y-=c,(t.y>o.y||o.y<=0)&&(t.y-=n._ptScrl.y,t.y+=this._p._getOffsetY())):r!=s.BottomLeft&&r!=s.ColumnFooter||(t.y-=g.offsetTop),r!=s.ColumnHeader&&r!=s.Cell&&r!=s.ColumnFooter||(t.x-=u,(t.x>o.x||o.x<=0)&&(t.x-=n._ptScrl.x)),r!=s.ColumnHeader&&r!=s.TopLeft||(t.y-=d-c),this._edge=0;let h=Ur._SZEDGE[this._g.isTouching?1:0];if(this._g.isTouching&&(t.x-=(h=Ur._SZEDGE[1])/2),this._row=t.y>l?-1:e.getItemAt(t.y),this._col=t.x>a?-1:i.getItemAt(t.x),this._row<0||this._col<0)return void(this._p=null);if(this._col>-1){let e=i[this._col];t.x-e.pos<=h&&(this._edge|=1),e.pos+e.renderSize-t.x<=h&&(this._edge|=4)}if(this._row>-1){let n=e[this._row];t.y-n.pos<=h&&(this._edge|=2),n.pos+n.renderSize-t.y<=h&&(this._edge|=8)}}if(!(8&this._edge)&&i instanceof MouseEvent){let e=Q(i.target,".wj-cell"),t=e?e[Pr._INDEX_KEY]:null;t&&!t.rng&&t.panel==this._p&&this._row!=t.row&&(this._row=t.row)}}get point(){return this._pt}get cellType(){return this._p?this._p.cellType:kr.None}get panel(){return this._p}get grid(){return this._p?this._p.grid:null}get row(){return this._row}get col(){return this._col}get range(){return this._rng||(this._rng=new Dr(this._row,this._col)),this._rng}get edgeLeft(){return 0!=(1&this._edge)}get edgeTop(){return 0!=(2&this._edge)}get edgeRight(){return 0!=(4&this._edge)}get edgeBottom(){return 0!=(8&this._edge)}}Ur._SZEDGE=[5,30];var Gr;!function(e){e[e.None=0]="None",e[e.Cells=1]="Cells",e[e.ColumnHeaders=2]="ColumnHeaders",e[e.RowHeaders=4]="RowHeaders",e[e.AllHeaders=6]="AllHeaders",e[e.All=7]="All"}(Gr||(Gr={}));class $r{constructor(e){this._g=e}getMergedRange(e,t,n,i=!0){let r,s,o=e.cellType,l=e.columns,a=e.rows,h=a[t],u=l[n];if(h instanceof as)return null;if(h instanceof Lr&&h.dataItem instanceof zi){if(r=new Dr(t,n),u.aggregate==Ri.None){for(;r.col>0&&l[r.col-1].aggregate==Ri.None&&r.col!=l.frozen;)r.col--;for(;r.col2<l.length-1&&l[r.col2+1].aggregate==Ri.None&&r.col2+1!=l.frozen;)r.col2++}for(;r.col<n&&!l[r.col].visible;)r.col++;return r.isSingleCell?null:r}let c=!1;switch(this._g.allowMerging){case Gr.None:c=!0;break;case Gr.Cells:c=o!=kr.Cell;break;case Gr.ColumnHeaders:c=o!=kr.ColumnHeader&&o!=kr.TopLeft;break;case Gr.RowHeaders:c=o!=kr.RowHeader&&o!=kr.TopLeft;break;case Gr.AllHeaders:c=o==kr.Cell}if(c)return null;if(l[n].allowMerging){r=new Dr(t,n);let l=0,h=a.length-1;t>=a.frozen?!i||o!=kr.Cell&&o!=kr.RowHeader||(l=(s=e._getViewRange()).topRow,h=s.bottomRow):h=a.frozen-1;for(let i=t-1;i>=l&&this._mergeCell(e,i,n,t,n);i--)r.row=i;for(let i=t+1;i<=h&&this._mergeCell(e,t,n,i,n);i++)r.row2=i;for(;r.row<t&&!a[r.row].visible;)r.row++;if(!r.isSingleCell)return r}if(a[t].allowMerging){r=new Dr(t,n);let a=0,h=l.length-1;n>=l.frozen?!i||o!=kr.Cell&&o!=kr.ColumnHeader||(a=(s=e._getViewRange()).leftCol,h=s.rightCol):h=l.frozen-1;for(let i=n-1;i>=a&&this._mergeCell(e,t,i,t,n);i--)r.col=i;for(let i=n+1;i<=h&&this._mergeCell(e,t,n,t,i);i++)r.col2=i;for(;r.col<n&&!l[r.col].visible;)r.col++;if(!r.isSingleCell)return r}return null}_mergeCell(e,t,n,i,r){let s=e.rows[t],o=e.rows[i];if(s instanceof Lr||s instanceof as||o instanceof Lr||o instanceof as)return!1;if(t!=i&&e.rows.isFrozen(t)!=e.rows.isFrozen(i))return!1;if(n!=r&&e.columns.isFrozen(n)!=e.columns.isFrozen(r))return!1;if(t!=i){if(n>0&&(s.allowMerging&&this._mergeCell(e,t,n-1,t,n)||o.allowMerging&&this._mergeCell(e,i,n-1,i,n)))return!1;if(r<e.columns.length-1&&(s.allowMerging&&this._mergeCell(e,t,r,t,r+1)||o.allowMerging&&this._mergeCell(e,i,r,i,r+1)))return!1}return e.getCellData(t,n,!0)==e.getCellData(i,r,!0)}}class Wr{constructor(e,t,n){if(this.mapChanged=new Ci,p(e)&&!t&&!n){let i=[];for(let t=0;t<e.length;t++)i.push({value:e[t]});e=i,t=n="value"}this._cv=O(e),this._keyPath=R(t,!1),this._displayPath=R(n,!1),this._cv.collectionChanged.addHandler(this.onMapChanged,this)}get sortByDisplayValues(){return 1!=this._sortByKey}set sortByDisplayValues(e){this._sortByKey=!M(e)}get collectionView(){return this._cv}get selectedValuePath(){return this._keyPath}get displayMemberPath(){return this._displayPath}getKeyValue(e){let t=this._indexOf(e,this._displayPath,!1);return t>-1?this._cv.sourceCollection[t][this._keyPath]:null}getDisplayValue(e){if(!this._hash){this._hash={};let e=this._cv.sourceCollection;if(e&&this._keyPath&&this._displayPath)for(let t=e.length-1;t>=0;t--){let n=e[t];this._hash[n[this._keyPath]]=n[this._displayPath]}}let t=this._hash[e];return null!=t?t:e}getDisplayValues(e){let t=[];if(this._cv&&this._displayPath){let e=this._cv.items;for(let n=0;n<e.length;n++)t.push(e[n][this._displayPath])}return t}getKeyValues(){let e=[];if(this._cv&&this._keyPath){let t=this._cv.items;for(let n=0;n<t.length;n++)e.push(t[n][this._keyPath])}return e}get isEditable(){return this._editable}set isEditable(e){this._editable=M(e)}onMapChanged(e){this._hash=null,this.mapChanged.raise(this,e)}_indexOf(e,t,n){let i=-1,r=-1;if(this._cv&&t){let s=null!=e?e.toString():"",o=n?s:s.toLowerCase(),l=this._cv.sourceCollection;for(let a=0;a<l.length;a++){let h=l[a],u=h[t];if(u==e?i=a:n||u.length!=o.length||u.toLowerCase()!=o?null!=u&&u.toString()==s&&(i=a):i=a,i==a){if(!this._cv.filter||this._cv.filter(h))return i;r<0&&(r=i)}}}return r}}var qr;!function(e){e[e.None=0]="None",e[e.Cell=1]="Cell",e[e.CellRange=2]="CellRange",e[e.Row=3]="Row",e[e.RowRange=4]="RowRange",e[e.ListBox=5]="ListBox"}(qr||(qr={}));var Kr;!function(e){e[e.None=0]="None",e[e.Selected=1]="Selected",e[e.Cursor=2]="Cursor"}(Kr||(Kr={}));var Yr;!function(e){e[e.None=0]="None",e[e.Next=1]="Next",e[e.Prev=2]="Prev",e[e.NextPage=3]="NextPage",e[e.PrevPage=4]="PrevPage",e[e.Home=5]="Home",e[e.End=6]="End",e[e.NextCell=7]="NextCell",e[e.PrevCell=8]="PrevCell"}(Yr||(Yr={}));class Zr{constructor(e){this._sel=new Dr(0,0),this._mode=qr.CellRange,this._g=e}get selectionMode(){return this._mode}set selectionMode(e){if(e!=this._mode){let t=qr;if(e==t.ListBox||this._mode==t.ListBox){let t=this._g.rows;for(let n=0;n<t.length;n++){let i=t[n],r=e==qr.ListBox&&this._sel.containsRow(n);i._setFlag(Or.Selected,r,!0)}}switch(e){case t.None:this._sel.setRange(-1,-1);break;case t.Cell:this._sel.row2=this._sel.row,this._sel.col2=this._sel.col;break;case t.Row:this._sel.row2=this._sel.row}this._mode=e,this._g.invalidate()}}get selection(){return this._sel}set selection(e){this.select(e)}select(e,t=!0){a(e)&&a(t)&&(e=new Dr(e,t),t=!0),e=N(e,Dr);let n=this._g,i=this._sel,r=e,s=!1,o=qr;switch(n.selectionMode){case o.Cell:e.row2=e.row,e.col2=e.col;break;case o.Row:e.row2=e.row;break;case o.ListBox:s=!0}let l=r.equals(i);if(s&&r.row>-1&&!n.rows[r.row].isSelected&&(l=!1),l)return void(t&&n.scrollIntoView(r.row,r.col));let h=new Ar(n.cells,r);if(n.onSelectionChanging(h)){if(s&&(r.row!=i.row||r.rowRange>1)){for(let e=0;e<n.rows.length;e++)n.rows[e]._setFlag(Or.Selected,r.containsRow(e),!0);n.refreshCells(!1,!0,!0)}if(r.row=Math.min(r.row,n.rows.length-1),r.row2=Math.min(r.row2,n.rows.length-1),this._sel=r,n.refreshCells(!1,!0,!0),t&&n.scrollIntoView(r.row,r.col),n.collectionView){let e=n._getCvIndex(r.row);n.collectionView.moveCurrentToPosition(e)}n.onSelectionChanged(h)}}moveSelection(e,t,n){let i,r,s=this._g,o=s.rows,l=s.columns,a=this._getReferenceCell(e,t,n),h=Math.max(0,s._szClient.height-s.columnHeaders.height);if(t==Yr.NextCell)r=l.getNextCell(a.col,Yr.Next,h),i=a.row,r==a.col&&(i=o.getNextCell(i,Yr.Next,h))>a.row&&(r=l.getNextCell(0,Yr.Next,h),r=l.getNextCell(r,Yr.Prev,h)),s.select(i,r);else if(t==Yr.PrevCell)r=l.getNextCell(a.col,Yr.Prev,h),i=a.row,r==a.col&&(i=o.getNextCell(i,Yr.Prev,h))<a.row&&(r=l.getNextCell(l.length-1,Yr.Prev,h),r=l.getNextCell(r,Yr.Next,h)),s.select(i,r);else if(i=o.getNextCell(a.row,e,h),r=l.getNextCell(a.col,t,h),n){let e=s._selHdl._sel;s.select(new Dr(i,r,e.row2,e.col2))}else s.select(i,r)}_getReferenceCell(e,t,n){let i=this._g,r=i._selHdl._sel,s=i.getMergedRange(i.cells,r.row,r.col);if(!s||s.isSingleCell)return r;switch(s=s.clone(),e){case Yr.Next:case Yr.NextCell:s.row=s.bottomRow;break;case Yr.None:s.row=r.row}switch(t){case Yr.Next:case Yr.NextCell:s.col=s.rightCol;break;case Yr.None:s.col=r.col}return s}_adjustSelection(e){switch(this._mode){case qr.Cell:return new Dr(e.row,e.col,e.row,e.col);case qr.Row:return new Dr(e.row,0,e.row,this._g.columns.length-1);case qr.RowRange:case qr.ListBox:return new Dr(e.row,0,e.row2,this._g.columns.length-1)}return e}}var Qr;!function(e){e[e.None=0]="None",e[e.MoveDown=1]="MoveDown",e[e.MoveAcross=2]="MoveAcross",e[e.Cycle=3]="Cycle",e[e.CycleOut=4]="CycleOut"}(Qr||(Qr={}));class Jr{constructor(e){this._kaTab=Qr.None,this._kaEnter=Qr.MoveDown,this._g=e;let t=e.hostElement;e.addEventListener(t,"keypress",this._keypress.bind(this)),e.addEventListener(t,"keydown",this._keydown.bind(this))}_keydown(e){let t=this._g,n=t.selection,i=e.ctrlKey||e.metaKey,s=e.shiftKey,o=!0;if(this._altDown=!1,t._wantsInput(e.target))return;if(!t.isRangeValid(n)||e.defaultPrevented)return;if(t.activeEditor&&t._edtHdl._keydown(e))return;let l=r(t.rows[n.row],Lr),a=t.editableCollectionView,h=e.keyCode;if(t.autoClipboard){if(i&&(67==h||45==h)){let i=new Ar(t.cells,n);if(t.onCopying(i)){let e=t.getClipString()+"\r\n";Bi.copy(e),t.onCopied(i)}else e.preventDefault();return void e.stopPropagation()}if(i&&86==h||s&&45==h){if(!t.isReadOnly){let i=new Ar(t.cells,n);t.onPasting(i)?Bi.paste(e=>{t.setClipString(e),t.onPasted(i)}):e.preventDefault()}return void e.stopPropagation()}}if(t.rightToLeft)switch(h){case ai.Left:h=ai.Right;break;case ai.Right:h=ai.Left}let u=Yr,c=qr;switch(h){case ai.Space:if(s&&n.isValid)switch(t.selectionMode){case c.CellRange:case c.Row:case c.RowRange:case c.ListBox:t.select(new Dr(n.row,0,n.row,t.columns.length-1))}else if(i&&n.isValid)switch(t.selectionMode){case c.CellRange:t.select(new Dr(0,n.col,t.rows.length-1,n.col))}else(o=this._startEditing(!0,e))&&setTimeout(()=>{let e=t.activeEditor;e&&(e.disabled||e.readOnly?t.finishEditing():"checkbox"==e.type?(e.checked=!e.checked,t.finishEditing()):G(e,e.value.length))});break;case 65:if(i)switch(t.selectionMode){case c.CellRange:case c.Row:case c.RowRange:case c.ListBox:t.select(new Dr(0,0,t.rows.length-1,t.columns.length-1))}else o=!1;break;case ai.Left:i||e.altKey?o=!1:n.isValid&&0==n.col&&null!=l&&!l.isCollapsed&&l.hasChildren?l.isCollapsed=!0:this._moveSel(u.None,i?u.Home:u.Prev,s);break;case ai.Right:i||e.altKey?o=!1:n.isValid&&0==n.col&&null!=l&&l.isCollapsed?l.isCollapsed=!1:this._moveSel(u.None,i?u.End:u.Next,s);break;case ai.Up:i?o=!1:(this._altDown=e.altKey,e.altKey?o=t._edtHdl._toggleListBox(e):this._moveSel(u.Prev,u.None,s));break;case ai.Down:i?o=!1:(this._altDown=e.altKey,e.altKey?o=t._edtHdl._toggleListBox(e):this._moveSel(u.Next,u.None,s));break;case ai.PageUp:this._altDown=e.altKey,this._moveSel(e.altKey?u.Home:u.PrevPage,u.None,s);break;case ai.PageDown:this._altDown=e.altKey,this._moveSel(e.altKey?u.End:u.NextPage,u.None,s);break;case ai.Home:this._moveSel(i?u.Home:u.None,u.Home,s);break;case ai.End:this._moveSel(i?u.End:u.None,u.End,s);break;case ai.Tab:o=this._performKeyAction(t.keyActionTab,s);break;case ai.Enter:o=this._performKeyAction(t.keyActionEnter,s),!s&&a&&null!=a.currentEditItem&&t._edtHdl._commitRowEdits();break;case ai.Escape:if(o=!1,a&&(a.currentAddItem||a.currentEditItem)){let e=new Ar(t.cells,t.selection);e.cancel=!0,t.onRowEditEnding(e),a.currentAddItem&&a.cancelNew(),a.currentEditItem&&a.cancelEdit(),t.onRowEditEnded(e),o=!0}t._mouseHdl.resetMouseState();break;case ai.Delete:case ai.Back:o=this._deleteSel(e);break;case ai.F2:o=this._startEditing(!0,e);break;case ai.F4:o=t._edtHdl._toggleListBox(e);break;default:o=!1}o&&(t.containsFocus()||t.focus(),e.preventDefault(),e.stopPropagation())}_performKeyAction(e,t){let n=Qr,i=Yr;switch(e){case n.MoveDown:return this._moveSel(t?i.Prev:i.Next,i.None,!1),!0;case n.MoveAcross:return this._moveSel(i.None,t?i.Prev:i.Next,!1),!0;case n.Cycle:return this._moveSel(i.None,t?i.PrevCell:i.NextCell,!1),!0;case n.CycleOut:let r=this._g.selection;return this._moveSel(i.None,t?i.PrevCell:i.NextCell,!1),!r.equals(this._g.selection)}return!1}_keypress(e){let t=this._g;if(!t._wantsInput(e.target)&&!e.defaultPrevented)if(this._altDown)e.preventDefault();else{if(t.activeEditor)t._edtHdl._keypress(e);else if(e.charCode>ai.Space&&this._startEditing(!1,e)&&t.activeEditor){let n=t.activeEditor;if(n&&"checkbox"!=n.type){let i=t.selection,r=t.getCellData(i.row,i.col,!0),s=t.getCellData(i.row,i.col,!1);n.value=String.fromCharCode(e.charCode),a(s)&&r.indexOf("%")>-1&&(n.value+="%"),G(n,1),n.dispatchEvent(t._edtHdl._evtInput),t._edtHdl._keypress(e),e.preventDefault()}}e.stopPropagation()}}_moveSel(e,t,n){this._g.selectionMode!=qr.None&&this._g._selHdl.moveSelection(e,t,n)}_deleteSel(e){let t=this._g,n=t.editableCollectionView,i=t.selection,r=t.rows,s=[],o=new Dr,l=new Ir(t.cells,o,e),a=qr;if(t.allowDelete&&!t.isReadOnly&&(null==n||n.canRemove&&!n.isAddingNew&&!n.isEditingItem))switch(t.selectionMode){case a.CellRange:if(0==i.leftCol&&i.rightCol==t.columns.length-1)for(let e=i.topRow;e>-1&&e<=i.bottomRow;e++)s.push(r[e]);break;case a.ListBox:for(let e=0;e<r.length;e++)r[e].isSelected&&s.push(r[e]);break;case a.Row:i.topRow>-1&&s.push(r[i.topRow]);break;case a.RowRange:for(let e=i.topRow;e>-1&&e<=i.bottomRow;e++)s.push(r[e])}if(s.length>0){if(t.deferUpdate(()=>{n&&n.beginUpdate();for(let e=s.length-1;e>=0;e--){let i=s[e];o.setRange(i.index,-1),t.onDeletingRow(l)&&(n&&i.dataItem?n.remove(i.dataItem):t.rows.removeAt(i.index),t.onDeletedRow(l))}n&&n.endUpdate()}),t.selectionMode==a.ListBox){let e=t.selection.row;e>-1&&e<t.rows.length&&(t.rows[e].isSelected=!0)}return t.childItemsPath&&t.collectionView&&t.collectionView.refresh(),!0}if(!t.isReadOnly&&0==s.length){let e=!1,r=t.scrollPosition;return t.deferUpdate(()=>{for(let r=i.topRow;r<=i.bottomRow;r++){let s=t.rows[r];if(!s.isReadOnly)for(let a=i.leftCol;a<=i.rightCol;a++){let i=t._getBindingColumn(t.cells,r,t.columns[a]);i.getIsRequired()||i.isReadOnly||t.getCellData(r,a,!0)&&(o.setRange(r,a),l.cancel=!1,t.onBeginningEdit(l)&&(n&&(e||(e=!0,n.beginUpdate()),n.editItem(s.dataItem),t._edtHdl._edItem=n.currentEditItem),t.setCellData(r,a,"",!0,!1),t.onCellEditEnding(l),t.onCellEditEnded(l)))}}t.selection=i,t.scrollPosition=r,e&&n.endUpdate()}),!0}return!1}_startEditing(e,t,n,i){return this._g._edtHdl.startEditing(e,n,i,!0,t)}}const Xr=4,es="wj-state-dragsrc";var ts;!function(e){e[e.None=0]="None",e[e.Columns=1]="Columns",e[e.Rows=2]="Rows",e[e.Both=3]="Both",e[e.ColumnsAllCells=e.Columns|Xr]="ColumnsAllCells",e[e.RowsAllCells=e.Rows|Xr]="RowsAllCells",e[e.BothAllCells=e.Both|Xr]="BothAllCells"}(ts||(ts={}));var ns;!function(e){e[e.None=0]="None",e[e.Headers=1]="Headers",e[e.Cells=2]="Cells",e[e.Both=3]="Both"}(ns||(ns={}));var is;!function(e){e[e.None=0]="None",e[e.Columns=1]="Columns",e[e.Rows=2]="Rows",e[e.Both=3]="Both"}(is||(is={}));class rs{constructor(e){this._tsLast=0;let t=e.hostElement;this._g=e,this._dvMarker=K('<div class="wj-marker">&nbsp;</div>'),e.addEventListener(t,"mousedown",t=>{if(e._rcBounds=null,!t.defaultPrevented&&0==t.button){e.containsFocus()||e._setFocusNoScroll(e._eFocus),setTimeout(()=>{t.defaultPrevented||e.focus()});let r=t.target;if(!e.activeEditor&&e._isInputElement(r)){if($()!=r&&"OPTION"!=r.tagName){let n=e.hitTest(t);switch(n.cellType){case kr.Cell:e.select(n.range);break;case kr.ColumnHeader:case kr.ColumnFooter:e.scrollIntoView(-1,n.col);break;case kr.RowHeader:e.scrollIntoView(n.row,-1)}r.focus()}return}let s=Q(t.target,".wj-flexgrid");s&&s!=e.hostElement||this._isDown||(this._isDown=!0,e.addEventListener(document,"mousemove",n),e.addEventListener(document,"mouseup",i),this._mousedown(t))}});let n=e=>{this._mousemove(e)},i=t=>{this._isDown=!1,e.removeEventListener(document,"mousemove"),e.removeEventListener(document,"mouseup"),this._mouseup(t)};e.addEventListener(t,"mouseup",e=>{this._tsLast=Date.now()}),e.addEventListener(t,"mouseenter",t=>{e._rcBounds=null}),e.addEventListener(t,"mousemove",this._hover.bind(this)),e.addEventListener(t,"dblclick",this._dblclick.bind(this)),e.addEventListener(t,"click",this._click.bind(this)),e.addEventListener(t,"selectstart",t=>{e._isInputElement(t.target)||t.preventDefault()}),e.addEventListener(t,"wheel",t=>{let n=e.cells.hostElement.parentElement,i=t.deltaY;if(i&&!t.ctrlKey&&!t.metaKey&&n.scrollHeight>n.offsetHeight&&Q(t.target,".wj-flexgrid")==e.hostElement){switch(t.deltaMode){case 1:n.scrollTop+=e.rows.defaultSize*(i<0?-1:1);break;case 2:n.scrollTop+=n.clientHeight*(i<0?-1:1);break;case 0:default:ce()&&(i=b(i,-150,150)),n.scrollTop+=i}t.preventDefault(),t.stopImmediatePropagation()}}),e.addEventListener(t,"dragstart",this._dragstart.bind(this)),e.addEventListener(t,"dragover",this._dragover.bind(this)),e.addEventListener(t,"dragleave",this._dragover.bind(this)),e.addEventListener(t,"drop",this._drop.bind(this)),e.addEventListener(t,"dragend",this._dragend.bind(this)),this._enableTouchResizing()}resetMouseState(){this._dragSource&&F(this._dragSource,es),this._showDragMarker(null);let e=this._g.hostElement;e&&(e.style.cursor="");let t=this._g;t.removeEventListener(document,"mousemove"),t.removeEventListener(document,"mouseup"),this._tsLast=Date.now(),this._eMouse=null,this._isDown=null,this._htDown=null,this._lbSelRows=null,this._szRowCol=null,this._szArgs=null,this._dragSource=null}_enableTouchResizing(){let e=this._g,t=e.hostElement,n="ontouchstart"in window?["touchstart","touchmove","touchend"]:"onpointerdown"in window?["pointerdown","pointermove","pointerup"]:null;n&&(e.addEventListener(t,n[0],n=>{if((null==n.pointerType||"touch"==n.pointerType)&&!Q(n.target,".wj-elem-filter")){var i=Q(n.target,".wj-cell");i instanceof HTMLElement&&(e._rcBounds=null,this._htDown=null,this._hover(n),this._szRowCol&&(i.removeAttribute("draggable"),t.style.touchAction="none",this._mousedown(n),n.preventDefault()))}}),e.addEventListener(t,n[1],e=>{null!=e.pointerType&&"touch"!=e.pointerType||this._szRowCol&&(this._mousemove(e),e.preventDefault())}),e.addEventListener(t,n[2],e=>{if(Si._touching=!1,(null==e.pointerType||"touch"==e.pointerType)&&this._szRowCol){if(this._szArgs)this._finishResizing(this._eMouse);else{let t=Q(e.target,".wj-cell");t instanceof HTMLElement&&t.click()}this.resetMouseState(),t.style.touchAction=""}}))}_mousedown(e){let t=this._g,n=t.hitTest(e),i=n.cellType,s=e.ctrlKey||e.metaKey;if(this._selDown=t.selection,n.panel==t.cells){if(J(e.target,Nr._WJC_DROPDOWN))return e.preventDefault(),void t._edtHdl._toggleListBox(e,n.range);if(t.editRange&&t.editRange.contains(n.range))return}let o=$();if(e.target!=o||!t._isInputElement(e.target))if(i!=kr.None){if(this._htDown=n,this._eMouse=e,null!=this._szRowCol)return t._eFocus.tabIndex=0,t._eFocus.focus(),void this._handleResizing(e);switch(i){case kr.Cell:s&&t.selectionMode==qr.ListBox&&this._startListBoxSelection(n.row),this._mouseSelect(e,e.shiftKey);break;case kr.RowHeader:0==(this._g.allowDragging&is.Rows)&&(s&&t.selectionMode==qr.ListBox&&this._startListBoxSelection(n.row),this._mouseSelect(e,e.shiftKey))}if(i==kr.Cell&&t.rows.maxGroupLevel>-1&&J(e.target,Nr._WJC_COLLAPSE)){let e=r(t.rows[n.row],Lr);if(e)return s?t.collapseGroupsToLevel(e.isCollapsed?e.level+1:e.level):e.isCollapsed=!e.isCollapsed,void this.resetMouseState()}}else t._edtHdl._commitRowEdits()}_mousemove(e){if(null!=this._htDown){if(0==e.buttons&&this._eMouse&&e.timeStamp-this._eMouse.timeStamp>600)return void this.resetMouseState();if(this._eMouse=e,this._szRowCol)this._handleResizing(e);else switch(this._htDown.cellType){case kr.Cell:this._mouseSelect(e,!0);break;case kr.RowHeader:0==(this._g.allowDragging&is.Rows)&&this._mouseSelect(e,!0)}}}_mouseup(e){if(this._g.isTouching&&(this._dragSource||e.target instanceof HTMLHtmlElement))return;let t=this._g,n=t.hitTest(e),i=this._htDown,r=qr;if(i&&!e.defaultPrevented)if(this._szArgs)this._finishResizing(e);else if(i.panel!=t.topLeftCells||this._szArgs)i.panel!=t.columnHeaders||e.dataTransfer?i.panel==t.cells&&(e.ctrlKey||e.metaKey||e.shiftKey||n.panel==i.panel&&n.range.equals(i.range)&&t.selection.equals(this._selDown)&&t._edtHdl.startEditing(!0,n.row,n.col,!0,e)):n.panel==i.panel&&n.col==i.col&&!n.edgeRight&&n.col>-1&&this._clickSort(e,n);else if(n.panel==i.panel&&n.row==i.row&&n.col==i.col&&t.rows.length&&t.columns.length)switch(t.selectionMode){case r.CellRange:case r.RowRange:case r.ListBox:t.select(new Dr(0,0,t.rows.length-1,t.columns.length-1))}this.resetMouseState()}_click(e){Date.now()-this._tsLast>50&&!e.pointerType&&this._handleClick(e)}_handleClick(e){let t=this._g,n=e.target,i=new Ur(n,null);if(!e.defaultPrevented&&i.grid==t&&!t._isInputElement(n))if(i.panel==t.topLeftCells)t.select(new Dr(0,0,t.rows.length-1,t.columns.length-1));else if(i.panel==t.columnHeaders)this._clickSort(e,i);else if(i.panel==t.rowHeaders)t.select(new Dr(i.row,0,i.row,t.columns.length-1));else if(i.panel==t.cells)if(i.row<0)this._clickSort(e,i);else if(J(n,Nr._WJC_COLLAPSE)){let n=t.rows[i.row];n instanceof Lr&&(e.ctrlKey?t.collapseGroupsToLevel(n.isCollapsed?n.level+1:n.level):n.isCollapsed=!n.isCollapsed)}else J(n,Nr._WJC_DROPDOWN)?t._edtHdl._toggleListBox(e,i.range):t.select(i.range)}_clickSort(e,t){let n=this._g,i=n.collectionView,r=e.ctrlKey||e.metaKey;if(!i||!i.canSort||!n.allowSorting)return;let s=t.range.bottomRow,o=t.panel.columns[t.col],l=n._getBindingColumn(t.panel,t.row,o);if(s>-1&&s!=n._getSortRowIndex()&&o==l)return;if(!l.allowSorting||!l.binding)return;let a=t.grid.collectionView.sortDescriptions,h=null;for(let c=0;c<a.length;c++)if(a[c].property==l.binding){h=!a[c].ascending;break}if(null==h){if(r)return;h=!0}let u=new Ar(t.panel,t.range);n.onSortingColumn(u)&&(n._edtHdl._commitRowEdits(),r?a.clear():a.splice(0,a.length,new Mi(l._getBindingSort(),h)),n.onSortedColumn(u))}_dblclick(e){let t,n=this._g,i=n.hitTest(e),r=i.cellType,s=n.selection,o=i.range;if(!e.defaultPrevented)if(i.edgeRight&&n.allowResizing&ts.Columns){if(r==kr.ColumnHeader||r==kr.Cell&&n.allowResizing&Xr){e.preventDefault(),e.ctrlKey&&s.containsColumn(i.col)&&(o=s);for(let e=o.leftCol;e<=o.rightCol;e++)n.columns[e].allowResizing&&(t=new Ar(n.cells,new Dr(-1,e)),n.onAutoSizingColumn(t)&&n.onResizingColumn(t)&&(n.autoSizeColumn(e),n.onResizedColumn(t),n.onAutoSizedColumn(t)))}else r==kr.TopLeft&&i.panel.columns[i.col].allowResizing&&(e.preventDefault(),t=new Ar(i.panel,new Dr(-1,i.col)),n.onAutoSizingColumn(t)&&n.onResizingColumn(t)&&(n.autoSizeColumn(i.col,!0),n.onAutoSizedColumn(t),n.onResizedColumn(t)));this.resetMouseState()}else if(i.edgeBottom&&n.allowResizing&ts.Rows){if(r==kr.RowHeader||r==kr.Cell&&n.allowResizing&Xr){e.ctrlKey&&s.containsRow(i.row)&&(o=s);for(let e=o.topRow;e<=o.bottomRow;e++)n.rows[e].allowResizing&&(t=new Ar(n.cells,new Dr(e,-1)),n.onAutoSizingRow(t)&&n.onResizingRow(t)&&(n.autoSizeRow(e),n.onResizedRow(t),n.onAutoSizedRow(t)))}else r==kr.TopLeft&&i.panel.rows[i.row].allowResizing&&(t=new Ar(i.panel,new Dr(i.row,-1)),n.onAutoSizingRow(t)&&n.onResizingRow(t)&&(n.autoSizeRow(i.row,!0),n.onResizedRow(t),n.onAutoSizedRow(t)));this.resetMouseState()}}_hover(e){if(null==this._htDown){let t=this._g,n=t.hitTest(e),i=n.cellType,r="";return this._szRowCol=null,(i==kr.ColumnHeader||i==kr.TopLeft||i==kr.Cell&&t.allowResizing&Xr)&&n.edgeRight&&0!=(t.allowResizing&ts.Columns)&&(this._szRowCol=this._getResizeCol(n)),(i==kr.RowHeader||i==kr.TopLeft||i==kr.Cell&&t.allowResizing&Xr)&&n.edgeBottom&&0!=(t.allowResizing&ts.Rows)&&(this._szRowCol=this._getResizeRow(n)),this._szRowCol instanceof Hr?r="col-resize":this._szRowCol instanceof zr&&(r="row-resize"),this._szStart=this._szRowCol?this._szRowCol.renderSize:0,t.hostElement.style.cursor=r,n}return null}_getResizeCol(e){let t=e.panel.columns,n=t[e.col];for(let i=e.col+1;i<t.length;i++){let e=t[i];if(e.visible){e.size<1&&(n=e);break}}if(e.col==t.length-1&&(e.cellType==kr.TopLeft||e.cellType==kr.RowHeader)){t=this._g.columns;for(let e=0;e<t.length;e++){let i=t[e];if(i.visible){i.size<1&&(n=i);break}}}return n.allowResizing?n:null}_getResizeRow(e){let t=e.panel.rows,n=t[e.row];for(let i=e.row+1;i<t.length;i++){let e=t[i];if(e.visible){e.size<1&&(n=e);break}}if(e.row==t.length-1&&(e.cellType==kr.TopLeft||e.cellType==kr.ColumnHeader)){t=this._g.rows;for(let e=0;e<t.length;e++){let i=t[e];if(i.visible){i.size<1&&(n=i);break}}}return n.allowResizing?n:null}_mouseSelect(e,t){let n=this._g;if(this._htDown&&this._htDown.panel&&n.selectionMode!=qr.None){let i=new Ur(this._htDown.panel,e);this._handleSelection(i,t),!ge()&&e.button>=0&&e.target!=n._root&&(i=new Ur(n,e)).cellType!=kr.Cell&&i.cellType!=kr.RowHeader&&setTimeout(()=>{this._mouseSelect(this._eMouse,t)},100)}}_handleResizing(e){if(e.preventDefault(),this._szRowCol instanceof Hr){let t=this._g,n=m(e).x,i=Math.round(Math.max(rs._SZ_MIN,this._szStart+(n-this._htDown.point.x)*(t.rightToLeft?-1:1)));if(this._szRowCol.renderSize!=i){if(null==this._szArgs){let e=t.rowHeaders.columns.indexOf(this._szRowCol)>-1?t.rowHeaders:t.cells;this._szArgs=new Ar(e,new Dr(-1,this._szRowCol.index))}this._szArgs.cancel=!1,t.onResizingColumn(this._szArgs)&&(t.deferResizing?this._showResizeMarker(i):this._szRowCol.width=i)}}if(this._szRowCol instanceof zr){let t=this._g,n=m(e).y,i=Math.round(Math.max(rs._SZ_MIN,this._szStart+(n-this._htDown.point.y)));if(this._szRowCol.renderSize!=i){if(null==this._szArgs){let e=t.columnHeaders.rows.indexOf(this._szRowCol)>-1?t.columnHeaders:t.cells;this._szArgs=new Ar(e,new Dr(this._szRowCol.index,-1))}this._szArgs.cancel=!1,t.onResizingRow(this._szArgs)&&(t.deferResizing?this._showResizeMarker(i):this._szRowCol.height=i)}}}_dragstart(e){let t=this._g,n=this._htDown;if(n){if(this._dragSource=null,!this._szRowCol){let i=new Ar(n.panel,n.range);if(n.cellType==kr.ColumnHeader&&t.allowDragging&is.Columns&&n.col>-1&&t.columns[n.col].allowDragging)t.onDraggingColumn(i)?this._dragSource=e.target:e.preventDefault();else if(n.cellType==kr.RowHeader&&t.allowDragging&is.Rows&&n.row>-1&&t.rows[n.row].allowDragging){let r=t.rows[n.row];r instanceof Lr||r instanceof as||(t.onDraggingRow(i)?this._dragSource=e.target:e.preventDefault())}}this._dragSource&&e.dataTransfer&&!e.defaultPrevented&&(fe(e.dataTransfer,"move"),e.stopPropagation(),j(this._dragSource,es),t.beginUpdate(),this._updating=!0)}}_dragend(e){this._updating&&(this._g.endUpdate(),this._updating=!1),this.resetMouseState()}_dragover(e){let t=this._g,n=t.hitTest(e),i=!1,r=new Ar(t.cells,n.range);this._htDown&&n.cellType==this._htDown.cellType&&(n.cellType==kr.ColumnHeader?(r.cancel=!t.columns.canMoveElement(this._htDown.col,n.col),i=t.onDraggingColumnOver(r)):n.cellType==kr.RowHeader&&(r.cancel=!t.rows.canMoveElement(this._htDown.row,n.row),i=t.onDraggingRowOver(r))),i?(e.dataTransfer.dropEffect="move",this._showDragMarker(n),e.preventDefault(),e.stopPropagation()):this._showDragMarker(null)}_drop(e){let t=this._g,n=t.hitTest(e),i=new Ar(t.cells,n.range);if(this._htDown&&n.cellType==this._htDown.cellType){let e=t.selection;n.cellType==kr.ColumnHeader?(t.columns.moveElement(this._htDown.col,n.col),t.select(e.row,n.col),t.onDraggedColumn(i)):n.cellType==kr.RowHeader&&(t.rows.moveElement(this._htDown.row,n.row),t.select(n.row,e.col),t.onDraggedRow(i))}this.resetMouseState()}_showResizeMarker(e){let t=this._g,n=this._dvMarker;n.parentElement||t.cells.hostElement.appendChild(n);let i,r=this._szArgs.panel.cellType;this._szRowCol instanceof Hr?(i={display:"",left:this._szRowCol.pos+e-1,top:-1e3,right:"",bottom:0,width:3,height:""},t.rightToLeft&&(i.left=t.cells.hostElement.clientWidth-i.left-i.width),r!=kr.TopLeft&&r!=kr.RowHeader||(i.left-=t.topLeftCells.hostElement.offsetWidth)):(i={left:-1e3,top:this._szRowCol.pos+e-1,right:0,bottom:"",width:"",height:3},r!=kr.TopLeft&&r!=kr.ColumnHeader||(i.top-=t.topLeftCells.hostElement.offsetHeight)),te(n,i)}_showDragMarker(e){let t=this._g,n=this._dvMarker;if(!e)return n.parentElement&&n.parentElement.removeChild(n),void(this._rngTarget=null);if(e.range.equals(this._rngTarget))return;this._rngTarget=e.range,n.parentElement||e.panel.hostElement.appendChild(n);let i={display:"",left:0,top:0,width:6,height:6};switch(e.cellType){case kr.ColumnHeader:i.height=e.panel.height;let r=t.columns[e.col];i.left=r.pos-i.width/2,e.col>this._htDown.col&&(i.left+=r.renderWidth),t.rightToLeft&&(i.left=n.parentElement.clientWidth-i.left-i.width);break;case kr.RowHeader:i.width=e.panel.width;let s=t.rows[e.row];i.top=s.pos-i.height/2,e.row>this._htDown.row&&(i.top+=s.renderHeight)}te(n,i)}_finishResizing(e){let t=this._g,n=t.selection,i=this._szArgs,r=this._eMouse&&this._eMouse.ctrlKey;if(i&&!i.cancel){if(i.col>-1){let s=i.col,o=m(e).x,l=Math.round(Math.max(rs._SZ_MIN,this._szStart+(o-this._htDown.point.x)*(this._g.rightToLeft?-1:1)));if(i.panel.columns[s].width=Math.round(l),t.onResizedColumn(i),r&&this._htDown.cellType==kr.ColumnHeader&&n.containsColumn(s))for(let e=n.leftCol;e<=n.rightCol;e++)t.columns[e].allowResizing&&e!=s&&(i=new Ar(t.cells,new Dr(-1,e)),t.onResizingColumn(i)&&(t.columns[e].size=t.columns[s].size,t.onResizedColumn(i)))}if(i.row>-1){let s=i.row,o=m(e).y,l=Math.round(Math.max(rs._SZ_MIN,this._szStart+(o-this._htDown.point.y)));if(i.panel.rows[s].height=Math.round(l),t.onResizedRow(i),r&&this._htDown.cellType==kr.RowHeader&&n.containsRow(s))for(let e=n.topRow;e<=n.bottomRow;e++)t.rows[e].allowResizing&&e!=s&&(i=new Ar(t.cells,new Dr(e,-1)),t.onResizingRow(i)&&(t.rows[e].size=t.rows[s].size,t.onResizedRow(i)))}}}_startListBoxSelection(e){let t=this._g.rows;this._lbSelState=!t[e].isSelected,this._lbSelRows={};for(let n=0;n<t.length;n++)t[n].isSelected&&(this._lbSelRows[n]=!0)}_handleSelection(e,t){let n=this._g,i=n.rows,r=n._selHdl.selection,s=new Dr(e.row,e.col);if(e.row>-1&&e.col>-1)if(null!=this._lbSelRows){let t=!1;s=new Dr(e.row,e.col,this._htDown.row,this._htDown.col);for(let e=0;e<i.length;e++){let o=s.containsRow(e)?this._lbSelState:null!=this._lbSelRows[e];if(o!=i[e].isSelected){let s=new Ar(n.cells,new Dr(e,r.col,e,r.col2));n.onSelectionChanging(s)&&(i[e]._setFlag(Or.Selected,o,!0),t=!0,n.onSelectionChanged(s))}}t&&n.refreshCells(!1,!0,!0),n.scrollIntoView(e.row,e.col)}else e.cellType==kr.RowHeader&&(s.col=0,s.col2=n.columns.length-1),t&&(s.row2=r.row2,s.col2=r.col2),n.select(s)}}rs._SZ_MIN=0;const ss="wj-cell-check";class os{constructor(e){this._fullEdit=!1,this._list=null,this._g=e,this._evtInput=document.createEvent("HTMLEvents"),this._evtInput.initEvent("input",!0,!1),e.selectionChanging.addHandler((t,n)=>{if(this.finishEditing()){let t=e._selHdl.selection.row;if(t!=n.row){let i=e.rows.length;(t>-1&&t<i?e.rows[t].dataItem:null)!=(n.row>-1&&n.row<i?e.rows[n.row].dataItem:null)&&this._commitRowEdits()}}else n.cancel=!0}),e.lostFocus.addHandler(()=>{if(!e.containsFocus()){let e=$();e&&"fixed"==getComputedStyle(e).position||this._commitRowEdits()}}),e.addEventListener(e.hostElement,"mousedown",t=>{if(t.defaultPrevented||0!=t.button)return;if(e._mouseHdl._szRowCol)return;let n=e.hitTest(t);if(n.cellType!=kr.Cell&&n.cellType!=kr.None)this.finishEditing();else if(n.cellType!=kr.None){let e=r(t.target,HTMLInputElement);this._isNativeCheckbox(e)&&(e!=this.activeEditor&&(t.preventDefault(),this.startEditing(!1,n.row,n.col,!0,t)&&(e=this.activeEditor)),!e||"checkbox"!=e.type||e.disabled||e.readOnly||(e.checked=!e.checked,e.focus(),this.finishEditing()))}},!0),e.addEventListener(e.hostElement,"click",e=>{this._isNativeCheckbox(e.target)&&e.preventDefault()})}startEditing(e=!0,t,n,i,r){let s=this._g;if(t=T(t,!0,!0),n=T(n,!0,!0),null==t&&(t=s.selection.row),null==n&&(n=s.selection.col),null==i&&(i=!0),!this._allowEditing(t,n))return!1;let o=s.getMergedRange(s.cells,t,n,!1);o||(o=new Dr(t,n));let l=s.rows[t].dataItem;if(s.select(o,!0),!s.rows[t]||l!=s.rows[t].dataItem)return!1;if(o.equals(this._rng))return!0;if(this.activeEditor&&!this.finishEditing())return!1;let h=new Ar(s.cells,o,r);if(!s.onBeginningEdit(h))return!1;let u=s.editableCollectionView,c=!1;u&&((c=(l=s.rows[t].dataItem)!=u.currentEditItem)&&s.onRowEditStarting(h),u.editItem(l),c&&(s.onRowEditStarted(h),this._edItem=l)),this._fullEdit=M(e),this._rng=o,this._list=null;let d=s.columns[n].dataMap;d&&(this._list=d.getDisplayValues(l)),o.isSingleCell?this._updateEditorCell(t,n,c):s.refresh(!1);let g=this._edt;if(g){if("checkbox"==g.type)this._fullEdit=!1;else if(i){if(a(s.getCellData(t,n,!1))&&g.value.indexOf("%")>-1){let e=g.value,t=0,n=e.length;for(;n>0&&"%"==e[n-1];)n--;for(;t<n&&"%"==e[t];)t++;G(g,t,n)}else G(g,0,g.value.length);g.focus()}if(s.onPrepareCellForEdit(h),g.disabled||g.readOnly)return!1}return null!=g&&!g.disabled&&!g.readOnly}finishEditing(e=!1){let t=this._edt;if(!t)return this._removeListBox(),!0;let n=this._g,i=this._rng,r=new Ir(n.cells,i),s=n.containsFocus(),o=n.hostElement.querySelector(".wj-control.wj-state-focused");if(o){let e=Si.getControl(o);e&&e.onLostFocus(r)}if(r.cancel=e,!e&&n.validateEdits){let e=this._getValidationError();if(e){r.cancel=!0;let n=t.parentElement;n&&(B(n,"wj-state-invalid",!0),n.title=e,r.stayInEditMode=!0)}}if(!n.onCellEditEnding(r)&&r.stayInEditMode)return s?setTimeout(()=>{t.select()}):t.select(),!1;if(!r.cancel){r.data=n.cells.getCellData(i.topRow,i.leftCol,!1);let e=n.cellFactory.getEditorValue(n);for(let t=i.topRow;t<=i.bottomRow&&t<n.rows.length;t++)for(let r=i.leftCol;r<=i.rightCol&&r<n.columns.length;r++)n.cells.setCellData(t,r,e,!0,!1)}this._edt=null,this._rng=null,this._list=null,this._removeListBox();let l=Q(t,".wj-cell");return Z(l,$())&&l.focus(),r.cancel?this._updateEditorCell(i.row,i.col,!1):n.refresh(!1),s&&n.focus(),n.onCellEditEnded(r),!0}get activeEditor(){return this._edt}get editRange(){return this._rng}getClipString(e){let t=this._g,n="",i=!0,r=qr;if(!e)switch(e=t.selection,t.selectionMode){case r.Row:case r.RowRange:e.col=0,e.col2=t.columns.length-1;break;case r.ListBox:e.col=0,e.col2=t.columns.length-1;for(let i=0;i<t.rows.length;i++)t.rows[i].isSelected&&t.rows[i].isVisible&&(e.row=e.row2=i,n&&(n+="\n"),n+=this.getClipString(e));return n}for(let s=(e=N(e,Dr)).topRow;s<=e.bottomRow;s++)if(t.rows[s].isVisible){i||(n+="\n"),i=!1;for(let i=e.leftCol,r=!0;i<=e.rightCol;i++){if(!t.columns[i].isVisible)continue;r||(n+="\t"),r=!1;let e=t.cells.getCellData(s,i,!0).toString();(e=e.replace(/\t/g," ")).indexOf("\n")>-1&&(e='"'+e.replace(/"/g,'""')+'"'),n+=e}}return n}setClipString(e,t){let n=this._g,i=null==t;if(!t)switch(t=n.selection,n.selectionMode){case qr.Row:case qr.RowRange:case qr.ListBox:t.col=0,t.col2=n.columns.length-1}t=N(t,Dr);let r=this._parseClipString(R(e));i&&!t.isSingleCell&&r.length&&this._expandClipRows(r,t);let s,o=new Dr(t.topRow,t.leftCol),l=n.editableCollectionView,a=t.topRow,h=!1;n.deferUpdate(()=>{l&&l.beginUpdate();for(let e=0;e<r.length&&a<n.rows.length;e++,a++){if(!n.rows[a].isVisible){e--;continue}let i=r[e],u=t.leftCol;for(let e=0;e<i.length&&u<n.columns.length;e++,u++)n.columns[u].isVisible?this._allowEditing(a,u)&&(s=new Ar(n.cells,new Dr(a,u),i[e]),n.onPastingCell(s)&&(l&&(l.editItem(n.rows[a].dataItem),this._edItem=l.currentEditItem),n.cells.setCellData(a,u,s.data)&&(n.onPastedCell(s),h=!0)),o.row2=Math.max(o.row2,a),o.col2=Math.max(o.col2,u)):e--}l&&l.endUpdate(),n.select(o)})}_isNativeCheckbox(e){return e instanceof HTMLInputElement&&"checkbox"==e.type&&!e.disabled&&!e.readOnly&&L(e,ss)&&Q(e,".wj-flexgrid")==this._g.hostElement}_parseClipString(e){let t=[];e=(e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n")).replace(/\n+$/g,"");let n=0,i=0;for(n=0;n<e.length;n++){let s='"'==e[n]&&e[n+1]>=" ",o=!1,l=!1;for(i=n;i<e.length&&!l;i++){var r=e[i];switch(r){case'"':s&&(o=!o);break;case"\t":case"\n":o||(this._parseClipCell(t,e,n,i,"\n"==r),n=i,l=!0)}}if(i==e.length){this._parseClipCell(t,e,n,e.length,!1);break}}return 0==t.length&&t.push([""]),t}_parseClipCell(e,t,n,i,r){e.length||e.push([]);let s=t.substr(n,i-n),o=s.length;o>1&&'"'==s[0]&&'"'==s[o-1]&&(s=(s=s.substr(1,o-2)).replace(/""/g,'"')),e[e.length-1].push(s),r&&e.push([])}_expandClipRows(e,t){let n=e.length,i=0;for(let l=0;l<n;l++)i=Math.max(i,e[l].length);let r=this._g,s=0,o=0;for(let l=t.topRow;l<=t.bottomRow;l++)r.rows[l].isVisible&&s++;for(let l=t.leftCol;l<=t.rightCol;l++)r.columns[l].isVisible&&o++;if((s>1||o>1)&&(1==s&&(s=n),1==o&&(o=i),o%i==0&&s%n==0)){for(let t=i;t<o;t++)for(let r=0;r<n;r++)e[r].push(e[r%n][t%i]);for(let t=n;t<s;t++)e.push(e[t%n])}}_updateEditorCell(e,t,n){let i=this._g,r=i.cells.getCellElement(e,t),s=i._useFrozenDiv()&&(e<i.frozenRows||t<i.frozenColumns);if(!r||s||i._hasPendingUpdates())i.refresh(!1);else if(this._updateCell(r),(n=n||i._getHasValidation())&&i.headersVisibility&Rr.Row){let t=i.rowHeaders,n=t.getCellElement(e,t.columns.length-1);n&&this._updateCell(n)}}_updateCell(e){var t=new Ur(e,null);t.panel&&(e.classList.add(Tr._WJS_UPDATING),t.grid.cellFactory.updateCell(t.panel,t.row,t.col,e,t.range),e.classList.remove(Tr._WJS_UPDATING))}_getValidationError(){let e=this._g;if(e._getHasValidation()){let t=this._rng.row,n=this._rng.col,i=e.cellFactory.getEditorValue(e),r=e.getCellData(t,n,!1);if(e.setCellData(t,n,i,!0,!1)){let i=e._getError(e.cells,t,n);return e.setCellData(t,n,r,!0,!1),i}}return null}_allowEditing(e,t){let n=this._g;if(n.isReadOnly||n.selectionMode==qr.None)return!1;if(e<0||e>=n.rows.length||n.rows[e].isReadOnly||!n.rows[e].isVisible)return!1;if(t<0||t>=n.columns.length)return!1;let i=n._getBindingColumn(n.cells,e,n.columns[t]);return!(!i||i.isReadOnly||!i.isVisible)}_commitRowEdits(){let e=this._g;if(this.finishEditing()&&this._edItem){let t=e.editableCollectionView;if(t&&t.currentEditItem){let n=new Ar(e.cells,e.selection);e.onRowEditEnding(n),t.commitEdit(),e.onRowEditEnded(n)}this._edItem=null}}_keydown(e){switch(e.keyCode){case ai.F2:return this._fullEdit=!this._fullEdit,e.preventDefault(),!0;case ai.F4:return this._toggleListBox(e),e.preventDefault(),!0;case ai.Space:let t=this._edt;return!t||"checkbox"!=t.type||t.disabled||t.readOnly||(t.checked=!t.checked,this.finishEditing(),e.preventDefault()),!0;case ai.Enter:case ai.Tab:return e.preventDefault(),!this.finishEditing();case ai.Escape:return e.preventDefault(),this.finishEditing(!0),!0;case ai.Up:case ai.Down:case ai.Left:case ai.Right:case ai.PageUp:case ai.PageDown:case ai.Home:case ai.End:if(this._lbx)return this._keydownListBox(e);if(e.altKey)switch(e.keyCode){case ai.Up:case ai.Down:return this._toggleListBox(e),e.preventDefault(),!0}if(!this._fullEdit&&this.finishEditing())return!1}return!0}_keydownListBox(e){let t=!0;if(this._lbx)switch(e.keyCode){case ai.Up:e.altKey?this._toggleListBox(e):this._lbx.selectedIndex>0&&this._lbx.selectedIndex--;break;case ai.Down:e.altKey?this._toggleListBox(e):this._lbx.selectedIndex++;break;case ai.Home:case ai.PageUp:this._lbx.selectedIndex=0;break;case ai.End:case ai.PageDown:this._lbx.selectedIndex=this._lbx.collectionView.items.length-1;break;default:t=!1}return!!t&&(e.preventDefault(),!0)}_keypress(e){let t=this._edt;if(t&&"checkbox"!=t.type&&this._list&&this._list.length>0&&e.charCode>=32){let n=t.selectionStart,i=t.value.substr(0,n);e.target==t&&(n++,i+=String.fromCharCode(e.charCode)),i=i.toLowerCase();for(let r=0;r<this._list.length;r++)if(0==this._list[r].toLowerCase().indexOf(i)){t.value=this._list[r],G(t,n,this._list[r].length),t.dispatchEvent(this._evtInput),e.preventDefault();break}}}_toggleListBox(e,t){let n=this._g,i=n._selHdl.selection;if(t||(t=i),this._lbx&&(this._removeListBox(),i.contains(t)))return n.activeEditor?n.activeEditor.focus():n.containsFocus()||n.focus(),!0;let r=n.isTouching,s=n._getBindingColumn(n.cells,t.row,n.columns[t.col]);return!(!Ce()||!s.dataMap||!1===s.showDropDown||!Ce()||!this.startEditing(!0,t.row,t.col,!r,e)||(this._lbx=this._createListBox(),this._lbx.showSelection(),r&&this._lbx.focus(),0))}_createListBox(){let e=this._g,t=this._rng,n=e.rows[t.row],i=e._getBindingColumn(e.cells,t.row,e.columns[t.col]),r=document.createElement("div"),s=new(Ce().ListBox)(r);this._removeListBox(),r.classList.add("wj-dropdown-panel","wj-grid-listbox"),s.maxHeight=4*n.renderHeight,s.isContentHtml=i.isContentHtml,s.itemsSource=i.dataMap.getDisplayValues(n.dataItem),s.selectedValue=e.activeEditor?e.activeEditor.value:e.getCellData(t.row,t.col,!0),j(r,i.dropDownCssClass),s.addEventListener(s.hostElement,"click",()=>{this._removeListBox(),e.focus(),this.finishEditing()}),s.lostFocus.addHandler(()=>{this._removeListBox()}),s.selectedIndexChanged.addHandler(()=>{let t=e.activeEditor;t&&(t.value=this._lbx.selectedValue,t.dispatchEvent(this._evtInput),G(t,0,t.value.length))});let o=e.cells.getCellElement(t.row,t.col);return o?oe(r,o,!1,!1,!1):(oe(r,e.getCellBoundingRect(t.row,t.col)),r[Si._OWNR_KEY]=e.hostElement),s}_removeListBox(){this._lbx&&(le(this._lbx.hostElement,!0),this._lbx.dispose(),this._lbx=null)}}class ls{constructor(e){this._nrt=new as,this._g=e,this._keydownBnd=this._keydown.bind(this),this._attach()}get newRowAtTop(){return this._top}set newRowAtTop(e){e!=this.newRowAtTop&&(this._top=M(e),this.updateNewRowTemplate())}updateNewRowTemplate(){let e=this._g,t=e.editableCollectionView,n=e.rows,i=t&&t.canAddNew&&e.allowAddNew&&!e.isReadOnly,r=n.indexOf(this._nrt),s=this._top?0:n.length-1,o=!1;if(!i&&r>-1){let t=e.selection;t.row==r&&e.select(t.row-1,t.col),n.removeAt(r)}else i&&(r<0?o=!0:r!=s&&(n.removeAt(r),o=!0),o&&(this._top?n.insert(0,this._nrt):n.push(this._nrt)),this._nrt&&this._nrt._setFlag(Or.ParentCollapsed,!1))}_attach(){let e=this._g;e&&(e.beginningEdit.addHandler(this._beginningEdit,this),e.pastingCell.addHandler(this._beginningEdit,this),e.rowEditEnded.addHandler(this._rowEditEnded,this),e.loadedRows.addHandler(this.updateNewRowTemplate,this),e.hostElement.addEventListener("keydown",this._keydownBnd,!0))}_detach(){let e=this._g;e&&(e.beginningEdit.removeHandler(this._beginningEdit),e.pastingCell.removeHandler(this._beginningEdit),e.rowEditEnded.removeHandler(this._rowEditEnded),e.loadedRows.removeHandler(this.updateNewRowTemplate),e.hostElement.removeEventListener("keydown",this._keydownBnd,!0))}_keydown(e){e.defaultPrevented||e.keyCode!=ai.Escape||null==this._g.activeEditor&&this._top&&this._nrt.dataItem&&(this._nrt.dataItem=null,this._g.invalidate())}_beginningEdit(e,t){if(!t.cancel){let e=this._g.rows[t.row];if(r(e,as)){let n=this._g.editableCollectionView;if(n&&n.canAddNew)if(this._top){if(null==this._nrt.dataItem){let e=null,t=n.sourceCollection,i=n.newItemCreator;e=c(i)?i():t&&t.length?new t[0].constructor:{},this._nrt.dataItem=e}}else{let i=n.currentAddItem&&n.currentAddItem==e.dataItem?n.currentAddItem:n.addNew();n.moveCurrentTo(i),this.updateNewRowTemplate(),this._g.refresh(!0),this._g.onRowAdded(t),t.cancel&&n.cancelNew()}}}}_rowEditEnded(e,t){let n=this._g.editableCollectionView,i=this._nrt.dataItem;if(n)if(n.isAddingNew)n.commitNew();else if(i&&!t.cancel){this._nrt.dataItem=null;let e=n.addNew();for(let t in i)e[t]=i[t];this._g.onRowAdded(t),t.cancel?n.cancelNew():n.commitNew(),setTimeout(()=>{this._g.select(0,this._g.columns.firstVisibleIndex),this.updateNewRowTemplate()},20)}}}class as extends zr{}class hs{constructor(e){this._g=e,this._tbx=K('<input class="wj-grid-editor wj-form-control wj-grid-ime"/>'),te(this._tbx,hs._cssHidden),e.cells.hostElement.parentElement.appendChild(this._tbx),this._updateImeFocus();let t=e.hostElement;e.addEventListener(this._tbx,"compositionstart",this._compositionstart.bind(this)),e.addEventListener(t,"blur",this._updateImeFocus.bind(this),!0),e.addEventListener(t,"focus",this._updateImeFocus.bind(this),!0),e.addEventListener(t,"mousedown",this._mousedown.bind(this),!0),e.addEventListener(t,"mouseup",this._mouseup.bind(this),!0),e.cellEditEnded.addHandler(this._cellEditEnded,this),e.selectionChanged.addHandler(this._updateImeFocus,this)}dispose(){let e=this._g,t=e.hostElement;e.removeEventListener(this._tbx,"compositionstart"),e.removeEventListener(t,"blur"),e.removeEventListener(t,"focus"),e.removeEventListener(t,"mousedown"),e.removeEventListener(t,"mouseup"),e.cellEditEnded.removeHandler(this._cellEditEnded),e.selectionChanged.removeHandler(this._updateImeFocus),this._tbx.parentElement&&this._tbx.parentElement.removeChild(this._tbx)}_cellEditEnded(){te(this._tbx,hs._cssHidden),this._tbx.value=""}_compositionstart(){let e=this._g;if(null==e.activeEditor){let t=e._selHdl.selection;if(e.startEditing(!1,t.row,t.col,!1)){let n=e.cells.hostElement,i=e.columns[(t=e.editRange).col].pos+n.offsetLeft,r=e.rows[t.row].pos+n.offsetTop,s=e.getCellBoundingRect(t.row,t.col);if(!t.isSingleCell){let n=e.cells.getCellElement(t.row,t.col);s.width=n.offsetWidth,s.height=n.offsetHeight}t.row<e.frozenRows&&(r+=n.parentElement.scrollTop),t.col<e.frozenColumns&&(i+=n.parentElement.scrollLeft);let o=e.activeEditor;te(this._tbx,{position:"absolute",pointerEvents:"",opacity:"",left:i,top:r,width:s.width-1,height:s.height-1,zIndex:o&&o.parentElement?o.parentElement.style.zIndex:""}),o instanceof HTMLInputElement&&["minLength","maxLength","pattern"].forEach(e=>{U(this._tbx,e,o.getAttribute(e))}),e._edtHdl._edt=this._tbx}}}_mousedown(e){this._mouseDown=!0,this._updateImeFocus()}_mouseup(e){this._mouseDown=!1,this._updateImeFocus()}_updateImeFocus(){let e=this._g,t=$();if(!e.activeEditor&&!e.isTouching&&!this._mouseDown&&Z(e.hostElement,t)){let e=this._tbx;this._enableIme()?t!=e&&(e.disabled=!1,e.select()):e.disabled=!0}}_enableIme(){let e=this._g,t=e.selection,n=t.isValid?e._getBindingColumn(e.cells,t.row,e.columns[t.col]):null;return!!e.canEditCell(t.row,t.col)&&!(!n||n.dataType==ui.Boolean)}}hs._cssHidden={position:"fixed",pointerEvents:"none",opacity:0,left:-10,top:-10,width:0};var us=n("P6aB"),cs=n("t0Wy"),ds=n("7wpj");class gs extends nr.a{constructor(e,t){super(),this.sources=e,this.resultSelector=t}static create(...e){if(null===e||0===arguments.length)return new us.a;let t=null;return"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&Object(ir.a)(e[0])&&(e=e[0]),0===e.length?new us.a:new gs(e,t)}_subscribe(e){return new class extends ds.a{constructor(e,t,n){super(e),this.sources=t,this.resultSelector=n,this.completed=0,this.haveValues=0;const i=t.length;this.total=i,this.values=new Array(i);for(let r=0;r<i;r++){const e=t[r],n=Object(cs.a)(this,e,null,r);n&&(n.outerIndex=r,this.add(n))}}notifyNext(e,t,n,i,r){this.values[n]=t,r._hasValue||(r._hasValue=!0,this.haveValues++)}notifyComplete(e){const t=this.destination,{haveValues:n,resultSelector:i,values:r}=this,s=r.length;if(e._hasValue){if(this.completed++,this.completed===s){if(n===s){const e=i?i.apply(this,r):r;t.next(e)}t.complete()}}else t.complete()}}(e,this.sources,this.resultSelector)}}const ps=gs.create;class fs extends nr.a{constructor(e,t){super(),this.promise=e,this.scheduler=t}static create(e,t){return new fs(e,t)}_subscribe(e){const t=this.promise,n=this.scheduler;if(null==n)this._isScalar?e.closed||(e.next(this.value),e.complete()):t.then(t=>{this.value=t,this._isScalar=!0,e.closed||(e.next(t),e.complete())},t=>{e.closed||e.error(t)}).then(null,e=>{rr.a.setTimeout(()=>{throw e})});else if(this._isScalar){if(!e.closed)return n.schedule(ye,0,{value:this.value,subscriber:e})}else t.then(t=>{this.value=t,this._isScalar=!0,e.closed||e.add(n.schedule(ye,0,{value:t,subscriber:e}))},t=>{e.closed||e.add(n.schedule(be,0,{err:t,subscriber:e}))}).then(null,e=>{rr.a.setTimeout(()=>{throw e})})}}const _s=fs.create;var ms=n("WJ2g");class ws{}const vs=new si.o("Location Initialized");class Cs{}const ys=new si.o("appBaseHref");class bs{constructor(e){this._subject=new si.m,this._platformStrategy=e;const t=this._platformStrategy.getBaseHref();this._baseHref=bs.stripTrailingSlash(xe(t)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+bs.normalizeQueryParams(t))}normalize(e){return bs.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,xe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t=""){this._platformStrategy.pushState(null,"",e,t)}replaceState(e,t=""){this._platformStrategy.replaceState(null,"",e,t)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}static normalizeQueryParams(e){return e&&"?"!==e[0]?"?"+e:e}static joinWithSlash(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}static stripTrailingSlash(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}}var Es=["en",[["a","p"],["AM","PM"]],[["AM","PM"],,],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",,"{1} 'at' {0}"],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];const xs={},Ss=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),Rs=new si.o("UseV4Plurals");class Ts{}class As extends Ts{constructor(e,t){super(),this.locale=e,this.deprecatedPluralFn=t}getPluralCategory(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):function(e){return function(e){const t=e.toLowerCase().replace(/_/g,"-");let n=xs[t];if(n)return n;const i=t.split("-")[0];if(n=xs[i])return n;if("en"===i)return Es;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[17]}(t||this.locale)(e)){case Ss.Zero:return"zero";case Ss.One:return"one";case Ss.Two:return"two";case Ss.Few:return"few";case Ss.Many:return"many";default:return"other"}}}const Ms=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Is=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,ks={yMMMdjms:Ne(Pe([Ie("year",1),ke("month",3),Ie("day",1),Ie("hour",1),Ie("minute",1),Ie("second",1)])),yMdjm:Ne(Pe([Ie("year",1),Ie("month",1),Ie("day",1),Ie("hour",1),Ie("minute",1)])),yMMMMEEEEd:Ne(Pe([Ie("year",1),ke("month",4),ke("weekday",4),Ie("day",1)])),yMMMMd:Ne(Pe([Ie("year",1),ke("month",4),Ie("day",1)])),yMMMd:Ne(Pe([Ie("year",1),ke("month",3),Ie("day",1)])),yMd:Ne(Pe([Ie("year",1),Ie("month",1),Ie("day",1)])),jms:Ne(Pe([Ie("hour",1),Ie("second",1),Ie("minute",1)])),jm:Ne(Pe([Ie("hour",1),Ie("minute",1)]))},Ps={yyyy:Ne(Ie("year",4)),yy:Ne(Ie("year",2)),y:Ne(Ie("year",1)),MMMM:Ne(ke("month",4)),MMM:Ne(ke("month",3)),MM:Ne(Ie("month",2)),M:Ne(Ie("month",1)),LLLL:Ne(ke("month",4)),L:Ne(ke("month",1)),dd:Ne(Ie("day",2)),d:Ne(Ie("day",1)),HH:Se(Re(Ne(Me(Ie("hour",2),!1)))),H:Re(Ne(Me(Ie("hour",1),!1))),hh:Se(Re(Ne(Me(Ie("hour",2),!0)))),h:Re(Ne(Me(Ie("hour",1),!0))),jj:Ne(Ie("hour",2)),j:Ne(Ie("hour",1)),mm:Se(Ne(Ie("minute",2))),m:Ne(Ie("minute",1)),ss:Se(Ne(Ie("second",2))),s:Ne(Ie("second",1)),sss:Ne(Ie("second",3)),EEEE:Ne(ke("weekday",4)),EEE:Ne(ke("weekday",3)),EE:Ne(ke("weekday",2)),E:Ne(ke("weekday",1)),a:function(e){return function(t,n){return e(t,n).split(" ")[1]}}(Ne(Me(Ie("hour",1),!0))),Z:Ae("short"),z:Ae("long"),ww:Ne({}),w:Ne({}),G:Ne(ke("era",1)),GG:Ne(ke("era",2)),GGG:Ne(ke("era",3)),GGGG:Ne(ke("era",4))},Ns=new Map;class Ds{static format(e,t,n){return function(e,t,n){const i=ks[e];if(i)return i(t,n);const r=e;let s=Ns.get(r);if(!s){s=[];let t;Is.exec(e);let n=e;for(;n;)(t=Is.exec(n))?n=(s=s.concat(t.slice(1))).pop():(s.push(n),n=null);Ns.set(r,s)}return s.reduce((e,i)=>{const r=Ps[i];return e+(r?r(t,n):"''"===i?"'":i.replace(/(^'|'$)/g,"").replace(/''/g,"'"))},"")}(n,e,t)}}class Os{constructor(e){this._locale=e}transform(e,t="mediumDate"){if(null==e||""===e||e!=e)return null;let n;if("string"==typeof e&&(e=e.trim()),De(e))n=e;else if(isNaN(e-parseFloat(e)))if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,i,r]=e.split("-").map(e=>parseInt(e,10));n=new Date(t,i-1,r)}else n=new Date(e);else n=new Date(parseFloat(e));if(!De(n)){let t;if("string"!=typeof e||!(t=e.match(Ms)))throw function(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${Object(si._20)(e)}'`)}(Os,e);n=function(e){const t=new Date(0);let n=0,i=0;const r=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=+(e[9]+e[10]),i=+(e[9]+e[11])),(e[8]?t.setUTCFullYear:t.setFullYear).call(t,+e[1],+e[2]-1,+e[3]);const s=+(e[4]||"0")-n,o=+(e[5]||"0")-i,l=+(e[6]||"0"),a=Math.round(1e3*parseFloat("0."+(e[7]||0)));return r.call(t,s,o,l,a),t}(t)}return Ds.format(n,this._locale,Os._ALIASES[t]||t)}}Os._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},new class{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}},new class{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}};class Vs{}const Hs=new si.o("DocumentToken");new si.M("5.1.2");let zs=null;class Ls{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(e){this._attrToPropMap=e}}class Fs extends Ls{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let n=0;n<t.length;n++)if(null!=this.getStyle(e,t[n]+"AnimationName")){this._animationPrefix="-"+t[n].toLowerCase()+"-";break}}const t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(t).forEach(n=>{null!=this.getStyle(e,n)&&(this._transitionEnd=t[n])})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(e){return e.getDistributedNodes()}resolveAndSetHref(e,t,n){e.href=null==n?t:t+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const js={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Bs=3,Us={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gs={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};let $s;si._6.Node&&($s=si._6.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))});class Ws extends Fs{parse(e){throw new Error("parse not implemented")}static makeCurrent(){!function(e){zs||(zs=e)}(new Ws)}hasProperty(e,t){return t in e}setProperty(e,t,n){e[t]=n}getProperty(e,t){return e[t]}invoke(e,t,n){e[t](...n)}logError(e){window.console&&(console.error?console.error(e):console.log(e))}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return js}contains(e,t){return $s.call(e,t)}querySelector(e,t){return e.querySelector(t)}querySelectorAll(e,t){return e.querySelectorAll(t)}on(e,t,n){e.addEventListener(t,n,!1)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}createMouseEvent(e){const t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}createEvent(e){const t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}preventDefault(e){e.preventDefault(),e.returnValue=!1}isPrevented(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}getInnerHTML(e){return e.innerHTML}getTemplateContent(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}getOuterHTML(e){return e.outerHTML}nodeName(e){return e.nodeName}nodeValue(e){return e.nodeValue}type(e){return e.type}content(e){return this.hasProperty(e,"content")?e.content:e}firstChild(e){return e.firstChild}nextSibling(e){return e.nextSibling}parentElement(e){return e.parentNode}childNodes(e){return e.childNodes}childNodesAsList(e){const t=e.childNodes,n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=t[i];return n}clearNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}appendChild(e,t){e.appendChild(t)}removeChild(e,t){e.removeChild(t)}replaceChild(e,t,n){e.replaceChild(t,n)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}insertBefore(e,t,n){e.insertBefore(n,t)}insertAllBefore(e,t,n){n.forEach(n=>e.insertBefore(n,t))}insertAfter(e,t,n){e.insertBefore(n,t.nextSibling)}setInnerHTML(e,t){e.innerHTML=t}getText(e){return e.textContent}setText(e,t){e.textContent=t}getValue(e){return e.value}setValue(e,t){e.value=t}getChecked(e){return e.checked}setChecked(e,t){e.checked=t}createComment(e){return this.getDefaultDocument().createComment(e)}createTemplate(e){const t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createElementNS(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}createTextNode(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}createScriptTag(e,t,n){const i=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return i.setAttribute(e,t),i}createStyleElement(e,t){const n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}createShadowRoot(e){return e.createShadowRoot()}getShadowRoot(e){return e.shadowRoot}getHost(e){return e.host}clone(e){return e.cloneNode(!0)}getElementsByClassName(e,t){return e.getElementsByClassName(t)}getElementsByTagName(e,t){return e.getElementsByTagName(t)}classList(e){return Array.prototype.slice.call(e.classList,0)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}hasClass(e,t){return e.classList.contains(t)}setStyle(e,t,n){e.style[t]=n}removeStyle(e,t){e.style[t]=""}getStyle(e,t){return e.style[t]}hasStyle(e,t,n){const i=this.getStyle(e,t)||"";return n?i==n:i.length>0}tagName(e){return e.tagName}attributeMap(e){const t=new Map,n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i);t.set(e.name,e.value)}return t}hasAttribute(e,t){return e.hasAttribute(t)}hasAttributeNS(e,t,n){return e.hasAttributeNS(t,n)}getAttribute(e,t){return e.getAttribute(t)}getAttributeNS(e,t,n){return e.getAttributeNS(t,n)}setAttribute(e,t,n){e.setAttribute(t,n)}setAttributeNS(e,t,n,i){e.setAttributeNS(t,n,i)}removeAttribute(e,t){e.removeAttribute(t)}removeAttributeNS(e,t,n){e.removeAttributeNS(t,n)}templateAwareRoot(e){return this.isTemplateElement(e)?this.content(e):e}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(e){try{return e.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(e){return e.title}setTitle(e,t){e.title=t||""}elementMatches(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}isTemplateElement(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}isTextNode(e){return e.nodeType===Node.TEXT_NODE}isCommentNode(e){return e.nodeType===Node.COMMENT_NODE}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}hasShadowRoot(e){return null!=e.shadowRoot&&e instanceof HTMLElement}isShadowRoot(e){return e instanceof DocumentFragment}importIntoDoc(e){return document.importNode(this.templateAwareRoot(e),!0)}adoptNode(e){return document.adoptNode(e)}getHref(e){return e.getAttribute("href")}getEventKey(e){let t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),e.location===Bs&&Gs.hasOwnProperty(t)&&(t=Gs[t]))}return Us[t]||t}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=Ks||(Ks=document.querySelector("base"))?Ks.getAttribute("href"):null;return null==t?null:function(e){return qs||(qs=document.createElement("a")),qs.setAttribute("href",e),"/"===qs.pathname.charAt(0)?qs.pathname:"/"+qs.pathname}(t)}resetBaseElement(){Ks=null}getUserAgent(){return window.navigator.userAgent}setData(e,t,n){this.setAttribute(e,"data-"+t,n)}getData(e,t){return this.getAttribute(e,"data-"+t)}getComputedStyle(e){return getComputedStyle(e)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return function(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[i,r]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(i.trim()===t)return decodeURIComponent(r)}return null}(document.cookie,e)}setCookie(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}}let qs,Ks=null;const Ys=Hs;class Zs extends ws{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=Oe().getLocation(),this._history=Oe().getHistory()}getBaseHrefFromDOM(){return Oe().getBaseHref(this._doc)}onPopState(e){Oe().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){Oe().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){Ve()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){Ve()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}}Zs.ctorParameters=(()=>[{type:void 0,decorators:[{type:si.n,args:[Ys]}]}]);class Qs{constructor(e){this._doc=e,this._dom=Oe()}addTag(e,t=!1){return e?this._getOrCreateElement(e,t):null}addTags(e,t=!1){return e?e.reduce((e,n)=>(n&&e.push(this._getOrCreateElement(n,t)),e),[]):[]}getTag(e){return e?this._dom.querySelector(this._doc,`meta[${e}]`)||null:null}getTags(e){if(!e)return[];const t=this._dom.querySelectorAll(this._doc,`meta[${e}]`);return t?[].slice.call(t):[]}updateTag(e,t){if(!e)return null;t=t||this._parseSelector(e);const n=this.getTag(t);return n?this._setMetaElementAttributes(e,n):this._getOrCreateElement(e,!0)}removeTag(e){this.removeTagElement(this.getTag(e))}removeTagElement(e){e&&this._dom.remove(e)}_getOrCreateElement(e,t=!1){if(!t){const t=this._parseSelector(e),n=this.getTag(t);if(n&&this._containsAttributes(e,n))return n}const n=this._dom.createElement("meta");this._setMetaElementAttributes(e,n);const i=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(i,n),n}_setMetaElementAttributes(e,t){return Object.keys(e).forEach(n=>this._dom.setAttribute(t,n,e[n])),t}_parseSelector(e){const t=e.name?"name":"property";return`${t}="${e[t]}"`}_containsAttributes(e,t){return Object.keys(e).every(n=>this._dom.getAttribute(t,n)===e[n])}}const Js=new si.o("TRANSITION_ID"),Xs=[{provide:si.d,useFactory:function(e,t,n){return()=>{n.get(si.e).donePromise.then(()=>{const n=Oe();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(t=>n.getAttribute(t,"ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[Js,Ys,si.p],multi:!0}];class eo{static init(){Object(si.W)(new eo)}addToWindow(e){si._6.getAngularTestability=((t,n=!0)=>{const i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i}),si._6.getAllAngularTestabilities=(()=>e.getAllTestabilities()),si._6.getAllAngularRootElements=(()=>e.getAllRootElements()),si._6.frameworkStabilizers||(si._6.frameworkStabilizers=[]),si._6.frameworkStabilizers.push(e=>{const t=si._6.getAllAngularTestabilities();let n=t.length,i=!1;const r=function(t){i=i||t,0==--n&&e(i)};t.forEach(function(e){e.whenStable(r)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:n?Oe().isShadowRoot(t)?this.findTestabilityInTree(e,Oe().getHost(t),!0):this.findTestabilityInTree(e,Oe().parentElement(t),!0):null}}class to{constructor(e){this._doc=e}getTitle(){return Oe().getTitle(this._doc)}setTitle(e){Oe().setTitle(this._doc,e)}}const no={ApplicationRef:si.g,NgZone:si.x},io=(new si.y,new si.o("EventManagerPlugins"));class ro{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let i=0;i<n.length;i++){const t=n[i];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}class so{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const i=Oe().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,n)}}class oo{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}class lo extends oo{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>Oe().remove(e))}}const ao={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ho=/%COMP%/g,uo="_nghost-%COMP%",co="_ngcontent-%COMP%";class go{constructor(e,t){this.eventManager=e,this.sharedStylesHost=t,this.rendererByCompId=new Map,this.defaultRenderer=new po(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case si.O.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new class extends po{constructor(e,t,n){super(e),this.component=n;const i=Le(n.id,n.styles,[]);t.addStyles(i),this.contentAttr=co.replace(ho,n.id),this.hostAttr=uo.replace(ho,n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}(this.eventManager,this.sharedStylesHost,t),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case si.O.Native:return new class extends po{constructor(e,t,n,i){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=i,this.shadowRoot=n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const r=Le(i.id,i.styles,[]);for(let s=0;s<r.length;s++){const e=document.createElement("style");e.textContent=r[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Le(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class po{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(ao[t],e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e){let t="string"==typeof e?document.querySelector(e):e;if(!t)throw new Error(`The selector "${e}" did not match any elements`);return t.textContent="",t}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,i){if(i){t=`${i}:${t}`;const r=ao[i];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const i=ao[n];i?e.removeAttributeNS(i,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&si.E.DashCase?e.style.setProperty(t,n,i&si.E.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&si.E.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){je(t,"property"),e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return je(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Fe(n)):this.eventManager.addEventListener(e,t,Fe(n))}}const fo="@".charCodeAt(0),_o="undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e},mo=_o("addEventListener"),wo=_o("removeEventListener"),vo={},Co="removeEventListener",yo="__zone_symbol__propagationStopped",bo="__zone_symbol__stopImmediatePropagation",Eo="undefined"!=typeof Zone&&Zone[_o("BLACK_LISTED_EVENTS")];let xo;Eo&&(xo={},Eo.forEach(e=>{xo[e]=e}));const So=function(e){return!!xo&&xo.hasOwnProperty(e)},Ro=function(e){const t=vo[e.type];if(!t)return;const n=this[t];if(!n)return;const i=[e];if(1===n.length){const e=n[0];return e.zone!==Zone.current?e.zone.run(e.handler,this,i):e.handler.apply(this,i)}{const t=n.slice();for(let n=0;n<t.length&&!0!==e[yo];n++){const e=t[n];e.zone!==Zone.current?e.zone.run(e.handler,this,i):e.handler.apply(this,i)}}},To={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Ao=new si.o("HammerGestureConfig");class Mo{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const n in this.overrides)t.get(n).set(this.overrides[n]);return t}}const Io=["alt","control","meta","shift"],ko={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};class Po extends so{constructor(e){super(e)}supports(e){return null!=Po.parseEventName(e)}addEventListener(e,t,n){const i=Po.parseEventName(t),r=Po.eventCallback(i.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Oe().onAndCancel(e,i.domEventName,r))}static parseEventName(e){const t=e.toLowerCase().split("."),n=t.shift();if(0===t.length||"keydown"!==n&&"keyup"!==n)return null;const i=Po._normalizeKey(t.pop());let r="";if(Io.forEach(e=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),r+=e+".")}),r+=i,0!=t.length||0===i.length)return null;const s={};return s.domEventName=n,s.fullKey=r,s}static getEventFullKey(e){let t="",n=Oe().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Io.forEach(i=>{i!=n&&(0,ko[i])(e)&&(t+=i+".")}),t+=n}static eventCallback(e,t,n){return i=>{Po.getEventFullKey(i)===e&&n.runGuarded(()=>t(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}const No=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Do=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;let Oo=null,Vo=null;const Ho=Ue("area,br,col,hr,img,wbr"),zo=Ue("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Lo=Ue("rp,rt"),Fo=Ge(Lo,zo),jo=Ge(zo,Ue("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bo=Ge(Lo,Ue("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Uo=Ge(Ho,jo,Bo,Fo),Go=Ue("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$o=Ue("srcset"),Wo=Ue("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qo=Ge(Go,$o,Wo),Ko=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yo=/([^\#-~ |!])/g,Zo=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Qo=/^url\(([^)]+)\)$/;class Jo{}class Xo extends Jo{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case si.G.NONE:return t;case si.G.HTML:return t instanceof tl?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),function(e,t){try{const n=function(){if(Oo)return Oo;const e=(Vo=Oe()).createElement("template");if("content"in e)return e;const t=Vo.createHtmlDocument();if(null==(Oo=Vo.querySelector(t,"body"))){const e=Vo.createElement("html",t);Oo=Vo.createElement("body",t),Vo.appendChild(e,Oo),Vo.appendChild(t,e)}return Oo}();let i=t?String(t):"",r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,Vo.setInnerHTML(n,i=s),e.documentMode&&qe(n),s=Vo.getInnerHTML(n)}while(i!==s);const o=new class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild;for(;t;)if(Vo.isElementNode(t)?this.startElement(t):Vo.isTextNode(t)?this.chars(Vo.nodeValue(t)):this.sanitizedSomething=!0,Vo.firstChild(t))t=Vo.firstChild(t);else for(;t;){Vo.isElementNode(t)&&this.endElement(t);let e=$e(t,Vo.nextSibling(t));if(e){t=e;break}t=$e(t,Vo.parentElement(t))}return this.buf.join("")}startElement(e){const t=Vo.nodeName(e).toLowerCase();Uo.hasOwnProperty(t)?(this.buf.push("<"),this.buf.push(t),Vo.attributeMap(e).forEach((e,t)=>{const n=t.toLowerCase();qo.hasOwnProperty(n)?(Go[n]&&(e=Be(e)),$o[n]&&(e=function(e){return(e=String(e)).split(",").map(e=>Be(e.trim())).join(", ")}(e)),this.buf.push(" "),this.buf.push(t),this.buf.push('="'),this.buf.push(We(e)),this.buf.push('"')):this.sanitizedSomething=!0}),this.buf.push(">")):this.sanitizedSomething=!0}endElement(e){const t=Vo.nodeName(e).toLowerCase();Uo.hasOwnProperty(t)&&!Ho.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(We(e))}},l=o.sanitizeChildren(Vo.getTemplateContent(n)||n),a=Vo.getTemplateContent(n)||n;for(const e of Vo.childNodesAsList(a))Vo.removeChild(a,e);return Object(si.U)()&&o.sanitizedSomething&&Vo.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),l}catch(e){throw Oo=null,e}}(this._doc,String(t)));case si.G.STYLE:return t instanceof nl?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),function(e){if(!(e=String(e).trim()))return"";const t=e.match(Qo);return t&&Be(t[1])===t[1]||e.match(Zo)&&function(e){let t=!0,n=!0;for(let i=0;i<e.length;i++){const r=e.charAt(i);"'"===r&&n?t=!t:'"'===r&&t&&(n=!n)}return t&&n}(e)?e:(Object(si.U)()&&Oe().log(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}(t));case si.G.SCRIPT:if(t instanceof il)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case si.G.URL:return t instanceof sl||t instanceof rl?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),Be(String(t)));case si.G.RESOURCE_URL:if(t instanceof sl)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(e,t){if(e instanceof el)throw new Error(`Required a safe ${t}, got a ${e.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(e){return new tl(e)}bypassSecurityTrustStyle(e){return new nl(e)}bypassSecurityTrustScript(e){return new il(e)}bypassSecurityTrustUrl(e){return new rl(e)}bypassSecurityTrustResourceUrl(e){return new sl(e)}}class el{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class tl extends el{getTypeName(){return"HTML"}}class nl extends el{getTypeName(){return"Style"}}class il extends el{getTypeName(){return"Script"}}class rl extends el{getTypeName(){return"URL"}}class sl extends el{getTypeName(){return"ResourceURL"}}const ol=[{provide:si.z,useValue:"browser"},{provide:si.A,useValue:function(){Ws.makeCurrent(),eo.init()},multi:!0},{provide:ws,useClass:Zs,deps:[Ys]},{provide:Ys,useFactory:function(){return document},deps:[]}],ll=Object(si.Q)(si.V,"browser",ol);class al{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:al,providers:[{provide:si.c,useValue:e.appId},{provide:Js,useExisting:si.c},Xs]}}}"undefined"!=typeof window&&window,new si.M("5.1.2");class hl{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ul extends hl{get formDirective(){return null}get path(){return null}}new si.o("NgValidators"),new si.o("NgAsyncValidators");const cl=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;class dl{static min(e){return t=>{if(Ye(t.value)||Ye(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(Ye(t.value)||Ye(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return Ye(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return cl.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if(Ye(t.value))return null;const n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}static maxLength(e){return t=>{const n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}static pattern(e){if(!e)return dl.nullValidator;let t,n;return"string"==typeof e?(n=`^${e}$`,t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(Ye(e.value))return null;const i=e.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(Ze);return 0==t.length?null:function(e){return Je(function(e,n){return t.map(t=>t(e))}(e))}}static composeAsync(e){if(!e)return null;const t=e.filter(Ze);return 0==t.length?null:function(e){const n=function(e,n){return t.map(t=>t(e))}(e).map(Qe);return Ee.call(ps(n),Je)}}}const gl=new si.o("NgValueAccessor");Object(si.S)(()=>pl);class pl{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=(e=>{}),this.onTouched=(()=>{})}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}Object(si.S)(()=>fl),new si.o("CompositionEventMode");class fl{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=(e=>{}),this.onTouched=(()=>{}),this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=Oe()?Oe().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}Object(si.S)(()=>_l);class _l{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=(e=>{}),this.onTouched=(()=>{})}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=(t=>{e(""==t?null:parseFloat(t))})}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}class ml extends hl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return tt()}get asyncValidator(){return tt()}}Object(si.S)(()=>wl);class wl{constructor(e,t,n,i){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=i,this.onChange=(()=>{}),this.onTouched=(()=>{})}ngOnInit(){this._control=this._injector.get(ml),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=(()=>{e(this.value),this._registry.select(this)})}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}Object(si.S)(()=>vl);class vl{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=(e=>{}),this.onTouched=(()=>{})}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=(t=>{e(""==t?null:parseFloat(t))})}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}Object(si.S)(()=>Cl);class Cl{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=(e=>{}),this.onTouched=(()=>{}),this._compareWith=si._12}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(e,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}(0,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=(t=>{this.value=this._getOptionValue(t),e(this.value)})}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=e.split(":")[0];return this._optionMap.has(t)?this._optionMap.get(t):e}}Object(si.S)(()=>yl);class yl{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=(e=>{}),this.onTouched=(()=>{}),this._compareWith=si._12}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){this.value=e;let t;if(Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=((e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)})}else t=((e,t)=>{e._setSelected(!1)});this._optionMap.forEach(t)}registerOnChange(e){this.onChange=(t=>{const n=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const i=e.item(t),r=this._getOptionValue(i.value);n.push(r)}}else{const e=t.options;for(let t=0;t<e.length;t++){const i=e.item(t);if(i.selected){const e=this._getOptionValue(i.value);n.push(e)}}}this.value=n,e(n)})}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=e.split(":")[0];return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}const bl=[pl,vl,_l,Cl,yl,wl];class El extends ul{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return nt(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return at(this._validators)}get asyncValidator(){return ht(this._asyncValidators)}_checkParentType(){}}const xl="VALID",Sl="INVALID",Rl="PENDING",Tl="DISABLED";class Al{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=(()=>{}),this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===xl}get invalid(){return this.status===Sl}get pending(){return this.status==Rl}get disabled(){return this.status===Tl}get enabled(){return this.status!==Tl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=pt(e)}setAsyncValidators(e){this.asyncValidator=ft(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Rl,this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){this.status=Tl,this.errors=null,this._forEachChild(e=>{e.disable({onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(!!e.onlySelf),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){this.status=xl,this._forEachChild(e=>{e.enable({onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(!!e.onlySelf),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e&&(this._parent.updateValueAndValidity(),this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==xl&&this.status!==Rl||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tl:xl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Rl;const t=Qe(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce((e,t)=>e instanceof Il?e.controls[t]||null:e instanceof class extends Al{constructor(e,t,n){super(pt(t),ft(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t),this._updatePristine(t),this._updateTouched(t)}getRawValue(){return this.controls.map(e=>e instanceof Ml?e.value:e.getRawValue())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}?e.at(t)||null:null,e))}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new si.m,this.statusChanges=new si.m}_calculateStatus(){return this._allControlsDisabled()?Tl:this.errors?Sl:this._anyControlsHaveStatus(Rl)?Rl:this._anyControlsHaveStatus(Sl)?Sl:xl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){_t(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}}class Ml extends Al{constructor(e=null,t,n){super(pt(t),ft(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=(()=>{})}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Il extends Al{constructor(e,t,n){super(pt(t),ft(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t),this._updatePristine(t),this._updateTouched(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof Ml?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((n,i)=>{t=t||this.contains(i)&&e(n)}),t}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,i)=>{n=t(n,e,i)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}Object(si.S)(()=>Pl);const kl=Promise.resolve(null);class Pl extends ul{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new si.m,this.form=new Il({},at(e),ht(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){kl.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),it(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){kl.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),gt(this._directives,e)})}addFormGroup(e){kl.then(()=>{const t=this._findContainer(e.path),n=new Il({});st(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){kl.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){kl.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,ct(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}const Nl={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};class Dl{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${Nl.formControlName}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ${Nl.ngModelWithFormGroup}`)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${Nl.formGroupName}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${Nl.ngModelGroup}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${Nl.formGroupName}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${Nl.ngModelGroup}`)}}Object(si.S)(()=>Ol);class Ol extends El{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){this._parent instanceof Ol||this._parent instanceof Pl||Dl.modelGroupParentException()}}Object(si.S)(()=>class extends ml{constructor(e,t,n,i){super(),this.control=new Ml,this._registered=!1,this.update=new si.m,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=dt(this,i)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),ut(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?nt(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return at(this._rawValidators)}get asyncValidator(){return ht(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){it(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof Ol)&&this._parent instanceof El?Dl.formGroupNameException():this._parent instanceof Ol||this._parent instanceof Pl||Dl.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Dl.missingNameException()}_updateValue(e){Vl.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;Vl.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}});const Vl=Promise.resolve(null);class Hl{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Nl.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${Nl.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${Nl.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${Nl.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Nl.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${Nl.formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}}Object(si.S)(()=>class extends ml{constructor(e,t,n){super(),this.update=new si.m,this._rawValidators=e||[],this._rawAsyncValidators=t||[],this.valueAccessor=dt(this,n)}set isDisabled(e){Hl.disabledAttrWarning()}ngOnChanges(e){this._isControlChanged(e)&&(it(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),ut(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return at(this._rawValidators)}get asyncValidator(){return ht(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}),Object(si.S)(()=>zl);class zl extends ul{constructor(e,t){super(),this._validators=e,this._asyncValidators=t,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new si.m}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return it(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){gt(this.directives,e)}addFormGroup(e){const t=this.form.get(e.path);st(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormGroup(e){}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){const t=this.form.get(e.path);st(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormArray(e){}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,ct(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=this.form.get(e.path);e.control!==t&&(function(e,t){t.valueAccessor.registerOnChange(()=>ot(t)),t.valueAccessor.registerOnTouched(()=>ot(t)),t._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}(e.control,e),t&&it(t,e),e.control=t)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const e=at(this._validators);this.form.validator=dl.compose([this.form.validator,e]);const t=ht(this._asyncValidators);this.form.asyncValidator=dl.composeAsync([this.form.asyncValidator,t])}_checkFormPresent(){this.form||Hl.missingFormException()}}Object(si.S)(()=>Ll);class Ll extends El{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){mt(this._parent)&&Hl.groupParentException()}}Object(si.S)(()=>Fl);class Fl extends ul{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return nt(this.name,this._parent)}get validator(){return at(this._validators)}get asyncValidator(){return ht(this._asyncValidators)}_checkParentType(){mt(this._parent)&&Hl.arrayParentException()}}Object(si.S)(()=>class extends ml{constructor(e,t,n,i){super(),this._added=!1,this.update=new si.m,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=dt(this,i)}set isDisabled(e){Hl.disabledAttrWarning()}ngOnChanges(e){this._added||this._setUpControl(),ut(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return nt(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return at(this._rawValidators)}get asyncValidator(){return ht(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof Ll)&&this._parent instanceof El?Hl.ngModelGroupException():this._parent instanceof Ll||this._parent instanceof zl||this._parent instanceof Fl||Hl.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}),Object(si.S)(()=>jl),Object(si.S)(()=>class extends jl{validate(e){return this.required?dl.requiredTrue(e):null}});class jl{get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!==`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?dl.required(e):null}registerOnValidatorChange(e){this._onChange=e}}Object(si.S)(()=>class{set email(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}validate(e){return this._enabled?dl.email(e):null}registerOnValidatorChange(e){this._onChange=e}}),Object(si.S)(()=>class{ngOnChanges(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null==this.minlength?null:this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=dl.minLength(parseInt(this.minlength,10))}}),Object(si.S)(()=>class{ngOnChanges(e){"maxlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null!=this.maxlength?this._validator(e):null}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=dl.maxLength(parseInt(this.maxlength,10))}}),Object(si.S)(()=>class{ngOnChanges(e){"pattern"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=dl.pattern(this.pattern)}}),new si.M("5.1.2");class Bl{}Bl.asyncBindings=!0;class Ul{constructor(e){this.changeEventMap=[],this.allImplEvents=[],this.resolveChangeEventMap(e)}resolveChangeEventMap(e){let t=this.changeEventMap,n=e.outputs,i=e.changeEvents||{};if(t.splice(0,t.length),this.allImplEvents=[],!n||!n.length)return;let r=n.map(e=>e.split(":")).map(e=>({implName:e[0].trim(),exposeName:e[1]&&e[1].trim()}));this.allImplEvents=r.map(e=>e.implName);let s=r.filter(e=>e.implName&&e.exposeName);for(let o of s)if($l.getWjEventName(o.implName)){let e={eventImpl:o.implName,event:o.exposeName},n=i[o.exposeName];n&&n.length&&(e.props=n.map(e=>({prop:e,evExposed:$l.getChangeEventNameExposed(e),evImpl:$l.getChangeEventNameImplemented(e)}))),t.push(e)}for(let o in i)if(o.indexOf(".")>-1){let e={eventImpl:null,event:o,props:i[o].map(e=>({prop:e,evExposed:$l.getChangeEventNameExposed(e),evImpl:$l.getChangeEventNameImplemented(e)}))};t.push(e)}}}class Gl{constructor(e,t,n,i){this._pendingEvents=[],this.isInitialized=!1,this.isDestroyed=!1,this.directive=e,this.elementRef=t,this.injector=n,this.injectedParent=i;let r=this.typeData=e.constructor[Gl.directiveTypeDataProp];null==r.siblingId&&(r.siblingId=++Gl.siblingDirId+"");let s=e.constructor[Gl.directiveResolvedTypeDataProp];s?this.resolvedTypeData=s:e.constructor[Gl.directiveResolvedTypeDataProp]=s=this.resolvedTypeData=new Ul(r),e[Gl.BehaviourRefProp]=this,n[Gl.BehaviourRefProp]=this,e[Gl.isInitializedPropAttr]=!1,this._createEvents(),this._setupAsChild(),this._isHostElement()&&t.nativeElement.setAttribute(Gl.siblingDirIdAttr,r.siblingId),this.subscribeToEvents(!1)}static getHostElement(e,t){return Gl.ngZone||(Gl.ngZone=t.get(si.x)),e.nativeElement}static attach(e,t,n,i){return new Gl(e,t,n,i)}ngOnInit(){this.isInitialized=!0,this._initParent(),this.subscribeToEvents(!0)}ngAfterViewInit(){this.directive[Gl.isInitializedPropAttr]=!0,this.directive[Gl.initializedEventAttr].emit(void 0)}ngOnDestroy(){if(!this.isDestroyed){this.isDestroyed=!0;var e=this.directive;if(this._siblingInsertedEH&&this.elementRef.nativeElement.removeEventListener("DOMNodeInserted",this._siblingInsertedEH),this._isChild()&&this.parentBehavior){let n=this.parentBehavior.directive,i=this._getParentProp();if(!this.parentBehavior.isDestroyed&&n&&i&&e){let r=n[i];if(p(r)&&r){var t=r.indexOf(e);t>=0&&r.splice(t,1)}}}if(e instanceof Si&&e.hostElement){let t=this.elementRef.nativeElement,n=t&&t.parentNode,i=n?Array.prototype.indexOf.call(n.childNodes,t):-1;e.dispose(),i>-1&&Array.prototype.indexOf.call(n.childNodes,t)<0&&(t.textContent="",i<n.childNodes.length&&n.replaceChild(t,n.childNodes[i]))}this.injector[Gl.BehaviourRefProp]=null}}static instantiateTemplate(e,t,n,i,r=!1,s={}){var o,l=t.createEmbeddedView(n,s,t.length),a=l.rootNodes;if(r&&1===a.length)o=a[0];else{o=document.createElement("div");for(let e of a)o.appendChild(e)}return e&&e.appendChild(o),{viewRef:l,rootElement:o}}getPropChangeEvent(e){let t=this.typeData.changeEvents;if(t)for(let n in t)if(t[n].indexOf(e)>-1)return n;return null}_createEvents(){let e=this.resolvedTypeData.allImplEvents;for(let t of e)this.directive[t]=new si.m("initialized"===t)}subscribeToEvents(e){var t=this.resolvedTypeData.changeEventMap;e=!!e;for(let n of t)e!==n.event.indexOf(".")<0&&this.addHandlers(n);if(e)for(let n of t)this.triggerPropChangeEvents(n,!0)}addHandlers(e){let t=this.directive;Gl.evaluatePath(t,e.event).addHandler((n,i)=>{this._runInsideNgZone(()=>{this.isInitialized&&this.triggerPropChangeEvents(e),e.eventImpl&&this._triggerEvent(t[e.eventImpl],i,e.props&&e.props.length>0)})})}triggerPropChangeEvents(e,t=!0){let n=this.directive;if(e.props&&e.props.length)for(let i of e.props)this._triggerEvent(n[i.evImpl],n[i.prop],t)}_setupAsChild(){this._isChild()&&(this._isHostElement()&&(this.elementRef.nativeElement.style.display="none"),this.parentBehavior=Gl.getBehavior(this.injectedParent))}_isAsyncBinding(){let e=this.directive[Gl.asyncBindingUpdatePropAttr];return null==e?Bl.asyncBindings:e}_isChild(){return this._isParentInitializer()||this._isParentReferencer()}_isParentInitializer(){return null!=this.directive[Gl.parPropAttr]}_isParentReferencer(){return!!this.typeData.parentRefProperty}_getParentProp(){return this.directive[Gl.parPropAttr]}_getParentReferenceProperty(){return this.typeData.parentRefProperty}_useParentObj(){return!1}_parentInCtor(){return this._isParentReferencer()&&""==this._getParentReferenceProperty()}_initParent(){if(this.parentBehavior&&!this._useParentObj()){var e=this.parentBehavior.directive,t=this._getParentProp(),n=this.directive;if(this._isParentInitializer()){this._getParentProp();let i=e[t];if(p(i)){let e=this._isHostElement(),t=e?this._getSiblingIndex():-1;(t<0||t>=i.length)&&(t=i.length),i.splice(t,0,n),e&&(this._siblingInsertedEH=this._siblingInserted.bind(this),this.elementRef.nativeElement.addEventListener("DOMNodeInserted",this._siblingInsertedEH))}else e[t]=n}this._isParentReferencer()&&!this._parentInCtor()&&(n[this._getParentReferenceProperty()]=e)}}_getSiblingIndex(){var e=this.elementRef.nativeElement,t=e.parentElement;if(!t)return-1;for(var n=t.childNodes,i=-1,r=this.typeData.siblingId,s=0;s<n.length;s++){var o=n[s];if(1==o.nodeType&&o.getAttribute(Gl.siblingDirIdAttr)==r&&(++i,o===e))return i}return-1}_siblingInserted(e){if(e.target===this.elementRef.nativeElement){var t=this._getSiblingIndex(),n=this.parentBehavior.directive[this._getParentProp()],i=this.directive,r=n.indexOf(i);t>=0&&r>=0&&t!==r&&(n.splice(r,1),t=Math.min(t,n.length),n.splice(t,0,i))}}_isHostElement(){return this.elementRef.nativeElement.nodeType===Node.ELEMENT_NODE}_runInsideNgZone(e){let t=Gl;return t.ngZone&&!t._ngZoneRun&&(t._ngZoneRun=t.ngZone.run.bind(t.ngZone)),(t._ngZoneRun||(e=>e()))(e)}_triggerEvent(e,t,n){n&&this._isAsyncBinding()?(this._pendingEvents.push({event:e,args:t}),null==this._pendingEventsTO&&(this._pendingEventsTO=setTimeout(()=>{this._triggerPendingEvents(!1)},0))):e.emit(t)}_triggerPendingEvents(e){null!=this._pendingEventsTO&&(clearTimeout(this._pendingEventsTO),this._pendingEventsTO=null);let t=[].concat(this._pendingEvents);this._pendingEvents.splice(0,this._pendingEvents.length);for(let n of t)n.event.emit(n.args);e&&this._pendingEvents.length&&this._triggerPendingEvents(!0)}flushPendingEvents(){this._triggerPendingEvents(!0)}static evaluatePath(e,t){return this._pathBinding.path=t,this._pathBinding.getValue(e)}static getBehavior(e){return e?e[Gl.BehaviourRefProp]:null}}Gl.directiveTypeDataProp="meta",Gl.directiveResolvedTypeDataProp="_wjResolvedMeta",Gl.BehaviourRefProp="_wjBehaviour",Gl.parPropAttr="wjProperty",Gl.wjModelPropAttr="wjModelProperty",Gl.initializedEventAttr="initialized",Gl.isInitializedPropAttr="isInitialized",Gl.siblingDirIdAttr="wj-directive-id",Gl.asyncBindingUpdatePropAttr="asyncBindings",Gl.siblingDirId=0,Gl.wijmoComponentProviderId="WjComponent",Gl.outsideZoneEvents={pointermove:!0,pointerover:!0,mousemove:!0,wheel:!0,touchmove:!0},Gl._pathBinding=new wi("");class $l{static initEvents(e,t){var n=[];for(let i of t){let e=i.props;if(i.event&&i.eventImpl&&n.push(i.eventImpl+":"+i.event),e&&e.length)for(let t of e)n.push(t.evImpl+":"+t.evExposed)}return n}static getChangeEventNameImplemented(e){return $l.getChangeEventNameExposed(e)+$l.changeEventImplementSuffix}static getChangeEventNameExposed(e){return e+"Change"}static getWjEventNameImplemented(e){return e+$l.wjEventImplementSuffix}static getWjEventName(e){if(e){const t=$l.wjEventImplementSuffix;let n=e.length-t.length;if(n>0&&e.substr(n)===t)return e.substr(0,n)}return null}static getBaseType(e){let t;return e&&(t=Object.getPrototypeOf(e.prototype))&&t.constructor}static getAnnotations(e){return Reflect.getMetadata("annotations",e)}static getAnnotation(e,t){if(t&&e)for(let n of e)if(n instanceof t)return n;return null}static getTypeAnnotation(e,t,n){for(let i=e;i;i=n?null:$l.getBaseType(i)){let e=$l.getAnnotation($l.getAnnotations(i),t);if(e)return e}return null}static equals(e,t){return e!=e&&t!=t||fi.equals(e,t)||e===t}static _copy(e,t,n,i,r){if(e&&t)for(let s in t)if(i||"_"!==s[0]){let i=t[s];if(!r||r(s,i)){let t=e[s];p(i)?e[s]=(!p(t)||n?[]:t).concat(i):void 0!==i&&(e[s]=i)}}}}$l.changeEventImplementSuffix="PC",$l.wjEventImplementSuffix="Ng";class Wl{}class ql extends Tr{constructor(e,t,n,i){super(Gl.getHostElement(e,t)),this.isInitialized=!1,this._wjBehaviour=Gl.attach(this,e,t,n),new Ql(this,i),this.deferUpdate(()=>{if(this.rows.defaultSize<10){let e=this.hostElement,t=getComputedStyle(e),n=getComputedStyle(document.body),i=2*parseInt(t.fontSize&&Z(document.body,e)?t.fontSize:n.fontSize);this.rows.defaultSize=i,this.columns.defaultSize=4*i,this.columnHeaders.rows.defaultSize=i,this.rowHeaders.columns.defaultSize=Math.round(1.25*i)}}),this.created()}created(){}ngOnInit(){this._wjBehaviour.ngOnInit()}ngAfterViewInit(){this._wjBehaviour.ngAfterViewInit()}ngOnDestroy(){this._wjBehaviour.ngOnDestroy()}addEventListener(e,t,n,i=!1){let r=Gl.ngZone;r&&Gl.outsideZoneEvents[t]?r.runOutsideAngular(()=>{super.addEventListener(e,t,n,i)}):super.addEventListener(e,t,n,i)}}ql.meta={outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","beginningEditNg: beginningEdit","cellEditEndedNg: cellEditEnded","cellEditEndingNg: cellEditEnding","prepareCellForEditNg: prepareCellForEdit","formatItemNg: formatItem","resizingColumnNg: resizingColumn","resizedColumnNg: resizedColumn","autoSizingColumnNg: autoSizingColumn","autoSizedColumnNg: autoSizedColumn","draggingColumnNg: draggingColumn","draggingColumnOverNg: draggingColumnOver","draggedColumnNg: draggedColumn","sortingColumnNg: sortingColumn","sortedColumnNg: sortedColumn","resizingRowNg: resizingRow","resizedRowNg: resizedRow","autoSizingRowNg: autoSizingRow","autoSizedRowNg: autoSizedRow","draggingRowNg: draggingRow","draggingRowOverNg: draggingRowOver","draggedRowNg: draggedRow","deletingRowNg: deletingRow","deletedRowNg: deletedRow","loadingRowsNg: loadingRows","loadedRowsNg: loadedRows","rowEditStartingNg: rowEditStarting","rowEditStartedNg: rowEditStarted","rowEditEndingNg: rowEditEnding","rowEditEndedNg: rowEditEnded","rowAddedNg: rowAdded","groupCollapsedChangedNg: groupCollapsedChanged","groupCollapsedChangingNg: groupCollapsedChanging","itemsSourceChangedNg: itemsSourceChanged","selectionChangingNg: selectionChanging","selectionChangedNg: selectionChanged","scrollPositionChangedNg: scrollPositionChanged","updatingViewNg: updatingView","updatedViewNg: updatedView","updatingLayoutNg: updatingLayout","updatedLayoutNg: updatedLayout","pastingNg: pasting","pastedNg: pasted","pastingCellNg: pastingCell","pastedCellNg: pastedCell","copyingNg: copying","copiedNg: copied"]};class Kl extends Hr{constructor(e,t,n){super(),this.isInitialized=!1,this.wjProperty="columns";let i=(this._wjBehaviour=Gl.attach(this,e,t,n)).parentBehavior.directive;i.autoGenerateColumns&&(i.autoGenerateColumns=!1,i.columns.clear()),this.created()}created(){}ngOnInit(){this._wjBehaviour.ngOnInit()}ngAfterViewInit(){this._wjBehaviour.ngAfterViewInit()}ngOnDestroy(){this._wjBehaviour.ngOnDestroy()}}Kl.meta={outputs:["initialized","isSelectedChangePC: isSelectedChange"],changeEvents:{"grid.selectionChanged":["isSelected"]}};class Yl{constructor(e,t,n,i,r,s,o){this.viewContainerRef=e,this.templateRef=t,this.elRef=n,this.domRenderer=r,this.cdRef=o,this.autoSizeRows=!0,this.forceFullEdit=!0,i instanceof ql?this.grid=i:i instanceof Kl&&(this.column=i,this.grid=Gl.getBehavior(i).parentBehavior.directive)}static _getTemplContextProp(e){return"$__cellTempl"+Zl[e]}ngOnInit(){this.ownerControl=this.column&&this.column.grid===this.grid?this.column:this.grid,this._attachToControl()}ngOnDestroy(){this.cellTypeStr&&(this.viewContainerRef.clear(),this.ownerControl[Yl._getTemplContextProp(this.cellType)]=null,this.grid.invalidate())}_instantiateTemplate(e,t){return Gl.instantiateTemplate(e,this.viewContainerRef,this.templateRef,this.domRenderer,!1,t)}_attachToControl(){if(!this.cellTypeStr)return;let e=this.cellType=D(this.cellTypeStr,Zl),t=this.ownerControl;t[Yl._getTemplContextProp(e)]=this,t instanceof Hr&&(e===Zl.Cell||e===Zl.ColumnHeader||e===Zl.ColumnFooter)&&t._setFlag(Or.HasTemplate,!0),this.grid.invalidate()}}var Zl;!function(e){e[e.Cell=0]="Cell",e[e.CellEdit=1]="CellEdit",e[e.ColumnHeader=2]="ColumnHeader",e[e.RowHeader=3]="RowHeader",e[e.RowHeaderEdit=4]="RowHeaderEdit",e[e.TopLeft=5]="TopLeft",e[e.GroupHeader=6]="GroupHeader",e[e.Group=7]="Group",e[e.NewCellTemplate=8]="NewCellTemplate",e[e.ColumnFooter=9]="ColumnFooter",e[e.BottomLeft=10]="BottomLeft"}(Zl||(Zl={}));class Ql extends Nr{constructor(e,t){if(super(),this._needsCdCheck=!1,this._lastApplyTimeStamp=0,this._noApplyLag=!1,this._startingEditing=!1,this._cellStampCounter=0,this._composing=!1,this.grid=e,this._gridCdRef=t,!Ql._templateTypes){Ql._templateTypes=[];for(var n in Zl)isNaN(n)&&Ql._templateTypes.push(n)}var i=this;this._baseCf=e.cellFactory,e.cellFactory=this,this._evtInput=document.createEvent("HTMLEvents"),this._evtInput.initEvent("input",!0,!1),this._evtBlur=document.createEvent("HTMLEvents"),this._evtBlur.initEvent("blur",!1,!1),e.prepareCellForEdit.addHandler(function(e,t){i._noApplyLag=!0}),e.cellEditEnded.addHandler(function(t,n){(n.range.col<0||n.range.col<e.columns.length&&!e.columns[n.range.col][Yl._getTemplContextProp(Zl.CellEdit)])&&(i._editChar=null),setTimeout(function(){i._noApplyLag=!1},300)}),e.beginningEdit.addHandler(function(e,t){i._startingEditing=!0}),e.hostElement.addEventListener("keydown",function(e){i._startingEditing=!1},!0),e.hostElement.addEventListener("keypress",function(t){var n=t.charCode>32?String.fromCharCode(t.charCode):null;n&&(!e.activeEditor||i._startingEditing?i._editChar=n:i._editChar&&(i._editChar+=n))},!0),e.hostElement.addEventListener("compositionstart",function(e){i._composing=!0},!0),e.hostElement.addEventListener("compositionend",function(e){i._composing=!1},!0),e.updatedView.addHandler(()=>{this._needsCdCheck&&(this._needsCdCheck=!1,this._gridCdRef.markForCheck())},this)}updateCell(e,t,n,i,r){this._cellStampCounter=(this._cellStampCounter+1)%1e7;let s=i[Ql._cellStampProp]=this._cellStampCounter;i.style.overflow&&(i.style.overflow="");var o,l=this,a=e.grid,h=a.editRange,u=e.rows[t],c=u.dataItem,d=!1,g=!1,p=!1,f=!1;switch(e.cellType){case kr.Cell:if(h&&h.row===t&&h.col===n)o=Zl.CellEdit,g=p=!0;else if(u instanceof Lr){var _=!((f=c instanceof zi)||u.hasChildren);n==e.columns.firstVisibleIndex?o=_?Zl.Cell:Zl.GroupHeader:(o=_?Zl.Cell:Zl.Group,g=!0)}else u instanceof as?o=Zl.NewCellTemplate:wt()&&wt().DetailRow&&u instanceof wt().DetailRow||(o=Zl.Cell);break;case kr.ColumnHeader:o=Zl.ColumnHeader;break;case kr.RowHeader:o=a.collectionView&&a.collectionView.currentEditItem===c?Zl.RowHeaderEdit:Zl.RowHeader,d=!0;break;case kr.TopLeft:o=Zl.TopLeft,d=!0;break;case kr.ColumnFooter:o=Zl.ColumnFooter,g=!0;break;case kr.BottomLeft:o=Zl.BottomLeft,d=!0}var m=!1;if(null!=o){var w=f&&o==Zl.GroupHeader?a.columns.getColumn(c.groupDescription.propertyName):n>=0&&n<e.columns.length?e.columns[n]:null;if(w){var v=Yl._getTemplContextProp(o),C=(d?a:w)[v];if(C||(o===Zl.RowHeaderEdit?(v=Yl._getTemplContextProp(o=Zl.RowHeader),C=a[v]):o!==Zl.Group&&o!==Zl.GroupHeader||f||(v=Yl._getTemplContextProp(o=Zl.Cell),C=w[v])),C){var y;g&&(y=e.getCellData(t,n,!1));{m=!0;let o=i.getAttribute(Tr._WJS_MEASURE),h=o&&"true"===o.toLowerCase();p&&this._baseCf.updateCell(e,t,n,i,r,!0);let d,g=i[v]||{},f=p&&this._composing&&a.imeEnabled;if(g.column===w&&g.viewRef&&g.templateContextProperty===v&&i.firstChild==g.rootElement)d=this._setViewRefContext(g.viewRef.context,u,w,c,y,C.valuePaths);else{if(p){var b=i.firstElementChild;b&&(f||i.focus(),b.style.display="none")}else i.textContent="";this._doDisposeCell(i);let e={};d=this._setViewRefContext(e,u,w,c,y,C.valuePaths);let t=C._instantiateTemplate(i,e);g.column=w,g.viewRef=t.viewRef,g.rootElement=t.rootElement,g.templateContextProperty=v,i[v]=g}if(C.cellOverflow&&(i.style.overflow=C.cellOverflow),h?C.cdRef.detectChanges():C.autoSizeRows&&!f?setTimeout(()=>{if(s===i[Ql._cellStampProp]){var n=i.scrollHeight,o=e.rows,h=r&&r.rowSpan||1;if(t<o.length&&o[t].renderHeight*h<n-1){if(o.defaultSize=n/h,p){let e=l._isFullEdit();return a.refresh(),void a.startEditing(e)}}else p&&this._initEditInput(g,C,null)}},0):p&&setTimeout(()=>{f?this._initImeEditInput(g,C):this._initEditInput(g,C,null)},0),p){l._cellEditorVars=d.localVars;var E=function(e,t){if(a.cellEditEnding.removeHandler(E),!t.stayInEditMode){let e=$();e&&e.dispatchEvent(l._evtBlur),i.focus()}if(l._triggerEditorEvents(i),!t.cancel&&!t.stayInEditMode){let e=d.localVars,t=Object.getOwnPropertyNames(d.bindings);for(let n of t)d.bindings[n].setValue(e,d.localVars.values[n])}var n=i.querySelectorAll(".wj-dropdown");[].forEach.call(n,function(e){var t=Si.getControl(e);t&&vt()&&t instanceof vt().DropDown&&(t.isDroppedDown=!1)})};let e=function(t,n){a.cellEditEnded.removeHandler(e),l._cellEditorVars=null};a.cellEditEnding.addHandler(E),a.cellEditEnded.addHandler(e)}else this._baseCf.updateCell(e,t,n,i,r,!1)}}}}m||(this._doDisposeCell(i),this._baseCf.updateCell(e,t,n,i,r))}getEditorValue(e){if(this._cellEditorVars){let t=e.editRange;return t&&t.isValid&&this._triggerEditorEvents(e.cells.getCellElement(t.row,t.col)),this._cellEditorVars.value}return super.getEditorValue(e)}disposeCell(e){this._doDisposeCell(e)}_doDisposeCell(e){for(var t=Ql._templateTypes,n=0;n<t.length;n++){var i=Yl._getTemplContextProp(Zl[t[n]]),r=e[i];if(r&&r.viewRef){let t=(r.column||this.grid)[i];if(t){let e=t.viewContainerRef.indexOf(r.viewRef);e>-1&&t.viewContainerRef.remove(e)}r.viewRef=null,r.rootElement=null,r.column=null,r.templateContextProperty=null,e[i]=null}}}_setViewRefContext(e,t,n,i,r,s){this._needsCdCheck=!0,e.row=t,e.col=n,e.item=i;let o={},l=e.cell||{},a={},h={localVars:l,bindings:a};if(l.row=t,l.col=n,l.item=i,l.value=r,l.values=o,s){let e=Object.getOwnPropertyNames(s);for(let t of e){let e=new wi(s[t]);a[t]=e,o[t]=e.getValue(l)}}return e.cell!==l&&(e.cell=l),h}_initEditInput(e,t,n){this._setFullEdit(t);let i=this._findInitialInput(e);if(i){let e=window.getComputedStyle(i);if("none"!==e.display&&"visible"===e.visibility){var r=()=>{i.removeEventListener("focus",r),setTimeout(()=>{setTimeout(()=>{let e=null!=n?n:this._editChar;if(e){let t=i.selectionStart+e.length;i.value=e,this._editChar=null,i.dispatchEvent(this._evtInput),setTimeout(()=>{setTimeout(()=>{G(i,Math.min(t,i.value.length),i.value.length)},0)},0)}},0)},0)};i.addEventListener("focus",r),i.focus()}}}_initImeEditInput(e,t){let n=$();if(n&&n instanceof HTMLInputElement&&L(n,"wj-grid-ime")){let i=r=>{n.removeEventListener("compositionend",i),te(n,hs._cssHidden),this._initEditInput(e,t,n.value)};n.addEventListener("compositionend",i);let r=this._findInitialInput(e);if(r){let e=r.getBoundingClientRect(),t=n.getBoundingClientRect(),i=window.getComputedStyle(n),s=parseFloat(i.left),o=parseFloat(i.top);te(n,{left:s+e.left-t.left+"px",top:o+e.top-t.top+"px",width:e.width+"px",height:e.height+"px"})}}}_findInitialInput(e){let t=e&&e.rootElement&&e.rootElement.querySelectorAll("input");if(t)for(var n=0;n<t.length;n++){var i=t[n],r=window.getComputedStyle(i);if("none"!==r.display&&"visible"===r.visibility)return i}return null}_triggerEditorEvents(e){if(e){let t=e.querySelectorAll(".wj-control");for(let e=0;e<t.length;e++){let n=Si.getControl(t[e]);if(n){let e=Gl.getBehavior(n);e&&e.flushPendingEvents()}}}}_isFullEdit(){let e=this.grid;return!e.activeEditor||e._edtHdl._fullEdit}_setFullEdit(e){let t=this.grid;e.forceFullEdit&&t.activeEditor&&(t._edtHdl._fullEdit=!0)}}Ql._cellStampProp="__wjCellStamp";class Jl{}var Xl=si._2({encapsulation:2,styles:[],data:{}}),ea=si._2({encapsulation:2,styles:[],data:{}});class ta{constructor(){}ngOnInit(){}}var na=si._2({encapsulation:0,styles:[[""]],data:{}}),ia=si._2({encapsulation:0,styles:[[""]],data:{}}),ra=si._0("app-istoric",pr,function(e){return si._22(0,[(e()(),si._4(0,0,null,null,1,"app-istoric",[],null,null,null,Et,ia)),si._3(1,245760,null,0,pr,[hr],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]),sa=si._2({encapsulation:0,styles:[[""]],data:{}}),oa=si._0("app-temperaturi",_r,function(e){return si._22(0,[(e()(),si._4(0,0,null,null,1,"app-temperaturi",[],null,null,null,xt,sa)),si._3(1,114688,null,0,_r,[],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]),la=si._2({encapsulation:0,styles:[[""]],data:{}}),aa=si._0("app-setari",fr,function(e){return si._22(0,[(e()(),si._4(0,0,null,null,1,"app-setari",[],null,null,null,St,la)),si._3(1,114688,null,0,fr,[],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]),ha=si._2({encapsulation:0,styles:[[""]],data:{}}),ua=si._0("app-retea",mr,function(e){return si._22(0,[(e()(),si._4(0,0,null,null,1,"app-retea",[],null,null,null,Rt,ha)),si._3(1,114688,null,0,mr,[],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]),ca=n("sngF");const da=ca.a.of;var ga=n("rhNu"),pa=n("iwAo"),fa=n("2mbX"),_a=n("Lq4y");class ma extends nr.a{constructor(e,t){if(super(),this.scheduler=t,null==e)throw new Error("iterator cannot be null.");this.iterator=function(e){const t=e[_a.a];if(!t&&"string"==typeof e)return new class{constructor(e,t=0,n=e.length){this.str=e,this.idx=t,this.len=n}[_a.a](){return this}next(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}}}(e);if(!t&&void 0!==e.length)return new class{constructor(e,t=0,n=function(t){let n=+e.length;return isNaN(n)?0:0!==n&&"number"==typeof n&&rr.a.isFinite(n)?(n=function(e){let t=+n;return 0===t?t:isNaN(t)?t:t<0?-1:1}()*Math.floor(Math.abs(n)))<=0?0:n>wa?wa:n:n}()){this.arr=e,this.idx=t,this.len=n}[_a.a](){return this}next(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}}}(e);if(!t)throw new TypeError("object is not iterable");return e[_a.a]()}(e)}static create(e,t){return new ma(e,t)}static dispatch(e){const{index:t,hasError:n,iterator:i,subscriber:r}=e;if(n)return void r.error(e.error);let s=i.next();s.done?r.complete():(r.next(s.value),e.index=t+1,r.closed?"function"==typeof i.return&&i.return():this.schedule(e))}_subscribe(e){const{iterator:t,scheduler:n}=this;if(n)return n.schedule(ma.dispatch,0,{index:0,iterator:t,subscriber:e});for(;;){let n=t.next();if(n.done){e.complete();break}if(e.next(n.value),e.closed){"function"==typeof t.return&&t.return();break}}}}const wa=Math.pow(2,53)-1;var va=n("g2hh");class Ca extends nr.a{constructor(e,t){super(),this.arrayLike=e,this.scheduler=t,t||1!==e.length||(this._isScalar=!0,this.value=e[0])}static create(e,t){const n=e.length;return 0===n?new us.a:1===n?new va.a(e[0],t):new Ca(e,t)}static dispatch(e){const{arrayLike:t,index:n,length:i,subscriber:r}=e;r.closed||(n>=i?r.complete():(r.next(t[n]),e.index=n+1,this.schedule(e)))}_subscribe(e){const{arrayLike:t,scheduler:n}=this,i=t.length;if(n)return n.schedule(Ca.dispatch,0,{arrayLike:t,index:0,length:i,subscriber:e});for(let r=0;r<i&&!e.closed;r++)e.next(t[r]);e.complete()}}class ya{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return nr.a.of(this.value);case"E":return nr.a.throw(this.error);case"C":return nr.a.empty()}throw new Error("unexpected notification kind value")}static createNext(e){return"undefined"!=typeof e?new ya("N",e):ya.undefinedValueNotification}static createError(e){return new ya("E",void 0,e)}static createComplete(){return ya.completeNotification}}ya.completeNotification=new ya("C"),ya.undefinedValueNotification=new ya("N",void 0);class ba extends ms.a{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.add(this.scheduler.schedule(ba.dispatch,this.delay,new class{constructor(e,t){this.notification=e,this.destination=t}}(e,this.destination)))}_next(e){this.scheduleMessage(ya.createNext(e))}_error(e){this.scheduleMessage(ya.createError(e))}_complete(){this.scheduleMessage(ya.createComplete())}}var Ea=n("CdVW");class xa extends nr.a{constructor(e,t){super(null),this.ish=e,this.scheduler=t}static create(e,t){if(null!=e){if("function"==typeof e[Ea.a])return e instanceof nr.a&&!t?e:new xa(e,t);if(Object(ir.a)(e))return new ca.a(e,t);if(Object(fa.a)(e))return new fs(e,t);if("function"==typeof e[_a.a]||"string"==typeof e)return new ma(e,t);if(Object(pa.a)(e))return new Ca(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}_subscribe(e){const t=this.ish,n=this.scheduler;return null==n?t[Ea.a]().subscribe(e):t[Ea.a]().subscribe(new ba(e,n,0))}}const Sa=xa.create;var Ra=n("G3Tt");class Ta extends Error{constructor(){const e=super("no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}}var Aa=n("Hwfe");class Ma{constructor(e,t){this.id=e,this.url=t}}class Ia extends Ma{toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ka extends Ma{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Pa extends Ma{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Na extends Ma{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Da extends Ma{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oa extends Ma{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Va extends Ma{constructor(e,t,n,i,r){super(e,t),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ha extends Ma{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class za extends Ma{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class La{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fa{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ja{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ba{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ua{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ga{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}const $a="primary",Wa="ngNavigationCancelingError";class qa{constructor(e,t){this.routes=e,this.module=t}}class Ka{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lt(this.queryParams)),this._queryParamMap}toString(){return Xa.serialize(this)}}class Ya{constructor(e,t){this.segments=e,this.children=t,this.parent=null,$t(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return en(this)}}class Za{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Lt(this.parameters)),this._parameterMap}toString(){return sn(this)}}class Qa{}class Ja{parse(e){const t=new class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ya([],{}):new Ya([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURI(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[$a]=new Ya(e,t)),n}parseSegment(){const e=on(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Za(rn(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=on(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=on(this.remaining);e&&this.capture(n=e)}e[rn(t)]=rn(n)}parseQueryParam(e){const t=function(e){const t=e.match(th);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(nh);return t?t[0]:""}(this.remaining);e&&this.capture(n=e)}const i=rn(t),r=rn(n);if(e.hasOwnProperty(i)){let t=e[i];Array.isArray(t)||(e[i]=t=[t]),t.push(r)}else e[i]=r}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=on(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):e&&(r=$a);const s=this.parseChildren();t[r]=1===Object.keys(s).length?s[$a]:new Ya([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}(e);return new Ka(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${`/${tn(e.root,!0)}`}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${nn(t)}=${nn(e)}`).join("&"):`${nn(t)}=${nn(n)}`});return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${encodeURI(e.fragment)}`:""}`}}const Xa=new Ja,eh=/^[^\/()?;=&#]+/,th=/^[^=?&#]+/,nh=/^[^?&#]+/;class ih{constructor(e){this.segmentGroup=e||null}}class rh{constructor(e){this.urlTree=e}}class sh{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=pn(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=pn(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=fn(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return fn(e,this._root).map(e=>e.value)}}class oh{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}class lh extends sh{constructor(e,t){super(e),this.snapshot=t,vn(this,e)}toString(){return this.snapshot.toString()}}class ah{constructor(e,t,n,i,r,s,o,l){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ee.call(this.params,e=>Lt(e))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ee.call(this.queryParams,e=>Lt(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}class hh{constructor(e,t,n,i,r,s,o,l,a,h,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this.routeConfig=l,this._urlSegment=a,this._lastPathIndex=h,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class uh extends sh{constructor(e,t){super(t),this.url=e,vn(this,t)}toString(){return Cn(this._root)}}class ch{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Sn(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(i&&i!==Gt(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class dh{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}class gh{constructor(e){this.path=e}get route(){return this.path[this.path.length-1]}}class ph{constructor(e,t){this.component=e,this.route=t}}class fh{constructor(e,t,n,i){this.future=e,this.curr=t,this.moduleInjector=n,this.forwardEvent=i,this.canActivateChecks=[],this.canDeactivateChecks=[]}initialize(e){const t=this.future._root;this.setupChildRouteGuards(t,this.curr?this.curr._root:null,e,[t.value])}checkGuards(){if(!this.isDeactivating()&&!this.isActivating())return da(!0);const e=this.runCanDeactivateChecks();return At.call(e,e=>e?this.runCanActivateChecks():da(!1))}resolveData(){if(!this.isActivating())return da(null);const e=Sa(this.canActivateChecks),t=Tt.call(e,e=>this.runResolve(e.route));return(function(e,t){return arguments.length>=2?Ht(e,t)(this):Ht(e)(this)}).call(t,(e,t)=>e)}isDeactivating(){return 0!==this.canDeactivateChecks.length}isActivating(){return 0!==this.canActivateChecks.length}setupChildRouteGuards(e,t,n,i){const r=_n(t);e.children.forEach(e=>{this.setupRouteGuards(e,r[e.value.outlet],n,i.concat([e.value])),delete r[e.value.outlet]}),$t(r,(e,t)=>this.deactivateRouteAndItsChildren(e,n.getContext(t)))}setupRouteGuards(e,t,n,i){const r=e.value,s=t?t.value:null,o=n?n.getContext(e.value.outlet):null;if(s&&r.routeConfig===s.routeConfig){const l=this.shouldRunGuardsAndResolvers(s,r,r.routeConfig.runGuardsAndResolvers);l?this.canActivateChecks.push(new gh(i)):(r.data=s.data,r._resolvedData=s._resolvedData),this.setupChildRouteGuards(e,t,r.component?o?o.children:null:n,i),l&&this.canDeactivateChecks.push(new ph(o.outlet.component,s))}else s&&this.deactivateRouteAndItsChildren(t,o),this.canActivateChecks.push(new gh(i)),this.setupChildRouteGuards(e,null,r.component?o?o.children:null:n,i)}shouldRunGuardsAndResolvers(e,t,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!bn(e,t)||!Bt(e.queryParams,t.queryParams);case"paramsChange":default:return!bn(e,t)}}deactivateRouteAndItsChildren(e,t){const n=_n(e),i=e.value;$t(n,(e,n)=>{this.deactivateRouteAndItsChildren(e,i.component?t?t.children.getContext(n):null:t)}),this.canDeactivateChecks.push(new ph(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}runCanDeactivateChecks(){const e=Sa(this.canDeactivateChecks),t=At.call(e,e=>this.runCanDeactivate(e.component,e.route));return Pt.call(t,e=>!0===e)}runCanActivateChecks(){const e=Sa(this.canActivateChecks),t=Tt.call(e,e=>Wt(Sa([this.fireChildActivationStart(e.route.parent),this.fireActivationStart(e.route),this.runCanActivateChild(e.path),this.runCanActivate(e.route)])));return Pt.call(t,e=>!0===e)}fireActivationStart(e){return null!==e&&this.forwardEvent&&this.forwardEvent(new Ua(e)),da(!0)}fireChildActivationStart(e){return null!==e&&this.forwardEvent&&this.forwardEvent(new ja(e)),da(!0)}runCanActivate(e){const t=e.routeConfig?e.routeConfig.canActivate:null;return t&&0!==t.length?Wt(Ee.call(Sa(t),t=>{const n=this.getToken(t,e);let i;return i=qt(n.canActivate?n.canActivate(e,this.future):n(e,this.future)),kt.call(i)})):da(!0)}runCanActivateChild(e){const t=e[e.length-1],n=e.slice(0,e.length-1).reverse().map(e=>this.extractCanActivateChild(e)).filter(e=>null!==e);return Wt(Ee.call(Sa(n),e=>Wt(Ee.call(Sa(e.guards),n=>{const i=this.getToken(n,e.node);let r;return r=qt(i.canActivateChild?i.canActivateChild(t,this.future):i(t,this.future)),kt.call(r)}))))}extractCanActivateChild(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}runCanDeactivate(e,t){const n=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!n||0===n.length)return da(!0);const i=At.call(Sa(n),n=>{const i=this.getToken(n,t);let r;return r=qt(i.canDeactivate?i.canDeactivate(e,t,this.curr,this.future):i(e,t,this.curr,this.future)),kt.call(r)});return Pt.call(i,e=>!0===e)}runResolve(e){return Ee.call(this.resolveNode(e._resolve,e),t=>(e._resolvedData=t,e.data=Object.assign({},e.data,wn(e).resolve),null))}resolveNode(e,t){const n=Object.keys(e);if(0===n.length)return da({});if(1===n.length){const i=n[0];return Ee.call(this.getResolver(e[i],t),e=>({[i]:e}))}const i={},r=At.call(Sa(n),n=>Ee.call(this.getResolver(e[n],t),e=>(i[n]=e,e)));return Ee.call(Nt.call(r),()=>i)}getResolver(e,t){const n=this.getToken(e,t);return qt(n.resolve?n.resolve(t,this.future):n(t,this.future))}getToken(e,t){const n=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(n?n.module.injector:this.moduleInjector).get(e)}}class _h{}class mh{}class wh{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const vh=new si.o("ROUTES");class Ch{constructor(e,t,n,i){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=i}load(e,t){this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren);return Ee.call(n,n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const i=n.create(e);return new qa(Ut(i.injector.get(vh)),i)})}loadModuleFactory(e){return"string"==typeof e?_s(this.loader.load(e)):At.call(qt(e()),e=>e instanceof si.t?da(e):_s(this.compiler.compileModuleAsync(e)))}}class yh{}class bh{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}class Eh{constructor(e,t,n,i,r,s,o,l){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=i,this.config=l,this.navigations=new tr(null),this.navigationId=0,this.events=new Xi.a,this.errorHandler=Fn,this.navigated=!1,this.hooks={beforePreactivation:jn,afterPreactivation:jn},this.urlHandlingStrategy=new bh,this.routeReuseStrategy=new wh,this.onSameUrlNavigation="ignore",this.ngModule=r.get(si.v),this.resetConfig(l),this.currentUrlTree=new Ka(new Ya([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new Ch(s,o,e=>this.triggerEvent(new La(e)),e=>this.triggerEvent(new Fa(e))),this.routerState=mn(this.currentUrlTree,this.rootComponentType),this.processNavigations()}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(Zone.current.wrap(e=>{const t=this.urlSerializer.parse(e.url),n="popstate"===e.type?"popstate":"hashchange";setTimeout(()=>{this.scheduleNavigation(t,n,{replaceUrl:!0})},0)})))}get url(){return this.serializeUrl(this.currentUrlTree)}triggerEvent(e){this.events.next(e)}resetConfig(e){jt(e),this.config=e,this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:i,fragment:r,preserveQueryParams:s,queryParamsHandling:o,preserveFragment:l}=t;Object(si.U)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const a=n||this.routerState.root,h=l?this.currentUrlTree.fragment:r;let u=null;if(o)switch(o){case"merge":u=Object.assign({},this.currentUrlTree.queryParams,i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}else u=s?this.currentUrlTree.queryParams:i||null;return null!==u&&(u=this.removeEmptyProps(u)),function(e,t,n,i,r){if(0===n.length)return Rn(t.root,t.root,t,i,r);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new ch(!0,0,e);let t=0,n=!1;const i=e.reduce((e,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const t={};return $t(i.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(i.segmentPath)return[...e,i.segmentPath]}return"string"!=typeof i?[...e,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?t++:""!=i&&e.push(i))}),e):[...e,i]},[]);return new ch(n,t,i)}(n);if(s.toRoot())return Rn(t.root,new Ya([],{}),t,i,r);const o=function(e,n,i){if(e.isAbsolute)return new dh(t.root,!0,0);if(-1===i.snapshot._lastPathIndex)return new dh(i.snapshot._urlSegment,!0,0);const r=Sn(e.commands[0])?0:1;return function(t,n,s){let o=i.snapshot._urlSegment,l=i.snapshot._lastPathIndex+r,a=e.numberOfDoubleDots;for(;a>l;){if(a-=l,!(o=o.parent))throw new Error("Invalid number of '../'");l=o.segments.length}return new dh(o,!1,l-a)}()}(s,0,e),l=o.processChildren?In(o.segmentGroup,o.index,s.commands):Mn(o.segmentGroup,o.index,s.commands);return Rn(o.segmentGroup,l,t,i,r)}(a,this.currentUrlTree,e,u,h)}navigateByUrl(e,t={skipLocationChange:!1}){const n=e instanceof Ka?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){return this.urlSerializer.parse(e)}isActive(e,t){if(e instanceof Ka)return Kt(this.currentUrlTree,e,t);const n=this.urlSerializer.parse(e);return Kt(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const i=e[n];return null!==i&&void 0!==i&&(t[n]=i),t},{})}processNavigations(){Tt.call(this.navigations,e=>e?(this.executeScheduledNavigation(e),e.promise.catch(()=>{})):da(null)).subscribe(()=>{})}scheduleNavigation(e,t,n){const i=this.navigations.value;if(i&&"imperative"!==t&&"imperative"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"hashchange"==t&&"popstate"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"popstate"==t&&"hashchange"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);let r=null,s=null;const o=new Promise((e,t)=>{r=e,s=t}),l=++this.navigationId;return this.navigations.next({id:l,source:t,rawUrl:e,extras:n,resolve:r,reject:s,promise:o}),o.catch(e=>Promise.reject(e))}executeScheduledNavigation({id:e,rawUrl:t,extras:n,resolve:i,reject:r}){const s=this.urlHandlingStrategy.extract(t),o=!this.navigated||s.toString()!==this.currentUrlTree.toString();("reload"===this.onSameUrlNavigation||o)&&this.urlHandlingStrategy.shouldProcessUrl(t)?(this.events.next(new Ia(e,this.serializeUrl(s))),Promise.resolve().then(i=>this.runNavigate(s,t,!!n.skipLocationChange,!!n.replaceUrl,e,null)).then(i,r)):o&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.events.next(new Ia(e,this.serializeUrl(s))),Promise.resolve().then(n=>this.runNavigate(s,t,!1,!1,e,mn(s,this.rootComponentType).snapshot)).then(i,r)):(this.rawUrlTree=t,i(null))}runNavigate(e,t,n,i,r,s){return r!==this.navigationId?(this.events.next(new Pa(r,this.serializeUrl(e),`Navigation ID ${r} is not equal to the current navigation id ${this.navigationId}`)),Promise.resolve(!1)):new Promise((o,l)=>{let a;if(s)a=da({appliedUrl:e,snapshot:s});else{const t=function(e,t,n,i,r){return new class{constructor(e,t,n,i,r){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=e.get(si.v)}apply(){const e=this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,$a),t=Ee.call(e,e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment));return Mt.call(t,e=>{if(e instanceof rh)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof ih)throw this.noMatchError(e);throw e})}match(e){const t=this.expandSegmentGroup(this.ngModule,this.config,e.root,$a),n=Ee.call(t,t=>this.createUrlTree(t,e.queryParams,e.fragment));return Mt.call(n,e=>{if(e instanceof ih)throw this.noMatchError(e);throw e})}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const i=e.segments.length>0?new Ya([],{[$a]:e}):e;return new Ka(i,t,n)}expandSegmentGroup(e,t,n,i){return 0===n.segments.length&&n.hasChildren()?Ee.call(this.expandChildren(e,t,n),e=>new Ya([],e)):this.expandSegment(e,n,t,n.segments,i,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return da({});const n=[],i=[],r={};$t(e,(e,s)=>{const o=Ee.call(t(s,e),e=>r[s]=e);s===$a?n.push(o):i.push(o)});const s=It.call(da(...n,...i)),o=Nt.call(s);return Ee.call(o,()=>r)}(n.children,(n,i)=>this.expandSegmentGroup(e,t,i,n))}expandSegment(e,t,n,i,r,s){const o=da(...n),l=Ee.call(o,o=>{const l=this.expandSegmentAgainstRoute(e,t,n,o,i,r,s);return Mt.call(l,e=>{if(e instanceof ih)return da(null);throw e})}),a=It.call(l),h=kt.call(a,e=>!!e);return Mt.call(h,(e,n)=>{if(e instanceof Ta){if(this.noLeftoversInUrl(t,i,r))return da(new Ya([],{}));throw new ih(t)}throw e})}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,i,r,s,o){return gn(i)!==s?ln(t):void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,r):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,i,r,s):ln(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,i,r,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?an(r):At.call(this.lineralizeSegments(n,r),n=>{const r=new Ya(n,{});return this.expandSegment(e,r,t,n,i,!1)})}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,r,s){const{matched:o,consumedSegments:l,lastChild:a,positionalParamSegments:h}=un(t,i,r);if(!o)return ln(t);const u=this.applyRedirectCommands(l,i.redirectTo,h);return i.redirectTo.startsWith("/")?an(u):At.call(this.lineralizeSegments(i,u),i=>this.expandSegment(e,t,n,i.concat(r.slice(a)),s,!1))}matchSegmentAgainstRoute(e,t,n,i){if("**"===n.path)return n.loadChildren?Ee.call(this.configLoader.load(e.injector,n),e=>(n._loadedConfig=e,new Ya(i,{}))):da(new Ya(i,{}));const{matched:r,consumedSegments:s,lastChild:o}=un(t,n,i);if(!r)return ln(t);const l=i.slice(o),a=this.getChildConfig(e,n);return At.call(a,e=>{const n=e.module,i=e.routes,{segmentGroup:r,slicedSegments:o}=function(e,t,n,i){return n.length>0&&function(e,t,n){return i.some(n=>dn(e,t,n)&&gn(n)!==$a)}(e,n)?{segmentGroup:cn(new Ya(t,function(e,t){const n={};n[$a]=t;for(const i of e)""===i.path&&gn(i)!==$a&&(n[gn(i)]=new Ya([],{}));return n}(i,new Ya(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return i.some(n=>dn(e,t,n))}(e,n)?{segmentGroup:cn(new Ya(e.segments,function(e,t,n,i){const r={};for(const s of n)dn(e,t,s)&&!i[gn(s)]&&(r[gn(s)]=new Ya([],{}));return Object.assign({},i,r)}(e,n,i,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,s,l,i);if(0===o.length&&r.hasChildren()){const e=this.expandChildren(n,i,r);return Ee.call(e,e=>new Ya(s,e))}if(0===i.length&&0===o.length)return da(new Ya(s,{}));const a=this.expandSegment(n,r,i,o,$a,!0);return Ee.call(a,e=>new Ya(s.concat(e.segments),e.children))})}getChildConfig(e,t){return t.children?da(new qa(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?da(t._loadedConfig):At.call(function(e,t){const n=t.canLoad;return n&&0!==n.length?Wt(Ee.call(Sa(n),n=>{const i=e.get(n);return qt(i.canLoad?i.canLoad(t):i(t))})):da(!0)}(e.injector,t),n=>n?Ee.call(this.configLoader.load(e.injector,t),e=>(t._loadedConfig=e,e)):function(e){return new nr.a(t=>t.error(function(e){const t=Error("NavigationCancelingError: "+e);return t[Wa]=!0,t}(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t)):da(new qa([],e))}lineralizeSegments(e,t){let n=[],i=t.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return da(n);if(i.numberOfChildren>1||!i.children[$a])return hn(e.redirectTo);i=i.children[$a]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,i){const r=this.createSegmentGroup(e,t.root,n,i);return new Ka(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return $t(e,(e,i)=>{if("string"==typeof e&&e.startsWith(":")){const r=e.substring(1);n[i]=t[r]}else n[i]=e}),n}createSegmentGroup(e,t,n,i){const r=this.createSegments(e,t.segments,n,i);let s={};return $t(t.children,(t,r)=>{s[r]=this.createSegmentGroup(e,t,n,i)}),new Ya(r,s)}createSegments(e,t,n,i){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,i):this.findOrReturn(t,n))}findPosParam(e,t,n){const i=n[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let n=0;for(const i of t){if(i.path===e.path)return t.splice(n),i;n++}return e}}(e,t,n,i,r).apply()}(this.ngModule.injector,this.configLoader,this.urlSerializer,e,this.config);a=At.call(t,t=>Ee.call(function(e,t,n,i){return new class{constructor(e,t,n,i){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=i}recognize(){try{const e=On(this.urlTree.root,[],[],this.config).segmentGroup,t=this.processSegmentGroup(this.config,e,$a),n=new hh([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},$a,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new oh(n,t),r=new uh(this.url,i);return this.inheritParamsAndData(r._root),da(r)}catch(e){return new nr.a(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=wn(t);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=Xt(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};n.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),i=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${i}'.`)}t[e.value.outlet]=e.value})}(),n.sort((e,t)=>e.value.outlet===$a?-1:t.value.outlet===$a?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,i){for(const r of e)try{return this.processSegmentAgainstRoute(r,t,n,i)}catch(e){if(!(e instanceof _h))throw e}if(this.noLeftoversInUrl(t,n,i))return[];throw new _h}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,i){if(e.redirectTo)throw new _h;if((e.outlet||$a)!==i)throw new _h;if("**"===e.path){const r=n.length>0?Gt(n).parameters:{},s=new hh(n,r,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,zn(e),i,e.component,e,Nn(t),Dn(t)+n.length,Ln(e));return[new oh(s,[])]}const{consumedSegments:r,parameters:s,lastChild:o}=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new _h;return{consumedSegments:[],lastChild:0,parameters:{}}}const i=(t.matcher||Ft)(n,e,t);if(!i)throw new _h;const r={};$t(i.posParams,(e,t)=>{r[t]=e.path});const s=i.consumed.length>0?Object.assign({},r,i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s}}(t,e,n),l=n.slice(o),a=e.children?e.children:e.loadChildren?e._loadedConfig.routes:[],{segmentGroup:h,slicedSegments:u}=On(t,r,l,a),c=new hh(r,s,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,zn(e),i,e.component,e,Nn(t),Dn(t)+r.length,Ln(e));if(0===u.length&&h.hasChildren()){const e=this.processChildren(a,h);return[new oh(c,e)]}if(0===a.length&&0===u.length)return[new oh(c,[])];const d=this.processSegment(a,h,u,$a);return[new oh(c,d)]}}(e,t,n,i).recognize()}(this.rootComponentType,this.config,t,this.serializeUrl(t)),n=>(this.events.next(new Da(r,this.serializeUrl(e),this.serializeUrl(t),n)),{appliedUrl:t,snapshot:n})))}const h=At.call(a,e=>Ee.call(this.hooks.beforePreactivation(e.snapshot),()=>e));let u;const c=Ee.call(h,({appliedUrl:e,snapshot:t})=>((u=new fh(t,this.routerState.snapshot,this.ngModule.injector,e=>this.triggerEvent(e))).initialize(this.rootContexts),{appliedUrl:e,snapshot:t})),d=At.call(c,({appliedUrl:t,snapshot:n})=>this.navigationId!==r?da(!1):(this.triggerEvent(new Oa(r,this.serializeUrl(e),t,n)),Ee.call(u.checkGuards(),i=>(this.triggerEvent(new Va(r,this.serializeUrl(e),t,n,i)),{appliedUrl:t,snapshot:n,shouldActivate:i})))),g=At.call(d,t=>this.navigationId!==r?da(!1):t.shouldActivate&&u.isActivating()?(this.triggerEvent(new Ha(r,this.serializeUrl(e),t.appliedUrl,t.snapshot)),Ee.call(u.resolveData(),()=>(this.triggerEvent(new za(r,this.serializeUrl(e),t.appliedUrl,t.snapshot)),t))):da(t)),p=At.call(g,e=>Ee.call(this.hooks.afterPreactivation(e.snapshot),()=>e)),f=Ee.call(p,({appliedUrl:e,snapshot:t,shouldActivate:n})=>n?{appliedUrl:e,state:function(e,t,n){const i=En(e,t._root,n?n._root:void 0);return new lh(i,t)}(this.routeReuseStrategy,t,this.routerState),shouldActivate:n}:{appliedUrl:e,state:null,shouldActivate:n});let _;const m=this.routerState,w=this.currentUrlTree;f.forEach(({appliedUrl:e,state:s,shouldActivate:o})=>{if(o&&r===this.navigationId){if(this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t),this.routerState=s,!n){const e=this.urlSerializer.serialize(this.rawUrlTree);this.location.isCurrentPathEqualTo(e)||i?this.location.replaceState(e):this.location.go(e)}new class{constructor(e,t,n,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=i}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),yn(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const i=_n(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,i[t],n),delete i[t]}),$t(i,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const i=e.value,r=t?t.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(e,t,r.children)}else this.deactivateChildRoutes(e,t,n);else r&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:i})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const i=_n(e),r=e.value.component?n.children:t;$t(i,(e,t)=>this.deactivateRouteAndItsChildren(e,r)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const i=_n(t);e.children.forEach(e=>{this.activateRoutes(e,i[e.value.outlet],n),this.forwardEvent(new Ga(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Ba(e.value.snapshot))}activateRoutes(e,t,n){const i=e.value,r=t?t.value:null;if(yn(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,r.children)}else this.activateChildRoutes(e,t,n);else if(i.component){const t=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const e=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Bn(e.route)}else{const n=function(e){for(let t=i.snapshot.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(),r=n?n.module.componentFactoryResolver:null;t.route=i,t.resolver=r,t.outlet&&t.outlet.activateWith(i,r),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}(this.routeReuseStrategy,s,m,e=>this.triggerEvent(e)).activate(this.rootContexts),_=!0}else _=!1}).then(()=>{_?(this.navigated=!0,this.events.next(new ka(r,this.serializeUrl(e),this.serializeUrl(this.currentUrlTree))),o(!0)):(this.resetUrlToCurrentUrlTree(),this.events.next(new Pa(r,this.serializeUrl(e),"")),o(!1))},n=>{if(n&&n[Wa])this.navigated=!0,this.resetStateAndUrl(m,w,t),this.events.next(new Pa(r,this.serializeUrl(e),n.message)),o(!1);else{this.resetStateAndUrl(m,w,t),this.events.next(new Na(r,this.serializeUrl(e),n));try{o(this.errorHandler(n))}catch(e){l(e)}}})})}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree))}}class xh{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe(e=>{e instanceof ka&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){Object(si.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,i){if(0!==e||t||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const r={skipLocationChange:Un(this.skipLocationChange),replaceUrl:Un(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,r),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Un(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Un(this.preserveFragment)})}}class Sh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Rh,this.attachRef=null}}class Rh{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Sh,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Th{constructor(e,t,n,i,r){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new si.m,this.deactivateEvents=new si.m,this.name=i||$a,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),i=new class{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===ah?this.route:e===Rh?this.childContexts:this.parent.get(e,t)}}(e,this.parentContexts.getOrCreateContext(this.name).children,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class Ah{}class Mh{preload(e,t){return Mt.call(t(),()=>da(null))}}class Ih{preload(e,t){return da(null)}}class kh{constructor(e,t,n,i,r){this.router=e,this.injector=i,this.preloadingStrategy=r,this.loader=new Ch(t,n,t=>e.triggerEvent(new La(t)),t=>e.triggerEvent(new Fa(t)))}setUpPreloading(){const e=zt.call(this.router.events,e=>e instanceof ka);this.subscription=Tt.call(e,()=>this.preload()).subscribe(()=>{})}preload(){const e=this.injector.get(si.v);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const i of t)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const e=i._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(e,i)):i.children&&n.push(this.processRoutes(e,i.children));return Dt.call(Sa(n))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>{const n=this.loader.load(e.injector,t);return At.call(n,e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))})}}const Ph=new si.o("ROUTER_CONFIGURATION"),Nh=new si.o("ROUTER_FORROOT_GUARD"),Dh=[bs,{provide:Qa,useClass:Ja},{provide:Eh,useFactory:Kn,deps:[si.g,Qa,Rh,bs,si.p,si.u,si.i,vh,Ph,[yh,new si.y],[mh,new si.y]]},Rh,{provide:ah,useFactory:Yn,deps:[Eh]},{provide:si.u,useClass:si.I},kh,Ih,Mh,{provide:Ph,useValue:{enableTracing:!1}}];class Oh{constructor(e,t){}static forRoot(e,t){return{ngModule:Oh,providers:[Dh,qn(e),{provide:Nh,useFactory:Wn,deps:[[Eh,new si.y,new si.H]]},{provide:Ph,useValue:t||{}},{provide:Cs,useFactory:$n,deps:[ws,[new si.n(ys),new si.y],Ph]},{provide:Ah,useExisting:t&&t.preloadingStrategy?t.preloadingStrategy:Ih},{provide:si.w,multi:!0,useFactory:Gn},[Vh,{provide:si.d,multi:!0,useFactory:Zn,deps:[Vh]},{provide:Hh,useFactory:Qn,deps:[Vh]},{provide:si.b,multi:!0,useExisting:Hh}]]}}static forChild(e){return{ngModule:Oh,providers:[qn(e)]}}}class Vh{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new Xi.a}appInitializer(){return this.injector.get(vs,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(Eh),i=this.injector.get(Ph);if(this.isLegacyDisabled(i)||this.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error(`Invalid initialNavigation options: '${i.initialNavigation}'`);n.hooks.afterPreactivation=(()=>this.initNavigation?da(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone)),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(Ph),n=this.injector.get(kh),i=this.injector.get(Eh),r=this.injector.get(si.g);e===r.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),i.resetRootComponentType(r.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}const Hh=new si.o("Router Initializer");new si.M("5.1.2"),nr.a.prototype.filter=zt;var zh,Lh=function(){function e(e,t){this.open=e,this.close=t||e}return e.prototype.isManual=function(){return"manual"===this.open||"manual"===this.close},e}(),Fh={hover:["mouseover","mouseout"],focus:["focusin","focusout"]},jh=function(e,t,n){this.nodes=e,this.viewRef=t,this.componentRef=n},Bh=function(){function e(e,t,n,i,r,s,o,l){this._viewContainerRef=e,this._renderer=t,this._elementRef=n,this._injector=i,this._componentFactoryResolver=r,this._ngZone=s,this._applicationRef=o,this._posService=l,this.onBeforeShow=new si.m,this.onShown=new si.m,this.onBeforeHide=new si.m,this.onHidden=new si.m,this._providers=[],this._isHiding=!1,this._listenOpts={},this._globalListener=Function.prototype}return Object.defineProperty(e.prototype,"isShown",{get:function(){return!this._isHiding&&!!this._componentRef},enumerable:!0,configurable:!0}),e.prototype.attach=function(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this},e.prototype.to=function(e){return this.container=e||this.container,this},e.prototype.position=function(e){return this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this},e.prototype.provide=function(e){return this._providers.push(e),this},e.prototype.show=function(e){if(void 0===e&&(e={}),this._subscribePositioning(),this._innerComponent=null,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context);var t=si.B.resolveAndCreate(this._providers,this._injector);this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof si.k&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"body"===this.container&&"undefined"!=typeof document&&document.querySelector(this.container).appendChild(this._componentRef.location.nativeElement),!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef},e.prototype.hide=function(){if(!this._componentRef)return this;this.onBeforeHide.emit(this._componentRef.instance);var e=this._componentRef.location.nativeElement;return e.parentNode.removeChild(e),this._contentRef.componentRef&&this._contentRef.componentRef.destroy(),this._componentRef.destroy(),this._viewContainerRef&&this._contentRef.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._contentRef=null,this._componentRef=null,this._removeGlobalListener(),this.onHidden.emit(),this},e.prototype.toggle=function(){this.isShown?this.hide():this.show()},e.prototype.dispose=function(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()},e.prototype.listen=function(e){var t=this;this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,e.target=e.target||this._elementRef.nativeElement;var n=this._listenOpts.hide=function(){return e.hide?e.hide():void t.hide()},i=this._listenOpts.show=function(n){e.show?e.show(n):t.show(n),n()};return this._unregisterListenersFn=function(e,t){var n=function(e,n){void 0===n&&(n=Fh);var i=(t.triggers||"").trim();if(0===i.length)return[];var r=i.split(/\s+/).map(function(e){return e.split(":")}).map(function(e){var t=n[e[0]]||e;return new Lh(t[0],t[1])}),s=r.filter(function(e){return e.isManual()});if(s.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===s.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}(),i=t.target;if(1===n.length&&n[0].isManual())return Function.prototype;var r=[],s=[],o=function(){s.forEach(function(e){return r.push(e())}),s.length=0};return n.forEach(function(n){var l=n.open===n.close,a=l?t.toggle:t.show;l||s.push(function(){return e.listen(i,n.close,t.hide)}),r.push(e.listen(i,n.open,function(){return a(o)}))}),function(){r.forEach(function(e){return e()})}}(this._renderer,{target:e.target,triggers:e.triggers,show:i,hide:n,toggle:function(e){t.isShown?n():i(e)}}),this},e.prototype._removeGlobalListener=function(){this._globalListener&&(this._globalListener(),this._globalListener=null)},e.prototype.attachInline=function(e,t){return this._inlineViewRef=e.createEmbeddedView(t),this},e.prototype._registerOutsideClick=function(){var e=this;if(this._componentRef&&this._componentRef.location&&this._listenOpts.outsideClick){var t=this._componentRef.location.nativeElement;setTimeout(function(){e._globalListener=function(t,n){return n.outsideClick?e._renderer.listen("document","click",function(e){n.target&&n.target.contains(e.target)||n.targets&&n.targets.some(function(t){return t.contains(e.target)})||n.hide()}):Function.prototype}(0,{targets:[t,e._elementRef.nativeElement],outsideClick:e._listenOpts.outsideClick,hide:function(){return e._listenOpts.hide()}})})}},e.prototype.getInnerComponent=function(){return this._innerComponent},e.prototype._subscribePositioning=function(){var e=this;!this._zoneSubscription&&this.attachment&&(this._zoneSubscription=this._ngZone.onStable.subscribe(function(){e._componentRef&&e._posService.position({element:e._componentRef.location,target:e._elementRef,attachment:e.attachment,appendToBody:"body"===e.container})}))},e.prototype._unsubscribePositioning=function(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=null)},e.prototype._getContentRef=function(e,t){if(!e)return new jh([]);if(e instanceof si.K){if(this._viewContainerRef){var n=this._viewContainerRef.createEmbeddedView(e,t);return n.markForCheck(),new jh([n.rootNodes],n)}var i=e.createEmbeddedView({});return this._applicationRef.attachView(i),new jh([i.rootNodes],i)}if("function"==typeof e){var r=this._componentFactoryResolver.resolveComponentFactory(e),s=si.B.resolveAndCreate(this._providers.slice(),this._injector),o=r.create(s);return this._applicationRef.attachView(o.hostView),new jh([[o.location.nativeElement]],o.hostView,o)}return new jh([[this._renderer.createText(""+e)]])},e}(),Uh=new(function(){function e(){}return e.prototype.position=function(e,t){void 0===t&&(t=!0);var n,i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position")){var r=e.getBoundingClientRect();n={width:r.width,height:r.height,top:r.top,bottom:r.bottom,left:r.left,right:r.right}}else{var s=this.offsetParent(e);n=this.offset(e,!1),s!==document.documentElement&&(i=this.offset(s,!1)),i.top+=s.clientTop,i.left+=s.clientLeft}return n.top-=i.top,n.bottom-=i.top,n.left-=i.left,n.right-=i.left,t&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n},e.prototype.offset=function(e,t){void 0===t&&(t=!0);var n=e.getBoundingClientRect(),i=window.pageYOffset-document.documentElement.clientTop,r=window.pageXOffset-document.documentElement.clientLeft,s={height:n.height||e.offsetHeight,width:n.width||e.offsetWidth,top:n.top+i,bottom:n.bottom+i,left:n.left+r,right:n.right+r};return t&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s},e.prototype.positionElements=function(e,t,n,i){var r=i?this.offset(e,!1):this.position(e,!1),s=this.getAllStyles(t),o={left:r.left,center:r.left+r.width/2-t.offsetWidth/2,right:r.left+r.width},l={top:r.top,center:r.top+r.height/2-t.offsetHeight/2,bottom:r.top+r.height},a=t.getBoundingClientRect(),h=n.split(" ")[0]||"top",u=n.split(" ")[1]||"center",c={height:a.height||t.offsetHeight,width:a.width||t.offsetWidth,top:0,bottom:a.height||t.offsetHeight,left:0,right:a.width||t.offsetWidth};if("auto"===h){var d=this.autoPosition(c,r,t,u);d||(d=this.autoPosition(c,r,t)),d&&(h=d),t.classList.add(h)}switch(h){case"top":c.top=r.top-(t.offsetHeight+parseFloat(s.marginBottom)),c.bottom+=r.top-t.offsetHeight,c.left=o[u],c.right+=o[u];break;case"bottom":c.top=l[h],c.bottom+=l[h],c.left=o[u],c.right+=o[u];break;case"left":c.top=l[u],c.bottom+=l[u],c.left=r.left-(t.offsetWidth+parseFloat(s.marginRight)),c.right+=r.left-t.offsetWidth;break;case"right":c.top=l[u],c.bottom+=l[u],c.left=o[h],c.right+=o[h]}return c.top=Math.round(c.top),c.bottom=Math.round(c.bottom),c.left=Math.round(c.left),c.right=Math.round(c.right),c},e.prototype.autoPosition=function(e,t,n,i){return(!i||"right"===i)&&e.left+t.left-n.offsetWidth<0?"right":(!i||"top"===i)&&e.bottom+t.bottom+n.offsetHeight>window.innerHeight?"top":(!i||"bottom"===i)&&e.top+t.top-n.offsetHeight<0?"bottom":(!i||"left"===i)&&e.right+t.right+n.offsetWidth>window.innerWidth?"left":null},e.prototype.getAllStyles=function(e){return window.getComputedStyle(e)},e.prototype.getStyle=function(e,t){return this.getAllStyles(e)[t]},e.prototype.isStaticPositioned=function(e){return"static"===(this.getStyle(e,"position")||"static")},e.prototype.offsetParent=function(e){for(var t=e.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement},e}()),Gh=function(){function e(){}return e.prototype.position=function(e){var t=e.element,n=e.attachment,i=e.appendToBody;!function(e,t,r,s){var o=Uh.positionElements(e,t,n,i);t.style.top=o.top+"px",t.style.left=o.left+"px"}(Jn(e.target),Jn(t))},e}(),$h=function(){function e(e,t,n,i,r){this._componentFactoryResolver=e,this._ngZone=t,this._injector=n,this._posService=i,this._applicationRef=r}return e.prototype.createLoader=function(e,t,n){return new Bh(t,n,e,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)},e}(),Wh=function(){this.autoClose=!0},qh="undefined"!=typeof window&&window||{},Kh=function(){function e(e,t,n,i,r,s){this._elementRef=e,this._renderer=t,this._viewContainerRef=n,this._cis=i,this._config=r,this._state=s,this._isInlineOpen=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:Cr,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}return Object.defineProperty(e.prototype,"autoClose",{get:function(){return this._state.autoClose},set:function(e){this._state.autoClose=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisabled",{get:function(){return this._isDisabled},set:function(e){this._isDisabled=e,this._state.isDisabledChange.emit(e),e&&this.hide()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._showInline?this._isInlineOpen:this._dropdown.isShown},set:function(e){e?this.show():this.hide()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBs4",{get:function(){return!Xn()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_showInline",{get:function(){return!this.container},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:function(){return e.show()}}),this._subscriptions.push(this._state.toggleClick.subscribe(function(t){return e.toggle(t)})),this._subscriptions.push(this._state.isDisabledChange.filter(function(e){return e}).subscribe(function(t){return e.hide()})))},e.prototype.show=function(){var e=this;if(!this.isOpen&&!this.isDisabled)return this._showInline?(this._inlinedMenu||this._state.dropdownMenu.then(function(t){e._dropdown.attachInline(t.viewContainer,t.templateRef),e._inlinedMenu=e._dropdown._inlineViewRef,e.addBs4Polyfills()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),void this._state.isOpenChange.emit(!0)):void this._state.dropdownMenu.then(function(t){var n=e.dropup||"undefined"!=typeof e.dropup&&e.dropup;e._state.direction=n?"up":"down";var i=e.placement||(n?"top left":"bottom left");e._dropdown.attach(yr).to(e.container).position({attachment:i}).show({content:t.templateRef,placement:i}),e._state.isOpenChange.emit(!0)}).catch()},e.prototype.hide=function(){this.isOpen&&(this._showInline?(this.removeShowClass(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))},e.prototype.toggle=function(e){return this.isOpen||!e?this.hide():this.show()},e.prototype.ngOnDestroy=function(){for(var e=0,t=this._subscriptions;e<t.length;e++)t[e].unsubscribe();this._dropdown.dispose()},e.prototype.addBs4Polyfills=function(){Xn()||(this.addShowClass(),this.checkRightAlignment(),this.checkDropup())},e.prototype.addShowClass=function(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")},e.prototype.removeShowClass=function(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")},e.prototype.checkRightAlignment=function(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){var e=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",e?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",e?"0":"auto")}},e.prototype.checkDropup=function(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"))},e}(),Yh=function(){function e(e,t){var n=this;this._state=e,this._element=t,this.isDisabled=null,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(function(e){return n.isOpen=e})),this._subscriptions.push(this._state.isDisabledChange.subscribe(function(e){return n.isDisabled=e||null}))}return e.prototype.onClick=function(){this.isDisabled||this._state.toggleClick.emit(!0)},e.prototype.onDocumentClick=function(e){this._state.autoClose&&2!==e.button&&!this._element.nativeElement.contains(e.target)&&this._state.toggleClick.emit(!1)},e.prototype.onEsc=function(){this._state.autoClose&&this._state.toggleClick.emit(!1)},e.prototype.ngOnDestroy=function(){for(var e=0,t=this._subscriptions;e<t.length;e++)t[e].unsubscribe()},e}(),Zh=function(e,t,n){e.resolveDropdownMenu({templateRef:n,viewContainer:t})};class Qh{constructor(){}ngOnInit(){}}var Jh=si._2({encapsulation:0,styles:[[""]],data:{}}),Xh=si._2({encapsulation:0,styles:[[""]],data:{}}),eu=si._0("app-root",vr,function(e){return si._22(0,[(e()(),si._4(0,0,null,null,1,"app-root",[],null,null,null,ni,Xh)),si._3(1,49152,null,0,vr,[],null,null)],null,null)},{},{},[]),tu=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[$h,Gh,Cr,{provide:Wh,useValue:t||{autoClose:!0}}]}},e}(),nu=si._1(wr,[vr],function(e){return si._14([si._15(512,si.j,si.X,[[8,[Er,Sr,ra,oa,aa,ua,eu]],[3,si.j],si.v]),si._15(5120,si.s,si._13,[[3,si.s]]),si._15(4608,Ts,As,[si.s,[2,Rs]]),si._15(5120,si.c,si._5,[]),si._15(5120,si.q,si._10,[]),si._15(5120,si.r,si._11,[]),si._15(4608,Jo,Xo,[Hs]),si._15(6144,si.F,null,[Jo]),si._15(4608,Ao,Mo,[]),si._15(5120,io,function(e,t,n,i,r){return[new class extends so{constructor(e,t){super(e),this.ngZone=t,this.patchEvent()}patchEvent(){if(!Event||!Event.prototype)return;if(Event.prototype[bo])return;const e=Event.prototype[bo]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[yo]=!0),e&&e.apply(this,arguments)}}supports(e){return!0}addEventListener(e,t,n){let i=n;if(!e[mo]||si.x.isInAngularZone()&&!So(t))e.addEventListener(t,i,!1);else{let n=vo[t];n||(n=vo[t]=_o("ANGULAR"+t+"FALSE"));let r=e[n];const s=r&&r.length>0;r||(r=e[n]=[]);const o=So(t)?Zone.root:Zone.current;if(0===r.length)r.push({zone:o,handler:i});else{let e=!1;for(let t=0;t<r.length;t++)if(r[t].handler===i){e=!0;break}e||r.push({zone:o,handler:i})}s||e[mo](t,Ro,!1)}return()=>this.removeEventListener(e,t,i)}removeEventListener(e,t,n){let i=e[wo];if(!i)return e[Co].apply(e,[t,n,!1]);let r=vo[t],s=r&&e[r];if(!s)return e[Co].apply(e,[t,n,!1]);let o=!1;for(let l=0;l<s.length;l++)if(s[l].handler===n){o=!0,s.splice(l,1);break}o?0===s.length&&i.apply(e,[t,Ro,!1]):e[Co].apply(e,[t,n,!1])}}(e,t),new Po(n),new class extends so{constructor(e,t){super(e),this._config=t}supports(e){if(!To.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e))return!1;if(!window.Hammer)throw new Error(`Hammer.js is not loaded, can not bind ${e} event`);return!0}addEventListener(e,t,n){const i=this.manager.getZone();return t=t.toLowerCase(),i.runOutsideAngular(()=>{const r=this._config.buildHammer(e),s=function(e){i.runGuarded(function(){n(e)})};return r.on(t,s),()=>r.off(t,s)})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}(i,r)]},[Hs,si.x,Hs,Hs,Ao]),si._15(4608,ro,ro,[io,si.x]),si._15(135680,lo,lo,[Hs]),si._15(4608,go,go,[ro,lo]),si._15(6144,si.D,null,[go]),si._15(6144,oo,null,[lo]),si._15(4608,si.L,si.L,[si.x]),si._15(4608,Qs,Qs,[Hs]),si._15(4608,to,to,[Hs]),si._15(5120,ah,Yn,[Eh]),si._15(4608,Ih,Ih,[]),si._15(6144,Ah,null,[Ih]),si._15(135680,kh,kh,[Eh,si.u,si.i,si.p,Ah]),si._15(4608,Mh,Mh,[]),si._15(5120,Hh,Qn,[Vh]),si._15(5120,si.b,function(e){return[e]},[Hh]),si._15(4608,Gh,Gh,[]),si._15(4608,$h,$h,[si.j,si.x,si.p,Gh,si.g]),si._15(4608,Cr,Cr,[]),si._15(4608,hr,hr,[]),si._15(512,Vs,Vs,[]),si._15(1024,si.l,Ke,[]),si._15(1024,si.w,function(){return[Gn()]},[]),si._15(512,Vh,Vh,[si.p]),si._15(1024,si.d,function(e,t){return[function(e){return He("probe",ze),He("coreTokens",Object.assign({},no,(e||[]).reduce((e,t)=>(e[t.name]=t.token,e),{}))),()=>ze}(e),Zn(t)]},[[2,si.w],Vh]),si._15(512,si.e,si.e,[[2,si.d]]),si._15(131584,si.g,si.g,[si.x,si.Y,si.p,si.l,si.j,si.e]),si._15(512,si.f,si.f,[si.g]),si._15(512,al,al,[[3,al]]),si._15(1024,Nh,Wn,[[3,Eh]]),si._15(512,Qa,Ja,[]),si._15(512,Rh,Rh,[]),si._15(256,Ph,{},[]),si._15(1024,Cs,$n,[ws,[2,ys],Ph]),si._15(512,bs,bs,[Cs]),si._15(512,si.i,si.i,[]),si._15(512,si.u,si.I,[si.i,[2,si.J]]),si._15(1024,vh,function(){return[[{path:"",component:oi},{path:"istoric",component:pr},{path:"temperaturi",component:_r},{path:"setari",component:fr},{path:"retea",component:mr},{path:"**",component:oi}]]},[]),si._15(1024,Eh,Kn,[si.g,Qa,Rh,bs,si.p,si.u,si.i,vh,Ph,[2,yh],[2,mh]]),si._15(512,Oh,Oh,[[2,Nh],[2,Eh]]),si._15(512,tu,tu,[]),si._15(512,Wl,Wl,[]),si._15(512,Jl,Jl,[]),si._15(512,wr,wr,[]),si._15(256,Wh,{autoClose:!0},[])])});Object(si.R)(),ll().bootstrapModuleFactory(nu).catch(e=>console.log(e))},cv3d:function(e,t,n){"use strict";t.a=function(...e){let t=Number.POSITIVE_INFINITY,n=null,l=e[e.length-1];return Object(s.a)(l)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof l&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof i.a?e[0]:Object(o.a)(t)(new r.a(e,n))};var i=n("05/P"),r=n("sngF"),s=n("oZkc"),o=n("G3Tt")},fRUx:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},g2hh:function(e,t,n){"use strict";var i=n("05/P");class r extends i.a{constructor(e,t){super(),this.value=e,this.scheduler=t,this._isScalar=!0,t&&(this._isScalar=!1)}static create(e,t){return new r(e,t)}static dispatch(e){const{done:t,value:n,subscriber:i}=e;t?i.complete():(i.next(n),i.closed||(e.done=!0,this.schedule(e)))}_subscribe(e){const t=this.value,n=this.scheduler;if(n)return n.schedule(r.dispatch,0,{done:!1,value:t,subscriber:e});e.next(t),e.closed||e.complete()}}t.a=r},gwp7:function(e,t,n){"use strict";const i={closed:!0,next(e){},error(e){throw e},complete(){}};t.a=i},iwAo:function(e,t,n){"use strict";t.a=(e=>e&&"number"==typeof e.length)},jLix:function(e,t,n){"use strict";t.a={e:{}}},oZkc:function(e,t,n){"use strict";t.a=function(e){return e&&"function"==typeof e.schedule}},rhNu:function(e,t,n){"use strict";t.a=function(e,t,n=Number.POSITIVE_INFINITY){return function(s){return"number"==typeof t&&(n=t,t=null),s.lift(new class{constructor(e,t,n=Number.POSITIVE_INFINITY){this.project=e,this.resultSelector=t,this.concurrent=n}call(e,t){return t.subscribe(new class extends r.a{constructor(e,t,n,i=Number.POSITIVE_INFINITY){super(e),this.project=t,this.resultSelector=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){this.add(Object(i.a)(this,e,t,n))}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()}notifyNext(e,t,n,i,r){this.resultSelector?this._notifyResultSelector(e,t,n,i):this.destination.next(t)}_notifyResultSelector(e,t,n,i){let r;try{r=this.resultSelector(e,t,n,i)}catch(e){return void this.destination.error(e)}this.destination.next(r)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}(e,this.project,this.resultSelector,this.concurrent))}}(e,t,n))}};var i=n("t0Wy"),r=n("7wpj")},sngF:function(e,t,n){"use strict";var i=n("05/P"),r=n("g2hh"),s=n("P6aB"),o=n("oZkc");class l extends i.a{constructor(e,t){super(),this.array=e,this.scheduler=t,t||1!==e.length||(this._isScalar=!0,this.value=e[0])}static create(e,t){return new l(e,t)}static of(...e){let t=e[e.length-1];Object(o.a)(t)?e.pop():t=null;const n=e.length;return n>1?new l(e,t):1===n?new r.a(e[0],t):new s.a(t)}static dispatch(e){const{array:t,index:n,count:i,subscriber:r}=e;n>=i?r.complete():(r.next(t[n]),r.closed||(e.index=n+1,this.schedule(e)))}_subscribe(e){const t=this.array,n=t.length,i=this.scheduler;if(i)return i.schedule(l.dispatch,0,{array:t,index:0,count:n,subscriber:e});for(let r=0;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}}t.a=l},t0Wy:function(e,t,n){"use strict";var i=n("2K0D"),r=n("iwAo"),s=n("2mbX"),o=n("tiL7"),l=n("05/P"),a=n("Lq4y"),h=n("WJ2g");class u extends h.a{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var c=n("CdVW");t.a=function(e,t,n,h){let d=new u(e,n,h);if(d.closed)return null;if(t instanceof l.a)return t._isScalar?(d.next(t.value),d.complete(),null):(d.syncErrorThrowable=!0,t.subscribe(d));if(Object(r.a)(t)){for(let e=0,n=t.length;e<n&&!d.closed;e++)d.next(t[e]);d.closed||d.complete()}else{if(Object(s.a)(t))return t.then(e=>{d.closed||(d.next(e),d.complete())},e=>d.error(e)).then(null,e=>{i.a.setTimeout(()=>{throw e})}),d;if(t&&"function"==typeof t[a.a]){const e=t[a.a]();for(;;){let t=e.next();if(t.done){d.complete();break}if(d.next(t.value),d.closed)break}}else if(t&&"function"==typeof t[c.a]){const i=t[c.a]();if("function"==typeof i.subscribe)return i.subscribe(new u(e,n,h));d.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{const e=`You provided ${Object(o.a)(t)?"an invalid object":`'${t}'`} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.";d.error(new TypeError(e))}}return null}},tiL7:function(e,t,n){"use strict";t.a=function(e){return null!=e&&"object"==typeof e}},xEcM:function(e,t,n){"use strict";const i=n("2K0D").a.Symbol,r="function"==typeof i&&"function"==typeof i.for?i.for("rxSubscriber"):"@@rxSubscriber";t.a=r}},[0]);